!function(l,n){l.addEventListener("DOMContentLoaded",function(){var e=l.getElementById("osm-sales-chart").getContext("2d");new Chart(e,{type:"bar",data:{labels:n.getOptions("labels"),datasets:[{label:n.JText._("OSM_SALES_INCOME"),backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:n.getOptions("sales"),fill:!1}]},plugins:[ChartDataLabels],options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},plugins:{datalabels:{anchor:"end",align:"top",font:{weight:"bold"}}}}})}),reloadSalesChart=function(){var e=l.getElementById("plan_id").value,t=n.getOptions("ajaxUrl")+"&plan_id="+e;n.request({url:t,method:"POST",headers:{"Content-Type":"application/json"},onSuccess:function(e){var t=JSON.parse(e),a=l.getElementById("osm-sales-chart").getContext("2d");new Chart(a,{type:"bar",data:{labels:t.labels,datasets:[{label:n.JText._("OSM_SALES_INCOME"),backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:t.sales,fill:!1}]},plugins:[ChartDataLabels],options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},plugins:{datalabels:{anchor:"end",align:"top",font:{weight:"bold"}}}}})},onError:function(e){alert(e.statusText)}})}}(document,Joomla);
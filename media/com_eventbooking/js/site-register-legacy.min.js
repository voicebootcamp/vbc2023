!function(d,r){calculateIndividualRegistrationFee=function(e){var a=r("#btn-submit"),n=r("#ajax-loading-animation"),i=r("#total_amount"),o=r("#amount");a.attr("disabled","disabled"),n.show();var m=Joomla.getOptions("euVatNumberField"),t='select.ticket_type_quantity, #adminForm input[name="event_id"], #adminForm input[name="coupon_code"], #adminForm .payment-calculation input[type="text"], #adminForm .payment-calculation input[type="number"], #adminForm .payment-calculation input[type="checkbox"]:checked, #adminForm .payment-calculation input[type="radio"]:checked, #adminForm .payment-calculation select, #adminForm input.eb-hidden-field:hidden, #adminForm select[name="country"], #adminForm select[name="state"]';d.getElementById("tickets_members_information")&&(t+=', #tickets_members_information input[type="text"], #tickets_members_information input[type="text"], #tickets_members_information input[type="url"], #tickets_members_information input[type="email"] ,#tickets_members_information input[type="hidden"], #tickets_members_information  input[type="number"], #tickets_members_information input[type="checkbox"]:checked, #tickets_members_information input[type="radio"]:checked, #tickets_members_information select, #tickets_members_information textarea'),m&&(t=t+', #adminForm input[name="'+m+'"]');var l=Joomla.getOptions("calculateIndividualRegistrationFeeUrl");l=l||siteUrl+"index.php?option=com_eventbooking&task=register.calculate_individual_registration_fee"+langLinkForAjax,r("input:radio[name^=payment_method]").length?t+=", input:radio[name^=payment_method]:checked":t+=", input[name^=payment_method]",r.ajax({type:"POST",url:l,data:r(t),dataType:"json",success:function(t){a.removeAttr("disabled"),n.hide(),i.val(t.total_amount),r("#discount_amount").val(t.discount_amount),r("#tax_amount").val(t.tax_amount),r("#payment_processing_fee").val(t.payment_processing_fee),o.val(t.amount),r("#deposit_amount").val(t.deposit_amount),(o.length||i.length)&&0==t.payment_amount?r(".payment_information").css("display","none"):(r(".payment_information").css("display",""),updatePaymentMethod()),1==t.coupon_valid?r("#coupon_validate_msg").hide():(a.attr("disabled","disabled"),r("#coupon_validate_msg").show()),1==r("#payment_type").val()?r("#deposit_amount_container").show():r("#deposit_amount_container").hide(),void 0!==e&&r("#tickets_members_information").html(t.tickets_members),m&&(1==t.show_vat_number_field?r("#field_"+m).show():r("#field_"+m).hide(),1==t.vat_number_valid?r("#vatnumber_validate_msg").hide():r("#vatnumber_validate_msg").show())},error:function(t,e){alert(e)}})},calculateGroupRegistrationFee=function(){var e=r("#btn-process-group-billing"),a=r("#ajax-loading-animation"),n=r("#total_amount"),i=r("#amount");e.attr("disabled","disabled"),a.show();var o=Joomla.getOptions("euVatNumberField"),t='#adminForm input[name="event_id"], #adminForm input[name="coupon_code"], #adminForm .payment-calculation input[type="text"], #adminForm .payment-calculation input[type="number"], #adminForm .payment-calculation input[type="checkbox"]:checked, #adminForm .payment-calculation input[type="radio"]:checked, #adminForm .payment-calculation select, #adminForm input.eb-hidden-field:hidden, #adminForm select[name="country"], #adminForm select[name="state"]';o&&(t=t+', #adminForm input[name="'+o+'"]'),r("input:radio[name^=payment_method]").length?t+=", input:radio[name^=payment_method]:checked":t+=", input[name^=payment_method]";var m=Joomla.getOptions("calculateGroupRegistrationFeeUrl");m=m||siteUrl+"index.php?option=com_eventbooking&task=register.calculate_group_registration_fee"+langLinkForAjax,r.ajax({type:"POST",url:m,data:r(t),dataType:"json",success:function(t){e.removeAttr("disabled"),a.hide(),n.val(t.total_amount),r("#discount_amount").val(t.discount_amount),r("#tax_amount").val(t.tax_amount),r("#payment_processing_fee").val(t.payment_processing_fee),i.val(t.amount),r("#deposit_amount").val(t.deposit_amount),(i.length||n.length)&&0==t.payment_amount?r(".payment_information").css("display","none"):(r(".payment_information").css("display",""),updatePaymentMethod()),1==t.coupon_valid?r("#coupon_validate_msg").hide():(e.attr("disabled","disabled"),r("#coupon_validate_msg").show()),1==r("#payment_type").val()?r("#deposit_amount_container").show():r("#deposit_amount_container").hide(),o&&(1==t.show_vat_number_field?r("#field_"+o).show():r("#field_"+o).hide(),1==t.vat_number_valid?r("#vatnumber_validate_msg").hide():r("#vatnumber_validate_msg").show())},error:function(t,e){alert(e)}})},calculateCartRegistrationFee=function(){var e=r("#btn-submit"),a=r("#ajax-loading-animation"),n=r("#total_amount"),i=r("#amount");e.attr("disabled","disabled"),a.show();var o=Joomla.getOptions("euVatNumberField"),t='select.ticket_type_quantity, #adminForm input[name="coupon_code"], #adminForm .payment-calculation input[type="text"], #adminForm .payment-calculation input[type="number"], #adminForm .payment-calculation input[type="checkbox"]:checked, #adminForm .payment-calculation input[type="radio"]:checked, #adminForm .payment-calculation select, #adminForm input.eb-hidden-field:hidden, #adminForm select[name="country"], #adminForm select[name="state"]';o&&(t=t+', #adminForm input[name="'+o+'"]'),r("input:radio[name^=payment_method]").length?t+=", input:radio[name^=payment_method]:checked":t+=", input[name^=payment_method]";var m=Joomla.getOptions("calculateCartRegistrationFeeUrl");m=m||siteUrl+"index.php?option=com_eventbooking&task=cart.calculate_cart_registration_fee"+langLinkForAjax,r.ajax({type:"POST",url:m,data:r(t),dataType:"json",success:function(t){e.removeAttr("disabled"),a.hide(),n.val(t.total_amount),r("#discount_amount").val(t.discount_amount),r("#tax_amount").val(t.tax_amount),r("#payment_processing_fee").val(t.payment_processing_fee),i.val(t.amount),r("#deposit_amount").val(t.deposit_amount),(i.length||n.length)&&0==t.payment_amount?r(".payment_information").css("display","none"):(r(".payment_information").css("display",""),updatePaymentMethod()),1==t.coupon_valid?r("#coupon_validate_msg").hide():(e.attr("disabled","disabled"),r("#coupon_validate_msg").show()),o&&(1==t.show_vat_number_field?r("#field_"+o).show():r("#field_"+o).hide(),1==t.vat_number_valid?r("#vatnumber_validate_msg").hide():r("#vatnumber_validate_msg").show())},error:function(t,e){alert(e)}})},buildStateField=function(e,t,a){var n=r("#"+t),i=r("#"+e);if(i.length&&i.is("select")){var o="";n.length&&(o=n.val()),r.ajax({type:"GET",url:siteUrl+"index.php?option=com_eventbooking&task=get_states&country_name="+o+"&field_name="+e+"&state_name="+a+langLinkForAjax,success:function(t){r("#field_"+e+" .controls").length?r("#field_"+e+" .controls").html(t):r("#field_"+e+" .col-sm-9").length?r("#field_"+e+" .col-sm-9").html(t):r("#field_"+e+" .col-md9").length?r("#field_"+e+" .col-md-9").html(t):r("#field_"+e+" .uk-form-controls").html(t)},error:function(t,e){alert(e)}}),n.length&&n.change(function(){r.ajax({type:"GET",url:siteUrl+"index.php?option=com_eventbooking&task=get_states&country_name="+r(this).val()+"&field_name="+e+"&state_name="+a+langLinkForAjax,success:function(t){r("#field_"+e+" .controls").length?r("#field_"+e+" .controls").html(t):r("#field_"+e+" .col-sm-9").length?r("#field_"+e+" .col-sm-9").html(t):r("#field_"+e+" .col-md-9").length?r("#field_"+e+" .col-md-9").html(t):r("#field_"+e+" .uk-form-controls").html(t)},error:function(t,e){alert(e)}})})}}}(document,Eb.jQuery);
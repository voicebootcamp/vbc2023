window.JMapChart=function(e){var t=this,a={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0==e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1==e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0==e?0:1==e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return 1<=e?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,a=0,n=1;return 0==e?0:1==(e/=1)?1:(a||(a=.3),n<Math.abs(1)?(n=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/a))},easeOutElastic:function(e){var t=1.70158,a=0,n=1;return 0==e?0:1==(e/=1)?1:(a||(a=.3),n<Math.abs(1)?(n=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/a)+1)},easeInOutElastic:function(e){var t=1.70158,a=0,n=1;return 0==e?0:2==(e/=.5)?1:(a||(a=.3*1.5*1),n<Math.abs(1)?(n=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/n),e<1?n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/a)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/a)*.5+1)},easeInBack:function(e){return 1*(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return 1*((e=e/1-1)*e*(2.70158*e+1.70158)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-a.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*a.easeInBounce(2*e):.5*a.easeOutBounce(2*e-1)+.5}},n=e.canvas.width,l=e.canvas.height;this.PolarArea=function(a,n){t.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var l=n?L(t.PolarArea.defaults,n):t.PolarArea.defaults;return new o(a,l,e)},this.Radar=function(a,n){t.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var l=n?L(t.Radar.defaults,n):t.Radar.defaults;return new i(a,l,e)},this.Pie=function(a,n){t.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var l=n?L(t.Pie.defaults,n):t.Pie.defaults;return new s(a,l,e)},this.Doughnut=function(a,n){t.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var l=n?L(t.Doughnut.defaults,n):t.Doughnut.defaults;return new r(a,l,e)},this.Line=function(a,n){t.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var l=n?L(t.Line.defaults,n):t.Line.defaults;return new c(a,l,e)},this.Bar=function(a,n){t.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var l=n?L(t.Bar.defaults,n):t.Bar.defaults;return new u(a,l,e)};var o=function(e,t,a){var o,i,s,r,c,u,S;o=g([n,l])/2,o-=m([.5*t.scaleFontSize,.5*t.scaleLineWidth]),r=2*t.scaleFontSize,t.scaleShowLabelBackdrop&&(r+=2*t.scaleBackdropPaddingY,o-=1.5*t.scaleBackdropPaddingY),c=o,r=b(r,5),u=function(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,n=0;n<e.length;n++)e[n].value>t&&(t=e[n].value),e[n].value<a&&(a=e[n].value);return{maxValue:t,minValue:a,maxSteps:Math.floor(c/(.66*r)),minSteps:Math.floor(c/r*.5)}}(),S=t.scaleShowLabels?t.scaleLabel:null,t.scaleOverride?p(S,(s={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,labels:[]}).labels,s.steps,t.scaleStartValue,t.scaleStepWidth):s=f(c,u.maxSteps,u.minSteps,u.maxValue,u.minValue,S),i=o/s.steps,d(t,function(){for(var e=0;e<s.steps;e++)if(t.scaleShowLine&&(a.beginPath(),a.arc(n/2,l/2,i*(e+1),0,2*Math.PI,!0),a.strokeStyle=t.scaleLineColor,a.lineWidth=t.scaleLineWidth,a.stroke()),t.scaleShowLabels){a.textAlign="center",a.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily;var o=s.labels[e];if(t.scaleShowLabelBackdrop){var r=a.measureText(o).width;a.fillStyle=t.scaleBackdropColor,a.beginPath(),a.rect(Math.round(n/2-r/2-t.scaleBackdropPaddingX),Math.round(l/2-i*(e+1)-.5*t.scaleFontSize-t.scaleBackdropPaddingY),Math.round(r+2*t.scaleBackdropPaddingX),Math.round(t.scaleFontSize+2*t.scaleBackdropPaddingY)),a.fill()}a.textBaseline="middle",a.fillStyle=t.scaleFontColor,a.fillText(o,n/2,l/2-i*(e+1))}},function(o){var r=-Math.PI/2,c=2*Math.PI/e.length,u=1,d=1;t.animation&&(t.animateScale&&(u=o),t.animateRotate&&(d=o));for(var S=0;S<e.length;S++)a.beginPath(),a.arc(n/2,l/2,u*h(e[S].value,s,i),r,r+d*c,!1),a.lineTo(n/2,l/2),a.closePath(),a.fillStyle=e[S].color,a.fill(),t.segmentShowStroke&&(a.strokeStyle=t.segmentStrokeColor,a.lineWidth=t.segmentStrokeWidth,a.stroke()),r+=d*c},a)},i=function(e,t,a){var o,i,s,r,c,u;e.labels||(e.labels=[]),function(){o=g([n,l])/2,r=2*t.scaleFontSize;for(var i=0,s=0;s<e.labels.length;s++){a.font=t.pointLabelFontStyle+" "+t.pointLabelFontSize+"px "+t.pointLabelFontFamily;var u=a.measureText(e.labels[s]).width;i<u&&(i=u)}o-=m([i,t.pointLabelFontSize/2*1.5]),o=k(o-=t.pointLabelFontSize,null,0),c=o,r=b(r,5)}();var S=function(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,n=0;n<e.datasets.length;n++)for(var l=0;l<e.datasets[n].data.length;l++)e.datasets[n].data[l]>t&&(t=e.datasets[n].data[l]),e.datasets[n].data[l]<a&&(a=e.datasets[n].data[l]);return{maxValue:t,minValue:a,maxSteps:Math.floor(c/(.66*r)),minSteps:Math.floor(c/r*.5)}}();u=t.scaleShowLabels?t.scaleLabel:null,t.scaleOverride?p(u,(s={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,labels:[]}).labels,s.steps,t.scaleStartValue,t.scaleStepWidth):s=f(c,S.maxSteps,S.minSteps,S.maxValue,S.minValue,u),i=o/s.steps,d(t,function(){var r=2*Math.PI/e.datasets[0].data.length;if(a.save(),a.translate(n/2,l/2),t.angleShowLineOut){a.strokeStyle=t.angleLineColor,a.lineWidth=t.angleLineWidth;for(var c=0;c<e.datasets[0].data.length;c++)a.rotate(r),a.beginPath(),a.moveTo(0,0),a.lineTo(0,-o),a.stroke()}for(var u=0;u<s.steps;u++){if(a.beginPath(),t.scaleShowLine){a.strokeStyle=t.scaleLineColor,a.lineWidth=t.scaleLineWidth,a.moveTo(0,-i*(u+1));for(var h=0;h<e.datasets[0].data.length;h++)a.rotate(r),a.lineTo(0,-i*(u+1));a.closePath(),a.stroke()}if(t.scaleShowLabels){if(a.textAlign="center",a.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,a.textBaseline="middle",t.scaleShowLabelBackdrop){var d=a.measureText(s.labels[u]).width;a.fillStyle=t.scaleBackdropColor,a.beginPath(),a.rect(Math.round(-d/2-t.scaleBackdropPaddingX),Math.round(-i*(u+1)-.5*t.scaleFontSize-t.scaleBackdropPaddingY),Math.round(d+2*t.scaleBackdropPaddingX),Math.round(t.scaleFontSize+2*t.scaleBackdropPaddingY)),a.fill()}a.fillStyle=t.scaleFontColor,a.fillText(s.labels[u],0,-i*(u+1))}}for(var S=0;S<e.labels.length;S++){a.font=t.pointLabelFontStyle+" "+t.pointLabelFontSize+"px "+t.pointLabelFontFamily,a.fillStyle=t.pointLabelFontColor;var f=Math.sin(r*S)*(o+t.pointLabelFontSize),p=Math.cos(r*S)*(o+t.pointLabelFontSize);r*S==Math.PI||r*S==0?a.textAlign="center":r*S>Math.PI?a.textAlign="right":a.textAlign="left",a.textBaseline="middle",a.fillText(e.labels[S],f,-p)}a.restore()},function(o){var r=2*Math.PI/e.datasets[0].data.length;a.save(),a.translate(n/2,l/2);for(var c=0;c<e.datasets.length;c++){a.beginPath(),a.moveTo(0,o*(-1*h(e.datasets[c].data[0],s,i)));for(var u=1;u<e.datasets[c].data.length;u++)a.rotate(r),a.lineTo(0,o*(-1*h(e.datasets[c].data[u],s,i)));if(a.closePath(),a.fillStyle=e.datasets[c].fillColor,a.strokeStyle=e.datasets[c].strokeColor,a.lineWidth=t.datasetStrokeWidth,a.fill(),a.stroke(),t.pointDot){a.fillStyle=e.datasets[c].pointColor,a.strokeStyle=e.datasets[c].pointStrokeColor,a.lineWidth=t.pointDotStrokeWidth;for(var d=0;d<e.datasets[c].data.length;d++)a.rotate(r),a.beginPath(),a.arc(0,o*(-1*h(e.datasets[c].data[d],s,i)),t.pointDotRadius,2*Math.PI,!1),a.fill(),a.stroke()}a.rotate(r)}a.restore()},a)},s=function(e,t,a){for(var o=0,i=g([l/2,n/2])-5,s=0;s<e.length;s++)o+=e[s].value;d(t,null,function(s){var r=-Math.PI/2,c=1,u=1;t.animation&&(t.animateScale&&(c=s),t.animateRotate&&(u=s));for(var h=0;h<e.length;h++){var d=u*(e[h].value/o*(2*Math.PI));a.beginPath(),a.arc(n/2,l/2,c*i,r,r+d),a.lineTo(n/2,l/2),a.closePath(),a.fillStyle=e[h].color,a.fill(),t.segmentShowStroke&&(a.lineWidth=t.segmentStrokeWidth,a.strokeStyle=t.segmentStrokeColor,a.stroke()),r+=d}},a)},r=function(e,t,a){for(var o=0,i=g([l/2,n/2])-5,s=i*(t.percentageInnerCutout/100),r=0;r<e.length;r++)o+=e[r].value;d(t,null,function(r){var c=-Math.PI/2,u=1,h=1;t.animation&&(t.animateScale&&(u=r),t.animateRotate&&(h=r));for(var d=0;d<e.length;d++){var S=h*(e[d].value/o*(2*Math.PI));a.beginPath(),a.arc(n/2,l/2,u*i,c,c+S,!1),a.arc(n/2,l/2,u*s,c+S,c,!0),a.closePath(),a.fillStyle=e[d].color,a.fill(),t.segmentShowStroke&&(a.lineWidth=t.segmentStrokeWidth,a.strokeStyle=t.segmentStrokeColor,a.stroke()),c+=S}},a)},c=function(e,t,a){var o,i,s,r,c,u,S,m,g,b,v,k,M=0;!function(){o=l,a.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,g=1;for(var i=0;i<e.labels.length;i++){var s=a.measureText(e.labels[i]).width;g=g<s?s:g}n/e.labels.length<10?(M=45,n/e.labels.length<Math.cos(M)*g?(M=90,o-=g):o-=Math.sin(M)*g):o-=t.scaleFontSize,o-=5,r=t.scaleFontSize,c=o-=r}(),u=function(){for(var t=0,a=0;a<e.datasets.length;a++)for(var n=0;n<e.datasets[a].data.length;n++)parseInt(e.datasets[a].data[n])>t&&(t=parseInt(e.datasets[a].data[n]));return{maxValue:t,minValue:0,maxSteps:Math.floor(c/(.66*r)),minSteps:Math.floor(c/r*.5)}}(),S=t.scaleShowLabels?t.scaleLabel:"",t.scaleOverride?p(S,(s={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,labels:[]}).labels,s.steps,t.scaleStartValue,t.scaleStepWidth):s=f(c,u.maxSteps,u.minSteps,u.maxValue,u.minValue,S),i=Math.floor(c/s.steps),function(){var l=1;if(t.scaleShowLabels){a.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily;for(var o=0;o<s.labels.length;o++){var i=a.measureText(s.labels[o]).width;l=l<i?i:l}l+=10}b=n-l-g,m=Math.floor(b/(e.labels.length-1)),v=n-g/2-b-30,k=c+t.scaleFontSize/2}(),d(t,function(){a.lineWidth=t.scaleLineWidth,a.strokeStyle=t.scaleLineColor,a.beginPath(),a.moveTo(n-g/2+5,k),a.lineTo(n-g/2-b-5,k),a.stroke(),a.textAlign=0<M?(a.save(),"right"):"center",a.fillStyle=t.scaleFontColor;for(var l=0;l<e.labels.length;l++)a.save(),0<M?(a.translate(v+l*m,k+t.scaleFontSize),a.rotate(-M*(Math.PI/270)),a.fillText(e.labels[l],0,0),a.restore()):a.fillText(e.labels[l],v+l*m,k+t.scaleFontSize+3),a.beginPath(),a.moveTo(v+l*m,k+3),t.scaleShowGridLines&&0<l?(a.lineWidth=t.scaleGridLineWidth,a.strokeStyle=t.scaleGridLineColor,a.lineTo(v+l*m,5)):a.lineTo(v+l*m,k+3),a.stroke();function o(e,t){for(var a,n=["k","M","G","T","P","E","Z","Y"],l=n.length-1;l>=0;l--)if(e<=-(a=Math.pow(1e3,l+1))||e>=a)return+(e/a).toFixed(t)+n[l];return e}a.lineWidth=t.scaleLineWidth,a.strokeStyle=t.scaleLineColor,a.beginPath(),a.moveTo(v,k+5),a.lineTo(v,5),a.stroke(),a.textAlign="right",a.textBaseline="middle";for(var r=0;r<s.steps;r++)a.beginPath(),a.moveTo(v-3,k-(r+1)*i),t.scaleShowGridLines?(a.lineWidth=t.scaleGridLineWidth,a.strokeStyle=t.scaleGridLineColor,a.lineTo(v+b+5,k-(r+1)*i)):a.lineTo(v-.5,k-(r+1)*i),a.stroke(),t.scaleShowLabels&&a.fillText(o(s.labels[r],1),v-8,k-(r+1)*i)},function(n){for(var l=0;l<e.datasets.length;l++){a.strokeStyle=e.datasets[l].strokeColor,a.lineWidth=t.datasetStrokeWidth,a.beginPath(),a.moveTo(v,k-n*h(e.datasets[l].data[0],s,i));for(var o=1;o<e.datasets[l].data.length;o++)t.bezierCurve?a.bezierCurveTo(u(o-.5),c(l,o-1),u(o-.5),c(l,o),u(o),c(l,o)):a.lineTo(u(o),c(l,o));if(a.stroke(),t.datasetFill?(a.lineTo(v+m*(e.datasets[l].data.length-1),k),a.lineTo(v,k),a.closePath(),a.fillStyle=e.datasets[l].fillColor,a.fill()):a.closePath(),t.pointDot){a.fillStyle=e.datasets[l].pointColor,a.strokeStyle=e.datasets[l].pointStrokeColor,a.lineWidth=t.pointDotStrokeWidth;for(var r=0;r<e.datasets[l].data.length;r++)a.beginPath(),a.arc(v+m*r,k-n*h(e.datasets[l].data[r],s,i),t.pointDotRadius,0,2*Math.PI,!0),a.fill(),a.stroke()}}function c(t,a){return k-n*h(e.datasets[t].data[a],s,i)}function u(e){return v+m*e}},a)},u=function(e,t,a){var o,i,s,r,c,u,S,m,g,b,v,k,M,L=0;!function(){o=l,a.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,g=1;for(var i=0;i<e.labels.length;i++){var s=a.measureText(e.labels[i]).width;g=g<s?s:g}n/e.labels.length<g?(L=45,n/e.labels.length<Math.cos(L)*g?(L=90,o-=g):o-=Math.sin(L)*g):o-=t.scaleFontSize,o-=5,r=t.scaleFontSize,c=o-=r}(),u=function(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,n=0;n<e.datasets.length;n++)for(var l=0;l<e.datasets[n].data.length;l++)e.datasets[n].data[l]>t&&(t=e.datasets[n].data[l]),e.datasets[n].data[l]<a&&(a=e.datasets[n].data[l]);return{maxValue:t,minValue:a,maxSteps:Math.floor(c/(.66*r)),minSteps:Math.floor(c/r*.5)}}(),S=t.scaleShowLabels?t.scaleLabel:"",t.scaleOverride?p(S,(s={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,labels:[]}).labels,s.steps,t.scaleStartValue,t.scaleStepWidth):s=f(c,u.maxSteps,u.minSteps,u.maxValue,u.minValue,S),i=Math.floor(c/s.steps),function(){var l=1;if(t.scaleShowLabels){a.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily;for(var o=0;o<s.labels.length;o++){var i=a.measureText(s.labels[o]).width;l=l<i?i:l}l+=10}b=n-l-g,m=Math.floor(b/e.labels.length),M=(m-2*t.scaleGridLineWidth-2*t.barValueSpacing-(t.barDatasetSpacing*e.datasets.length-1)-(t.barStrokeWidth/2*e.datasets.length-1))/e.datasets.length,v=n-g/2-b,k=c+t.scaleFontSize/2}(),d(t,function(){a.lineWidth=t.scaleLineWidth,a.strokeStyle=t.scaleLineColor,a.beginPath(),a.moveTo(n-g/2+5,k),a.lineTo(n-g/2-b-5,k),a.stroke(),a.textAlign=0<L?(a.save(),"right"):"center",a.fillStyle=t.scaleFontColor;for(var l=0;l<e.labels.length;l++)a.save(),0<L?(a.translate(v+l*m,k+t.scaleFontSize),a.rotate(-L*(Math.PI/180)),a.fillText(e.labels[l],0,0),a.restore()):a.fillText(e.labels[l],v+l*m+m/2,k+t.scaleFontSize+3),a.beginPath(),a.moveTo(v+(l+1)*m,k+3),a.lineWidth=t.scaleGridLineWidth,a.strokeStyle=t.scaleGridLineColor,a.lineTo(v+(l+1)*m,5),a.stroke();a.lineWidth=t.scaleLineWidth,a.strokeStyle=t.scaleLineColor,a.beginPath(),a.moveTo(v,k+5),a.lineTo(v,5),a.stroke(),a.textAlign="right",a.textBaseline="middle";for(var o=0;o<s.steps;o++)a.beginPath(),a.moveTo(v-3,k-(o+1)*i),t.scaleShowGridLines?(a.lineWidth=t.scaleGridLineWidth,a.strokeStyle=t.scaleGridLineColor,a.lineTo(v+b+5,k-(o+1)*i)):a.lineTo(v-.5,k-(o+1)*i),a.stroke(),t.scaleShowLabels&&a.fillText(s.labels[o],v-8,k-(o+1)*i)},function(n){a.lineWidth=t.barStrokeWidth;for(var l=0;l<e.datasets.length;l++){a.fillStyle=e.datasets[l].fillColor,a.strokeStyle=e.datasets[l].strokeColor;for(var o=0;o<e.datasets[l].data.length;o++){var r=v+t.barValueSpacing+m*o+M*l+t.barDatasetSpacing*l+t.barStrokeWidth*l;a.beginPath(),a.moveTo(r,k),a.lineTo(r,k-n*h(e.datasets[l].data[o],s,i)+t.barStrokeWidth/2),a.lineTo(r+M,k-n*h(e.datasets[l].data[o],s,i)+t.barStrokeWidth/2),a.lineTo(r+M,k),t.barShowStroke&&a.stroke(),a.closePath(),a.fill()}}},a)};function h(e,t,a){var n=t.steps*t.stepValue,l=k((e-t.graphMin)/n,1,0);return a*t.steps*l}function d(e,t,o,i){var s=e.animation?1/k(e.animationSteps,Number.MAX_VALUE,1):1,r=a[e.animationEasing],c=e.animation?0:1;"function"!=typeof t&&(t=function(){}),S(function a(){c+=s,function(){var a=e.animation?k(r(c),null,0):1;i.clearRect(0,0,n,l),e.scaleOverlay?(o(a),t()):(t(),o(a))}(),c<=1?S(a):"function"==typeof e.onAnimationComplete&&e.onAnimationComplete()})}var S=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function f(e,t,a,n,l,o){var i,s,r,c,u;for(u=n-l,c=Math.floor(Math.log(u)/Math.LN10),i=Math.ceil(n/(1*Math.pow(10,c)))*Math.pow(10,c)-0,s=Math.pow(10,c),r=Math.round(i/s);r<a||t<r;)r<a?s/=2:s*=2,r=Math.round(i/s);var h=[];return p(o,h,r,0,s),{steps:r,stepValue:s,graphMin:0,labels:h}}function p(e,t,a,n,l){if(e)for(var o=1;o<a+1;o++)t.push(w(e,{value:(n+l*o).toFixed(M(l))}))}function m(e){return Math.max.apply(Math,e)}function g(e){return Math.min.apply(Math,e)}function b(e,t){return e||t}function v(e){return!isNaN(parseFloat(e))&&isFinite(e)}function k(e,t,a){return v(t)&&t<e?t:v(a)&&e<a?a:e}function M(e){return e%1!=0?e.toString().split(".")[1].length:0}function L(e,t){var a={};for(var n in e)a[n]=e[n];for(var n in t)a[n]=t[n];return a}var F={};function w(e,t){var a=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):F[e]=F[e]||w(document.getElementById(e).innerHTML);return t?a(t):a}};
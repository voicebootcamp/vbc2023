!function(t,i){Joomla.submitbutton=function(e){var a=t.adminForm;"cancel"===e&&i("#adminForm").validationEngine("detach"),Joomla.submitform(e,a)},showHideUserAccountFields=function(){var e=i('input:radio[name="user_type"]:checked').val();"0"===e?(i(".new-user").show(),i(".existing-user").hide(),i("#email").attr("class",'class="validate[required,custom[email],ajax[ajaxValidateGroupMemberEmail]]"').removeAttr("readonly")):"1"===e&&(i(".new-user").hide(),i(".existing-user").show(),i("#email").removeAttr("class").attr("readonly","readonly"))},populateExistingUserData=function(){var e=i("#existing_user_username").val(),a=i("#plan_id").val(),t=Joomla.getOptions("siteUrl");i.ajax({type:"POST",url:t+"/index.php?option=com_osmembership&task=groupmember.get_existing_user_data&username="+e+"&plan_id="+a,dataType:"json",success:function(e){var a=[];for(var t in e)value=e[t],i("input[name='"+t+"[]']").length?(i.isArray(value)?a=value:a.push(value),i("input[name='"+t+"[]']").val(a)):i("input[type='radio'][name='"+t+"']").length?i("input[name="+t+"][value="+value+"]").attr("checked","checked"):i("#"+t).val(value)}})},i(t).ready(function(){OSMVALIDATEFORM("#adminForm"),buildStateFields("state","country",Joomla.getOptions("selectedState")),showHideUserAccountFields(),i("input:radio[name^=user_type]").click(showHideUserAccountFields),i("#existing_user_username").change(populateExistingUserData)})}(document,jQuery);
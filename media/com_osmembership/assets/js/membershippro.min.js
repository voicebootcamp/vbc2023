!function(s){showHideDependFields=function(e,t,i){s("#btn-submit").attr("disabled","disabled"),s("#ajax-loading-animation").show(),s.ajax({type:"POST",url:siteUrl+"index.php?option=com_osmembership&task=register.get_depend_fields_status&field_id="+e+langLinkForAjax,data:s(".master-field input[type='checkbox']:checked, .master-field input[type='radio']:checked, .master-field select"),dataType:"json",success:function(e,t,i){s("#btn-submit").removeAttr("disabled"),s("#ajax-loading-animation").hide();for(var n=e.hide_fields.split(","),l=e.show_fields.split(","),a=0;a<n.length;a++)s("#"+n[a]).hide();for(a=0;a<l.length;a++)s("#"+l[a]).show()},error:function(e,t,i){alert(t)}})},populateSubscriberData=function(){var e=s("#user_id_id").val(),t=s("#plan_id").val();if(s("#username_container").hide(),s("#password_container").hide(),"undefined"!=typeof siteUrl)var i=siteUrl+"index.php?option=com_osmembership&task=get_profile_data&user_id="+e+"&plan_id="+t;else i="index.php?option=com_osmembership&task=get_profile_data&user_id="+e+"&plan_id="+t;s.ajax({type:"GET",url:i,dataType:"json",success:function(e){var t=[];for(var i in e)value=e[i],s("input[name='"+i+"[]']").length?(s.isArray(value)?t=value:t.push(value),s("input[name='"+i+"[]']").val(t)):s("input[type='radio'][name='"+i+"']").length?s("input[name="+i+"][value='"+value+"']").attr("checked","checked"):s("#"+i).val(value)}})},buildStateField=function(t,e,i){if(s("#"+t).length&&s("#"+t).is("select")){if(s("#"+e).length)var n=s("#"+e).val();else n="";s.ajax({type:"GET",url:siteUrl+"index.php?option=com_osmembership&task=register.get_states&country_name="+n+"&field_name="+t+"&state_name="+i+langLinkForAjax,success:function(e){s("#field_"+t+" .controls").length?s("#field_"+t+" .controls").html(e):s("#field_"+t+" .col-md-9").length?s("#field_"+t+" .col-md-9").html(e):s("#field_"+t+" .uk-form-controls").html(e)},error:function(e,t,i){alert(t)}}),s("#"+e).length&&s("#"+e).change(function(){s.ajax({type:"GET",url:siteUrl+"index.php?option=com_osmembership&task=register.get_states&country_name="+s(this).val()+"&field_name="+t+"&state_name="+i+langLinkForAjax,success:function(e){s("#field_"+t+" .controls").length?s("#field_"+t+" .controls").html(e):s("#field_"+t+" .col-md-9").length?s("#field_"+t+" .col-md-9").html(e):s("#field_"+t+" .uk-form-controls").html(e)},error:function(e,t,i){alert(t)}})})}},buildStateFields=function(t,e,i){var n=s("#"+e),l=s("#"+t);l.length&&l.is("select")&&n.length&&n.change(function(){s.ajax({type:"GET",url:siteUrl+"index.php?option=com_osmembership&task=register.get_states&country_name="+s(this).val()+"&field_name="+t+"&state_name="+i+langLinkForAjax,success:function(e){s("#field_"+t+" .controls").length?s("#field_"+t+" .controls").html(e):s("#field_"+t+" .col-md-9").length?s("#field_"+t+" .col-md-9").html(e):s("#field_"+t+" .uk-form-controls").html(e)},error:function(e,t,i){alert(t)}})})},OSMMaskInputs=function(e){e.querySelectorAll("input[data-input-mask]").forEach(function(e){var t=e.dataset.inputMask;"/"===t.slice(0,1)&&"/"===t.slice(-1)&&(t=(t=t.slice(1)).slice(0,-1),t=new RegExp(t));IMask(e,{mask:t})})}}(jQuery);
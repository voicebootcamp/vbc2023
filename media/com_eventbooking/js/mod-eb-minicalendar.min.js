!function(r,i){function e(){var e=r.getElementById("eb-minicalendar-container"),n=e.querySelector('input[name="itemId"]').value,t=e.querySelector('input[name="month_ajax"]').value,a=e.querySelector('input[name="year_ajax"]').value;"1"===t&&(t=13,a--),l(n,--t,a,e.querySelector('input[name="category_id_ajax"]').value)}function n(){var e=r.getElementById("eb-minicalendar-container"),n=e.querySelector('input[name="itemId"]').value,t=e.querySelector('input[name="month_ajax"]').value,a=e.querySelector('input[name="year_ajax"]').value;"12"===t&&(t=0,a++),l(n,++t,a,e.querySelector('input[name="category_id_ajax"]').value)}function t(){var e=r.getElementById("eb-minicalendar-container"),n=e.querySelector('input[name="itemId"]').value,t=e.querySelector('input[name="month_ajax"]').value,a=e.querySelector('input[name="year_ajax"]').value;l(n,t,--a,e.querySelector('input[name="category_id_ajax"]').value)}function u(){r.getElementById("prev_month").addEventListener("click",e),r.getElementById("next_month").addEventListener("click",n),r.getElementById("prev_year").addEventListener("click",t),r.getElementById("next_year").addEventListener("click",a)}function a(){var e=r.getElementById("eb-minicalendar-container"),n=e.querySelector('input[name="itemId"]').value,t=e.querySelector('input[name="month_ajax"]').value,a=e.querySelector('input[name="year_ajax"]').value;l(n,t,++a,e.querySelector('input[name="category_id_ajax"]').value)}function l(e,t,a,n){i.request({url:i.getOptions("siteUrl")+"/index.php?option=com_eventbooking&view=calendar&layout=mini&format=raw&month="+t+"&year="+a+"&id="+n+"&Itemid="+e,method:"POST",onSuccess:function(e){r.getElementById("calendar_result").innerHTML=e;var n=r.getElementById("eb-minicalendar-container");n.querySelector('input[name="month_ajax"]').value=t,n.querySelector('input[name="year_ajax"]').value=a,u()},onError:function(e){alert(e.statusText)}})}r.addEventListener("DOMContentLoaded",u)}(document,Joomla);
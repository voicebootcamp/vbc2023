!function(t,l){buildStateFields=function(e,t,o){var n=l("#"+t),i=l("#"+e);i.length&&i.is("select")&&n.length&&n.change(function(){l.ajax({type:"GET",url:siteUrl+"index.php?option=com_osmembership&task=register.get_states&country_name="+l(this).val()+"&field_name="+e+"&state_name="+o+langLinkForAjax,success:function(t){l("#field_"+e+" .controls").length?l("#field_"+e+" .controls").html(t):l("#field_"+e+" .col-md-9").length?l("#field_"+e+" .col-md-9").html(t):l("#field_"+e+" .uk-form-controls").html(t)},error:function(t,e,o){alert(e)}})})},OSMVALIDATEFORM=function(t){var e=Joomla.getOptions("maxErrorsPerField");l(t).validationEngine("attach",{maxErrorsPerField:e,onValidationComplete:function(t,e){return 1==e&&(t.on("submit",function(t){t.preventDefault()}),!0)}})},l(t).ready(function(){l.colorbox&&"undefined"==typeof tingle&&l(".osm-modal").colorbox({width:"80%",height:"80%",iframe:!0,scrolling:!0,rel:!1}),l("#osm_login_form").length&&OSMVALIDATEFORM("#osm_login_form"),buildStateFields("state","country",Joomla.getOptions("selectedState")),OSMVALIDATEFORM("#os_form"),!0===Joomla.getOptions("hidePaymentInformation")&&l(".payment_information").css("display","none")})}(document,jQuery);
!function(u,n){closeCartPopup=function(){n.colorbox.close()},checkOut=function(e){u.location.href=e},updateCart=function(e){if(checkQuantity()){var t=n("input[name='event_id[]']").map(function(){return n(this).val()}).get(),a=n("input[name='quantity[]']").map(function(){return n(this).val()}).get();n.ajax({type:"POST",url:EBBaseAjaxUrl+"&task=cart.update_cart&Itemid="+e+"&redirect=0&event_id="+t+"&quantity="+a,dataType:"html",beforeSend:function(){n("#add_more_item").before('<span class="wait"><i class="fa fa-2x fa-refresh fa-spin"></i></span>')},success:function(e){n("#cboxLoadedContent").html(e),n(".wait").remove()},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})}},removeCart=function(e,t){n.ajax({type:"POST",url:EBBaseAjaxUrl+"&task=cart.remove_cart&id="+e+"&Itemid="+t+"&redirect=0",dataType:"html",beforeSend:function(){n("#add_more_item").before('<span class="wait"><i class="fa fa-2x fa-refresh fa-spin"></i></span>')},success:function(e){n("#cboxLoadedContent").html(e),jQuery.colorbox.resize(),n(".wait").remove()},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},checkQuantity=function(){var e,t,a,n=[],r=[],i=u.querySelectorAll('input[name="quantity[]"]');[].slice.call(u.querySelectorAll('input[name="event_id[]"]')).forEach(function(e){n.push(e.value)}),[].slice.call(i).forEach(function(e){r.push(e.value)});for(var o=0;o<n.length;o++)if(e=parseInt(n[o],10),t=r[o],-1!==(a=arrEventIds.indexOf(e))&&(availableQuantity=arrQuantities[a],-1!=availableQuantity&&t>availableQuantity))return alert(EB_INVALID_QUANTITY+availableQuantity),i[o].focus(),!1;return!0}}(document,Eb.jQuery);
/*! For license information please see qxfb.js.LICENSE.txt */
(()=>{var e,t,n,r,o,i,a,l={22219:(e,t,n)=>{"use strict";n(77884);var r=n(67297),o=n(3209);const i=new(n.n(o)());n(60790);var a=n(28966),l=(n(31999),n(15699)),s=(n(3576),n(32444)),c=(n(18553),n(11820)),u=(n(88897),n(62257)),p=(n(55936),n(936)),f=n(45304),d=n.n(f),h=(n(46822),n(35381)),y=n(98819);h.default.config({placement:"bottomRight",bottom:50,duration:5,getContainer:function(){return window.document.body}});const m={log:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"qxuicon-smile";h.default.open({message:e,description:t,className:n,prefixCls:"qxui-notification",icon:(0,y.jsx)("i",{className:"".concat(r)})})},info:function(e){this.log("Info",e,"qxui-notification---info","qxuicon-meh")},warning:function(e){this.log("Warning",e,"qxui-notification---warning","qxuicon-meh")},success:function(e){this.log("Success",e,"qxui-notification---success")},error:function(e){this.log("Error",e,"qxui-notification---error","qxuicon-frown")}};var b=n(22960),v=n(41041),g="SET_CONTAINER_WIDTH",x="OPEN_EXPORT_IMPORT",j="OPEN_SAVE_AS_COLLECTION",w="OPEN_SEO",O="UPDATE_QID",S="REDO",P="UNDO",q="SET_STATE_FROM_HISTORY",C="UPDATE_NODE_FIELD",k="IMPORT_NODES",N="FORCE_COLUMN_RESIZE",E="UPDATE_TITLE",R="ADD_ROW_NODE",T="ADD_COLUMN_NODE",D="ADD_SECTION_NODE",A="ADD_ELEMENT_NODE",I="ADD_MY_ELEMENT_NODE",M="DUPLICATE_NODE",L="COPY_NODE",B="PASTE_NODE",F="INSERT_COPIED_NODES",U="DELETE_NODE",z="MOVE_NODE",H="CHANGE_ROW_LAYOUT",Q="WITHDRAW_ROW_LAYOUT",G="SET_NODE_VISIBILITY",W="APPLY_NODE_FORM",J="SET_DEVICE",V="PASTE_NODE_STYLE",X="PASTE_NODE_STYLE_SPECIAL",Z="RESET_NODE_STYLE",Y="DUPLICATE_COLUMN_NODE",K="APPEND_PRESET",ee="PREPEND_PRESET",te="REPLACE_PRESET",ne="SET_NODES",re="INSERT_NODES",oe="RESPONSIVE_MODE",ie="SAVED_NODES",ae="UPDATE_COLUMN_WIDTH",le="REPLACE_NODE",se="CHANGE_COLUMN_WIDTH",ce="SET_COLUMN_WIDTH",ue="EMPTY_NODES",pe="SET_ACTION",fe="SHOW_ELEMENT_MODAL",de="OPEN_JMEDIA",he="OPEN_TEMPLATES",ye="OPEN_SAVE_SECTION_MODAL",me="OPEN_ELEMENT_SAVE_MODAL",be="DISPLAY_CONDITIONS_MODAL",ve="DISPLAY_OPTIMIZATION_MODAL",ge="SHOW_FORM_MODAL",xe="SET_FORM_NODE",je="SET_DND_PLACEMENT";function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:pe,payload:{action:e?fe:null,path:e,index:t}}}function Oe(e){return{type:pe,payload:{action:e?ye:null,path:e}}}function _e(e){return{type:pe,payload:{action:e?me:null,path:e}}}function Se(e){return{type:pe,payload:{action:e?be:null}}}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:pe,payload:{action:e?he:null,path:e}}}function qe(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?w:null}}}function Ce(e){return{type:q,payload:e}}function ke(e,t,n){return{type:C,payload:{nodePath:e,valuePath:t,value:n}}}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:re,payload:{index:e,newNodes:t}}}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:D,payload:{index:e}}}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:R,payload:{path:e,index:t}}}function Te(e,t){return{type:H,payload:{path:e,layout:t}}}function De(e,t){return{type:z,payload:{from:e,to:t}}}function Ae(e,t){return{type:M,payload:{path:e,name:t}}}function Ie(e,t){return{type:le,payload:{path:e,node:t}}}function Me(e,t){return{type:L,payload:{path:e,node:t}}}function Le(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:B,payload:{path:e,bellow:t}}}function Be(e){return{type:V,payload:{path:e}}}function Fe(e,t){return{type:X,payload:{nodePath:e,stylePath:t}}}function Ue(e,t){return{type:U,payload:{path:e,name:t}}}function ze(e,t){return{type:G,payload:{path:e,visibility:t}}}function He(e){return{type:J,payload:{device:e}}}function Qe(e){return{type:O,payload:e}}var Ge=n(79339),We=n.n(Ge),Je=n(63095),Ve=n.n(Je),$e="BEFORE",Xe="AFTER",Ze={0:"text-danger",1:"text-success",2:"text-mute"},Ye={0:"qxuicon-times-circle",1:"qxuicon-check-circle",2:"qxuicon-archive"},Ke={mobile:"sm",tablet:"md",desktop:"lg"},et={sm:"mobile",md:"tablet",lg:"desktop"};function tt(){return window.quix.url}function nt(){return window.QuixLicenseStatus}function rt(){return window.QuixCollectionList}function ot(){return window.QuixPageList}function it(){return window.QUIX_ROOT_URL}function at(){return window.QUIXNXT_URL}function lt(){return window.QUIXNXT_JMEDIA_PATH_URL}function st(){return jQuery("#jform_token").attr("name")}function ct(){var e;return null===(e=Tr("jform_title_hidden"))||void 0===e?void 0:e.value}function ut(){return window.QuixBuilderType}function pt(){return window.QUIX_API_VALIDATION.success}function ft(){return window.Joomla}var dt=function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}},ht=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},yt=function(e){window.localStorage.removeItem(e)},mt=n(1572),bt=n.n(mt),vt=n(34030),gt=n.n(vt),xt=n(6266),jt=n.n(xt),wt=n(22866);function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function _t(e){return!e||"string"==typeof e&&""===e.trim()||!(!Array.isArray(e)||0!==e.length)||"object"===Ot(e)&&0===Object.keys(e).length}function St(e){return e?e.split("_").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join(" "):e}function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,r={lg:"Desktop",md:"Tablet",sm:"Phone",xs:"Phone"};return void 0!==r[e]&&(n=r[e]),!n&&Object.values(r).includes(e)&&(n=Object.keys(r)[Object.values(r).indexOf(e)]),n?t?n.toLowerCase():n:null}function qt(e){return _t(e)?"":("object"===Ot(e)&&void 0!==e.source&&(e=e.source),bt()(e,"data:image")||bt()(e,"http")||bt()(e,"//")?(t=e,(bt()(e,"https://getquix.net")||bt()(e,"http://getquix.net"))&&(t=(t=e.replace("https://getquix.net","https://quix.b-cdn.net")).replace("http://getquix.net","https://quix.b-cdn.net"))):t=bt()(e,"media")||bt()(e,window.quix.image_path)?tt()+"/"+e:lt()+e.replace(/^\//,""),t);var t}function Ct(e){var t=new URL(e);return t.host="quix.b-cdn.net",t.protocol="https:",t.toString()}var kt=n(55254),Nt=n.n(kt);Nt().config({driver:[Nt().WEBSQL,Nt().INDEXEDDB,Nt().LOCALSTORAGE],name:"Quix@v4.x.x Cache Storage"});var Et,Rt=function(e){return Nt().getItem(e)},Tt=function(e,t){return Nt().setItem(e,t)},Dt=function(e){return new Promise((function(t,n){var r=[];for(var o in e)if(e.hasOwnProperty(o))if("string"==typeof e[o]||Array.isArray(e[o]))r.push(Tt(o,e[o]));else for(var i in e[o])e[o].hasOwnProperty(i)&&e[o][i]&&r.push(Tt("".concat(o,"-").concat(i),e[o][i]));Promise.all(r).then((function(){t()})).catch(n)}))},At=function(){return ar(Et)},It=function(e){return Et.find((function(t){return t.slug===e})).thumb_file},Mt=function(e){return Rt("".concat(e,"-html"))},Lt=function(e){return Rt("".concat(e,"-schema"))},Bt=n(41578),Ft=n.n(Bt),Ut=n(22898),zt=n.n(Ut);function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(){$t=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=x(a,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function p(){}function f(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,o)&&(h=m);var b=d.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function r(o,i,a,l){var s=c(e[o],e,i);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==Ht(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(s.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=d,l(b,"constructor",d),l(d,"constructor",f),f.displayName=l(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(g.prototype),l(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(b),l(b,a,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Xt(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Zt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xt(i,r,o,a,l,"next",e)}function l(e){Xt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Yt(e){return Kt.apply(this,arguments)}function Kt(){return Kt=Zt($t().mark((function e(t){var n,r,o,i,a,l,s,c,u,p;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return a=Zt($t().mark((function e(t){var a,l,s,c,u;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zt()(t))for(a=Object.entries(t),l=0;l<a.length;l+=1)s=Jt(a[l],2),c=s[0],u=s[1],"image"==c||"src"==c||"poster"==c?""!=u&&u.base_domain!=it()&&function(){var e=Gt({},u),t=n.findIndex((function(t){return t.source===e.source}));""!=e.source&&null!=e.base_domain&&""!=e.base_domain&&e.base_domain!=it()&&-1===t&&(n.push(e),r++,o++),-1!=t&&(o++,console.log(e)),u.base_domain=it()}():i(u);else Ft()(t)&&t.map((function(e){i(e)}));case 1:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},i=function(e){return a.apply(this,arguments)},n=[],r=0,o=0,e.next=7,i(t);case 7:if(!(r>0)){e.next=15;break}return l=function(){var e=Zt($t().mark((function e(){var t,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n[s],(r=new FormData).set("data",JSON.stringify(t)),""==t.base_domain||""==t.source){e.next=11;break}return e.next=6,jt()({method:"post",url:quix.url+"/index.php?option=com_quix&task=api.downloadMedia&"+quix._token+"=1",data:r,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){0==e.data.data&&u++,504==e.status?m.warning("Failed to load resource: 504 (Gateway Time-out)"):200!=e.status&&m.warning(e.statusText,"Something is wrong."),p=!0})).catch((function(e){e&&m.warning(response.statusText,"Something is wrong.")}));case 6:if(!(++s>c-1)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,l();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m.info("We are downloading remote images to your local. Please wait..."),s=0,c=n.length,u=0,p=!1,e.next=13,l();case 13:u>0&&u<c?1==u?m.warning("Remote images downloaded partially. "+o+" images are found! \n"+(o-u)+" successfully downloaded!But "+u+" is failed."):m.warning("Remote images downloaded partially. "+o+" images are found! \n"+(o-u)+" successfully downloaded!But "+u+" are failed."):p&&!u?1==o?m.success("Remote image downloaded successfully."):m.success(o+" remote images are found & downloaded successfully."):m.warning("Download process has failed. Please download your image manually.");case 15:case"end":return e.stop()}}),e)}))),Kt.apply(this,arguments)}var en,tn={};setInterval((function(){var e=new Date;for(var t in tn)tn.hasOwnProperty(t)&&tn[t].time<e-3600&&delete tn[t]}),1e4),document.addEventListener("DOMContentLoaded",(function(){var e=Tr("q-store");try{en=e.contentWindow}catch(t){en=e.contentWindow}en.postMessage({action:"init"},"*"),window.addEventListener("message",(function(e){if("https://getquix.net"===e.origin){var t=e.data,n=t.result,r=t.requestId;tn[r]&&tn[r].callback(n)}}))}));var nn=function(e,t,n){return new Promise((function(r){var o=Math.trunc(1e6*Math.random());en.postMessage({action:e,payload:{key:t,value:n,requestId:o}},"*"),tn[o]={callback:r,time:new Date}}))},rn=function(e){return nn("get",e)},on=function(e,t){return nn("set",e,t)};function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function ln(){ln=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=x(a,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function p(){}function f(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,o)&&(h=m);var b=d.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function r(o,i,a,l){var s=c(e[o],e,i);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==an(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(s.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=d,l(b,"constructor",d),l(d,"constructor",f),f.displayName=l(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(g.prototype),l(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(b),l(b,a,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function sn(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e){return!["section","row","column"].includes(e.slug)}function dn(e){var t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["lg","md","xs"];Er.click();for(var r=e.props,o=r.node.visibility,i=r.path,a=un({},o),l=0,s=Object.keys(a);l<s.length;l++){var c=s[l];n.includes(c)&&(a[c]=t)}e.props.setNodeVisibility(i,a)},n=e.props,r=n.device,o=n.node.visibility,i=Object.values(o).filter((function(e){return!!e})).length>2?(0,y.jsxs)(wt.ck,{onClick:function(){return t(!1)},children:[(0,y.jsx)("i",{className:"qxuicon-low-vision"})," Disable for all"]},"setNodeVisibilityDisable"):(0,y.jsxs)(wt.ck,{onClick:function(){return t(!0)},children:[(0,y.jsx)("i",{className:"qxif-eye"})," Enable for all"]},"setNodeVisibilityEnable"),a=function(e){return e?(0,y.jsx)("i",{className:"qxif-eye"}):(0,y.jsx)("i",{className:"qxuicon-low-vision"})};return(0,y.jsxs)(wt.rS,{label:(0,y.jsxs)("span",{onClick:function(){return t(!o[r],[r])},children:[a(o[r]),o[r]?"Disable for ".concat(Pt(r)):"Enable for ".concat(Pt(r))]}),arrow:(0,y.jsx)("i",{className:"qxif-caret-right"}),children:[i,["lg","md","xs"].map((function(e){return e!==r?(0,y.jsxs)(wt.ck,{onClick:function(){return t(!o[e],[e])},children:[a(o[e])," ",o[e]?"Disable":"Enable"," for ",Pt(e)]},e):null}))]},"visibilitySubmenu")}function hn(e){return["section","row","column","element"].indexOf(e)}function yn(e,t){var n=hn(e),r=hn(t);return n<=r&&r-n<=1}function mn(e){var t,n,r,o=[];if(e.props.node.id&&o.push((0,y.jsxs)(wt.ck,{onClick:function(){return e.props.copyNode(e.props.path)},children:[(0,y.jsx)("i",{className:"qxuicon-clipboard"})," Copy"]},"copy")),null===(t=e.props.copiedNode)||void 0===t||!t.id)return o;var i=function(){var t,n=(t=ln().mark((function t(){var n,r,o=arguments;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(o.length>0&&void 0!==o[0])||o[0],t.next=3,rn("qx-node").then((function(e){return e}));case 3:return r=t.sent,t.next=6,Yt(r);case 6:e.props.pasteNode(e.props.path,n),m.success("Pasted successfully.");case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){sn(i,r,o,a,l,"next",e)}function l(e){sn(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return yn(fn(e.props.node)?"element":null===(n=e.props.node)||void 0===n?void 0:n.slug,fn(e.props.copiedNode)?"element":null===(r=e.props.copiedNode)||void 0===r?void 0:r.slug)&&o.push((0,y.jsxs)(wt.rS,{label:(0,y.jsxs)("span",{onClick:function(){i(!0),(0,(0,wt.av)({id:e.state.id}).hideAll)()},children:[" ",(0,y.jsx)("i",{className:"qxuicon-paste"})," Paste "]}),arrow:(0,y.jsx)("i",{className:"qxif-caret-right"}),children:[(0,y.jsxs)(wt.ck,{onClick:function(){return i(!1)},children:[(0,y.jsx)("i",{className:"qxuicon-paste"}),"Paste Above"]},"paste"),(0,y.jsxs)(wt.ck,{onClick:function(){return e.props.pasteNodeStyle(e.props.path)},children:[(0,y.jsx)("i",{className:"qxuicon-paint-brush"}),"Paste Style"]},"paste-style")]},"pasteSubmenu")),o}function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function vn(e){return function(e){if(Array.isArray(e))return _n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||On(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=On(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function On(e,t){if(e){if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(e,t):void 0}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sn=[],Pn=[],qn=[],Cn=[[[1,1]],[[1,2],[1,2]],[[1,3],[1,3],[1,3]],[[1,4],[1,4],[1,4],[1,4]],[[2,3],[1,3]],[[1,3],[2,3]],[[1,4],[3,4]],[[3,4],[1,4]],[[1,2],[1,4],[1,4]],[[1,4],[1,4],[1,2]],[[1,4],[1,2],[1,4]],[[1,5],[1,5],[1,5],[1,5],[1,5]]];function kn(e){return qn.indexOf(e)>=0}function Nn(e){return ar(Pn.find((function(t){return t.slug===e})))}function En(){var e=Nn("section"),t=lr(e.slug),n=e.form;return{id:t,hash:lr("edit-hash"),children:[],slug:e.slug,form:xn(xn({},n),{},{advanced:xn(xn({},n.advanced),{},{identifier:xn(xn({},n.advanced.identifier),{},{id:t})})}),visibility:xn({},e.visibility)}}function Rn(){var e=Nn("row"),t=lr(e.slug),n=e.form;return{id:t,hash:lr("edit-hash"),children:[],slug:e.slug,form:xn(xn({},n),{},{advanced:xn(xn({},n.advanced),{},{identifier:xn(xn({},n.advanced.identifier),{},{id:t})})}),visibility:xn({},e.visibility)}}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Nn("column"),n=lr(t.slug),r=In(e),o=t.form;return{id:n,hash:lr("edit-hash"),children:[],slug:t.slug,form:xn(xn({},o),{},{general:xn(xn({},o.general),{},{layout_fields_group:xn(xn({},o.general.layout_fields_group),{},{col_width:r})}),advanced:xn(xn({},o.advanced),{},{identifier:xn(xn({},o.advanced.identifier),{},{id:n,label:o.name})})}),visibility:xn({},t.visibility)}}function Dn(e){var t=Nn(e.slug),n=lr(e.slug);return{id:n,name:t.name,group:t.group,hash:lr("edit-hash"),children:[],slug:t.slug,form:xn(xn({},t.form),{},{advanced:xn(xn({},t.form.advanced),{},{identifier:xn(xn({},t.form.advanced.identifier),{},{id:n,label:t.slug})})}),visibility:xn({},t.visibility)}}function An(e){var t=ar(e),n=lr(e.slug);return{id:n,name:t.name,group:t.group,hash:lr("edit-hash"),children:[],slug:t.slug,form:xn(xn({},t.form),{},{advanced:xn(xn({},t.form.advanced),{},{identifier:xn(xn({},t.form.advanced.identifier),{},{id:n,label:t.slug})})}),visibility:xn({},t.visibility)}}function In(e){return{desktop:e=parseFloat((100*e).toFixed(5)),tablet:e,phone:100,unit:"%"}}function Mn(e,t,n){return Zn(e,[].concat(vn(t),[n+1]),(function(e,t){var n=t.length+1;if(n>12)return vn(t);var r=Tn(1/n);return Ln(Vn(t,e,r),r.form.general.layout_fields_group.col_width)}))}function Ln(e,t){return e.map((function(e){return e.form.general.layout_fields_group.col_width=xn({},t),e.hash=lr("qx-edit"),e}))}function Bn(e,t,n){return Zn(vn(e),vn(t),(function(e,t){return t[e]=n,t}))}function Fn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Zn(vn(e),vn(t),(function(e,t){var r=Vn(t,e+1,Wn(ar(t[e])));return n?Ln(r,In(1/r.length)):r}))}function Un(e,t,n){return $n(e,n,Wn(ar(t)))}function zn(e,t,n){var r=er(vn(e),vn(t));e=$n(vn(e),vn(n),r);var o=vn(t),i=o.pop(),a=vn(n),l=a.pop();if(o.join()===a.join()){var s=i>l?i+1:i;return Jn(vn(e),[].concat(vn(o),[s]))}return Jn(vn(e),vn(t))}function Hn(e,t){var n=e.form.advanced,r=t.form.advanced.identifier,o=r.id,i=r.class,a=r.acl;return xn(xn({},e),{},{form:xn(xn({},e.form),{},{advanced:xn(xn({},n),{},{identifier:xn(xn({},n.identifier),{},{id:o,class:i,acl:a})})})})}function Qn(e,t,n){return Zn(e,t,(function(e,t){return t[e]=Gn(t[e],n),t}))}function Gn(e,t){return t?Array.isArray(e)?e.map((function(e,n){return Gn(e,t[n])})):(Object.keys(e).forEach((function(n){void 0!==t[n]&&("object"===bn(e[n])?e[n]=Gn(e[n],t[n]):e[n]=t[n])})),e):e}function Wn(e){var t=Array.isArray(e);return t||(e=[e]),e=vn(e).map((function(e){var t;return e.id=lr(e.slug),e.form.advanced.identifier.id=e.id,null!==(t=e.children)&&void 0!==t&&t.length&&(e.children=Wn(e.children)),e})),t?e:e[0]}function Jn(e,t){return Zn(e,t,(function(e,t){return delete t[e],Array.isArray(t)?t.filter((function(e){return!!e})):t}))}function Vn(e,t,n){var r=e.slice(0,+t),o=e.slice(+t);return[].concat(vn(r),[n],vn(o))}function $n(e,t,n){return Zn(e,t,(function(e,t){return Vn(t,e,n)}))}function Xn(e,t,n){return Zn(e,t,(function(e,t){return t[e]=n,t}))}function Zn(e,t,n){var r=t.shift();return e=Array.isArray(e)?vn(e):xn({},e),0===t.length?n(r,e):(void 0===e[r]||(e[r]=Zn(e[r],t,n)),e)}function Yn(e,t,n,r){return Zn(e,t,(function(e,t){var o=t[e];return o.hash=lr("edit-hash"),t[e]=xn({},Kn(o,n,r)),t}))}function Kn(e,t,n){var r=t.shift();return void 0===e[r]?e:0===t.length?(e[r]=n,e):(e[r]=Kn(e[r],t,n),e)}function er(e,t){var n=t.shift();return e&&void 0!==e[n]?t.length>0?er(e[n],t):e[n]:null}function tr(e,t,n){return[].concat(vn(t),vn(Wn(n)))}function nr(e,t,n){return t.forEach((function(t,r){n=$n(vn(n),[].concat(vn(e),[r]),Tn(t))})),n}function rr(e,t){return Zn(e,t,(function(e,t){var n=t[e];if("row"!==n.slug)return t;var r=In(1/(n.children.length||1));return n.children=Ln(n.children,r),t[e]=n,t}))}function or(e){if(!Array.isArray(e)&&e.label&&(!e.schema||0===node.schema.length))return ir(e);var t={};return e.forEach((function(e,n){void 0===e.name?Array.isArray(e)?t[n]=ir(e):t[n]=e:t[e.name]=ir(e)})),0===Object.keys(t).filter((function(e){return!Number.isInteger(+e)})).length?Object.values(t):t}function ir(e){return"group-repeater"===e.type?e.value.map(or):e.value?Array.isArray(e.value)?((null===(t=e.units)||void 0===t?void 0:t.length)>0&&"object"===bn(e.value)&&e.units.includes(e.suffix)&&(e.value.unit=e.value.unit||e.suffix),or(e.value)):"object"===bn(e.value)&&e.value.label&&e.value.value?e.value.value:e.value:e.value;var t}function ar(e){if(void 0===e)return{};try{return JSON.parse(JSON.stringify(e))}catch(t){console.warn("JSON Object Parsing error.",e,t)}}function lr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="",n="abcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return e?"qx-".concat(e.replace(/^qx-/,"").replace(/-\d+$/,""),"-").concat(t):t}function sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image";if(!e||"object"!==bn(e))return[];if(Array.isArray(e))return e.flatMap((function(e){return sr(e,t)}));var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];o&&"object"===bn(o)&&(o.type&&o.source&&o.type===t?n.push(o.source):n=[].concat(vn(n),vn(sr(o,t))))}return n}function cr(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.props.copiedNode)return!1;var o=!1,i=fn(e.props.copiedNode)?"element":null===(t=e.props)||void 0===t||null===(n=t.copiedNode)||void 0===n?void 0:n.slug;if(e.props.copiedNode&&"element"===i&&r)o=!0;else if(e.props.node&&"element"===i){var a,l,s=fn(e.props.node)?"element":null===(a=e.props)||void 0===a||null===(l=a.node)||void 0===l?void 0:l.slug;o=yn(s,i)}return o}function ur(e){return function(e){if(Array.isArray(e))return pr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}We().cache(!0),We().extendFilter("wrap",(function(e,t){return"<".concat(t,"> ").concat(e," </").concat(t,">")})),We().extendFilter("json_decode",(function(e){return gt()(e)?"":JSON.parse(e)})),We().extendFilter("removeLines",(function(e){return null==e?void 0:e.replace(/(\r\n|\n|\r)/gm,"")})),We().extendFilter("link",(function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=null===(t=o[0])||void 0===t?void 0:t.url,a=null===(n=o[0])||void 0===n?void 0:n.target,l=null===(r=o[0])||void 0===r?void 0:r.nofollow,s="",c="";return o[1]&&(s='class="'+o[1]+'"'),o[2]&&(c=" "+o[2]),a=a?'target="_blank"':"",l=l?'rel="nofollow"':"",i?"<a ".concat(s,' href="').concat(i,'" ').concat(a," ").concat(l).concat(c,"> ").concat(e," </a>"):"".concat(e)})),We().extendFunction("inlineEditor",(function(e){var t=this.context.path,n=lr(this.context.advanced.identifier.id);return'id="inline-editable-'.concat(n,'" data-node-path="').concat(t,'" data-value-path="').concat(e,'"')})),We().extendFunction("startTag",(function(e,t){return"<".concat(e," ").concat(t,">")})),We().extendFunction("replaceAll",(function(e,t,n){return null==e?void 0:e.replaceAll(t,n)})),We().extendFunction("loadSvg",(function(e){return bt()(e,"<svg")||bt()(e,"<?xml")?e:'<i class="'.concat(e,'"></i>')})),We().extendFunction("icon",(function(e){return bt()(e,"<svg")||bt()(e,"<?xml")?e:"svg"===e.split(".").pop()?'<img src="'+tt()+"/"+e+'" alt="icon-alt" class="qx-preserve" qx-svg="" />':'<i class="'.concat(e,'"></i>')})),We().extendFunction("prepareWidthValue",(function(e){return e.unit?e:{unit:"%",value:e}})),We().extendFunction("prepareResponsiveValue",(function(e){if("object"!==fr(e))return{value:{},unit:"px"};if(void 0!==e.desktop)return e.unit=gt()(e.unit)?"px":e.unit,e;var t=e.value;return t.unit=void 0===e.unit?"px":e.unit,t})),We().extendFunction("prepareSvgSizeValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"object"==fr(e)?e:{value:e,unit:"px"}})),We().extendFunction("visibilityClass",(function(){return""})),We().extendFunction("visibilityClassNode",(function(){return""})),We().extendFunction("image",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(gt()(e))return"";t=t.replace(/(<([^>]+)>)/gi,"");var i=qt(e);return null!==o&&o.dimension?'<img draggable="false" data-src="'.concat(i,'" alt="').concat(t,'" class="').concat(n,'" width="').concat(o.dimension.width,'" height="').concat(o.dimension.height,'" ').concat(r," qx-img/>"):'<img data-width="100" data-height="100" draggable="false" data-src="'.concat(i,'" alt="').concat(t,'" class="').concat(n,'" ').concat(r," qx-img/>")})),We().extendFunction("imageUrl",(function(e){return gt()(e)?"":("object"===fr(e)&&void 0!==e.source&&(e=e.source),bt()(e,"data:image")||bt()(e,"http")?e:bt()(e,"libraries")||bt()(e,"media")||bt()(e,"images")?quix.url+"/"+e:lt()+e.replace(/^\//,""))})),We().extendFunction("rootUrl",(function(){return it()})),We().extendFunction("video",(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" playsInline controls ",o=t.link_type;if(["youtube","vimeo"].includes(o)){var i="youtube"===o?t.youtube_link:t.vimeo_link;return'<div id="video-'.concat(e,'" data-plyr-provider="').concat(o,'" data-plyr-embed-id="').concat(i,'"> Loading...</div>')}if("custom"===o&&null!==(n=t.custom_video)&&void 0!==n&&n.source){var a=t.custom_video.source,l=qt(t.video_poster.source),s=qt(a),c="video/"+a.split(".").pop();return'<video id="'.concat(e,'" poster="').concat(l,'" ').concat(r,'>\n    <source type="').concat(c,'" src="').concat(s,'" />\n    Your browser does not support the video tag.\n  </video>')}return'<p class="qx-alert qx-alert-warning qx-m-0">Please select video first!</p>'})),We().extendFunction("getJoomlaModule",(function(e,t){var n=st(),r="index.php?option=com_quix&task=api.getJoomlaModule&id=".concat(e,"&style=").concat(t,"&").concat(n,"=1");return new Promise((function(e,t){jt().get(r).then((function(t){var n=t.data.replace(/name=|form/gi,(function(e){return"x"+e}));e(n)})).catch((function(e){t(e)}))}))})),We().extendFunction("getQuixTemplate",(function(e){var t=st(),n="index.php?option=com_quix&task=api.getQuixTemplate&id=".concat(e,"&").concat(t,"=1");return new Promise((function(e,t){jt().get(n).then((function(t){var n=t.data.replace(/name=|form/gi,(function(e){return"x"+e}));e(n)})).catch((function(e){t(e)}))}))})),We().extendFunction("ElementApiCall",(function(e,t){var n=btoa(JSON.stringify(t)),r="".concat(tt(),"/index.php?option=com_quix&task=ajax&builder=frontend&element=").concat(e,"&").concat(st(),"=1&data=").concat(n);return new Promise((function(e,t){jt().get(r).then((function(t){(t=t.data).success?e(t.data):e(e.messages)})).catch((function(e){t(e)}))}))})),We().extendFunction("ajaxPostQuix",(function(e,t){var n=new FormData;for(var r in t)n.set(r,t[r]);var o="".concat(tt(),"/index.php?option=com_quix&task=ajax&builder=frontend&element=").concat(e,"&").concat(st(),"=1");return new Promise((function(e,t){jt().post(o,n).then((function(t){(t=t.data).success?e(t.data):e(e.messages)})).catch((function(e){t(e)}))}))})),We().extendFunction("prepareContent",(function(e,t){if(!t)return e;var n=st(),r="index.php?option=com_quix&task=api.prepareContent&".concat(n,"=1"),o=new FormData;return o.set("content",e),new Promise((function(e,t){jt()({method:"post",url:r,data:o,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){var n=t.data.replace(/name=|form/gi,(function(e){return"x"+e}));e(n)})).catch((function(e){t(e)}))}))})),We().extendFunction("startsWith",(function(e,t){return bt()(e,t)})),We().extendFunction("validateJoomlaCaptcha",(function(){return"true"})),We().extendFunction("captchaPublicKey",(function(){return dt("captcha-public-key")})),We().extendFunction("classNames",(function(){return Ve().apply(void 0,arguments).replace("_keys","")})),We().extendFunction("getOpacity",(function(e,t){return e.state[t].opacity})),We().extendFunction("wrapper",(function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n?"</"+e+">":"<"+e+">"})),We().extendFunction("formFooter",(function(){return""})),We().extendFunction("lazyBackground",(function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i||(i=null==o||null===(e=o.state)||void 0===e||null===(t=e.normal)||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.src)||void 0===r?void 0:r.source),i?"style=\"background-image:url('"+i+"');\"":""})),We().extendFunction("ifElementHasBackground",(function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=null==o||null===(e=o.state)||void 0===e||null===(t=e.normal)||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.src)||void 0===r?void 0:r.source;return console.log("ifElementHasBackground",i),!!i})),We().extendFunction("addIconStyle",(function(e,t){console.log("addIconStyle",t.properties.size);var n=t.properties.size;return"object"===fr(n)&&(n=n.value),'<style type="text/css">\n                    '.concat(e," i {color: ").concat(t.properties.color,";font-size: ").concat(n,"px;}\n                    ").concat(e," polygon,").concat(e," path {fill: ").concat(t.properties.color,";}\n                    ").concat(e," svg {width: ").concat(n,"px;}\n                </style>")})),We().extendFunction("allfield",(function(){return"[]"})),We().extendFunction("fieldsGroup",(function(e,t){return e[t]})),We().extendFunction("getQuixElementPath",(function(){return at()+"/app/visual-builder"})),We().extendFunction("raw",(function(e,t){var n=t||"";return'<img src="'.concat(at()+e,'" alt="').concat(n,'" />')})),We().extendFunction("mediaFile",(function(e,t){var n=t||"";return'<img src="'.concat(at()+e,'" alt="').concat(n,'" qx-svg=""/>')})),We().extendFunction("getFileContent",(function(e,t,n){var r=st(),o=btoa(t),i="".concat(tt(),"/index.php?option=com_quix&task=api.getFileContent&source=").concat(e,"&path=").concat(o,"&ext=").concat(n,"&").concat(r,"=1");return localStorage.getItem(i)||new Promise((function(e,t){jt().get(i).then((function(t){(t=t.data).success?(localStorage.setItem(i,t.data),e(t.data)):(localStorage.setItem(i,t.messages),e(e.messages))})).catch((function(e){t(e)}))}))})),window.lessThan=function(e,t){return e<t},We().extendFunction("lessThan",window.lessThan),window.greaterThan=function(e,t){return e>t},We().extendFunction("greaterThan",window.greaterThan),window.greaterThanSign=function(){return">"},We().extendFunction("greaterThanSign",window.greaterThanSign),We().extendFunction("field",(function(e){var t=this.context,n=t.advanced;return hr(e,{general:t.general,styles:t.styles,advanced:n})})),n.g.twig=We().twig;const dr=We().twig;function hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null===t)return!1;if(void 0!==t[e])return console.log("Found it","key: ".concat(e,", value: ").concat(t[e])),console.log([].concat(ur(n),[e]).join(".")),t[e];if("object"!==fr(t))return!1;for(var r=Object.keys(t),o=0,i=r;o<i.length;o++){var a=i[o],l=hr(e,t[a],[].concat(ur(n),[a]));if(l)return l}}function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function mr(e,t){if(e){if("string"==typeof e)return br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?br(e,t):void 0}}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vr={loadedElement:[]};function gr(e){return vr.Template.html[e]||null}vr.prepare=function(){return new Promise((function(e){if(vr._prepareCalled)e();else{var t=[];vr._prepareCalled=!0;var n=At().map((function(e){return e.slug}));vr.Template={html:{},styles:{},scripts:{},shared:{}};var r,o=function(e,t,n){return new Promise((function(r){e&&(vr.Template[t][n]=dr({id:"".concat(t,".").concat(n),allowInlineIncludes:!0,data:e})),r(!0)}))},i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=mr(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(n);try{var a=function(){var e,n=r.value;t.push(new Promise((function(e){var t;Promise.all([(t=n,Rt("".concat(t,"-macro"))),Mt(n)]).then((function(t){var r,i,a=(i=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(r,i)||mr(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],s=a[1];l&&(s=l+s),o(s,"html",n).then(e)}))}))),t.push((e=n,Rt("".concat(e,"-style"))).then((function(e){return o(e,"styles",n)}))),t.push(function(e){return Rt("".concat(e,"-script"))}(n).then((function(e){return o(e,"scripts",n)})))};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}t.push(Rt("animation.twig").then((function(e){dr({id:"animation.twig",data:e})}))),t.push(Rt("global.twig").then((function(e){dr({id:"global.twig",data:e})}))),Promise.all(t).then(e)}}))},vr._replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},vr.html=function(e,t,n){if(t=t||{},window.QUIX.Template.html[e])return window.QUIX.Template.html[e].renderAsync(Object.assign(t,{$,_,Assets:vr,QUIXNXT_JMEDIA_PATH_URL})).then((function(e){if(e=vr._replaceAll(e,"&lt;","<"),e=vr._replaceAll(e,"&gt;",">"),!n)return e;Br(n,e)}))},vr.style=function(e,t,n){var r,o;if(t=t||{},window.QUIX.Template.styles[e]){var i=(r=window.QUIX.Template.styles[e]).render.apply(r,(o=t,function(e){if(Array.isArray(e))return br(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||mr(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{$,_,Assets:vr,QUIXNXT_JMEDIA_PATH_URL}])),a=document.createElement("script");a.innerHTML=i,a.id=n?n.replace("#",""):e.replace("#",""),document.querySelector("script#"+n.replace("#",""))&&document.querySelector("script#"+n.replace("#","")).remove(),document.body.appendChild(a),vr.load(e,n)}},vr.script=function(e,t,n){if(t=t||{},window.QUIX.Template.scripts[e]){var r,o=window.QUIX.Template.scripts[e].render(Object.assign(t,{$,_,Assets:vr,QUIXNXT_JMEDIA_PATH_URL})),i=document.createElement("script");i.innerHTML=o,n?(r=n.replace("#",""),r+="-script"):(r=e.replace("#",""),r+="-script"),i.id=r,document.querySelector("script#"+r)&&document.querySelector("script#"+r).remove(),document.body.appendChild(i),vr.loadedElement.push(e)}},vr.render=function(e,t,n){if(Dr(e.replace(/^#/,"").split("-").shift()),t=Object.assign(t,{$,_,Assets:vr,QUIXNXT_JMEDIA_PATH_URL}),-1===e.indexOf("#"))return dr({allowInlineIncludes:!0,data:e}).render(t);var r=vr.html(e,t);if(null!==r&&"object"===yr(r))r.then((function(r){if(!n)return r;Br(n,r),vr.script(e,t)}));else{var o=Math.random().toFixed(4),i="<div id='"+e+"-"+o+"'><div>"+r+"</div></div>";if(!n)return i;Br(n,i),vr.script(e,t)}};var xr,jr,wr={document:null,window:null,mount_node:null,onLoad:[],loaded:!1};function Or(){return new Promise((function(e){if(wr.document)return e(wr.document);wr.onLoad.push((function(){e(wr.document)}))}))}function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.addEventListener("message",(function(e){var t=e.data.event;if(!wr.loaded&&"iframe-loaded"===t){var n,r=document.getElementById("quix-iframe-wrapper");try{n=r.contentDocument}catch(e){n=r.contentDocument}wr.document=n,wr.window=r.contentWindow,wr.mount_node=n.querySelector("#qx-fb-mount"),wr.mount_node.style.userSelect="none",wr.mount_node.style.msUserSelect="none",wr.mount_node.style.mozUserSelect="none",wr.mount_node.style.oUserSelect="none",wr.mount_node.style.webKitUserSelect="none",wr.mount_node.setAttribute("unselectable","on"),wr.mount_node.setAttribute("onselect","return false;"),wr.onLoad.forEach((function(e){return e()}))}}));var kr=null===(xr=window.document.getElementById("jform_token"))||void 0===xr?void 0:xr.getAttribute("name"),Nr=null===(jr=window.document.getElementById("jform_template_type"))||void 0===jr?void 0:jr.value,Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document,t=e.createElement("div");return t.width=1,t.height=1,t.style.opacity="0",e.body.appendChild(t),t}();function Rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document;return t.getElementsByClassName(e)}function Tr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document;return t.getElementById(e)}function Dr(e){var t;console.log("maybeInjectAssets");var n=null===(t=window.QUIX)||void 0===t?void 0:t.elementsAssets;n?Ar(e,n):Promise.all([Rt("js"),Rt("css")]).then((function(t){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(n,r)||qr(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];window.QUIX.elementAssets={js:i,css:a},Ar(e,window.QUIX.elementAssets)}))}function Ar(e,t){var n=t.js.find((function(t){return t.includes(e)}));n&&Ir(e,n),t.css.find((function(t){return t.includes(e)}))&&Ir(e,n)}function Ir(e,t){Or().then((function(n){if(!n.head.querySelector("#".concat(e,"-element-script"))){var r=n.createElement("script");r.src=t,r.id=e+"-element-script",n.head.append(r)}}))}var Mr={items:[],timer:null},Lr=0;function Br(e,t){if(e)return clearTimeout(Mr.timer),Mr.items.push({targetID:e,content:t}),Mr.timer=setTimeout(Br,20),void Lr++;var n;if(1===Mr.items.length){var r=Mr.items[0];(n=jQuery(r.targetID)).html(r.content)}else{n=jQuery("#qx-fb-mount").detach();var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qr(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(Mr.items);try{for(i.s();!(o=i.n()).done;){var a=o.value,l=n.find(a.targetID);l?l.html(a.content):n.append(a.content)}}catch(e){i.e(e)}finally{i.f()}jQuery(".app-mount").html(n)}console.log("backoff",Lr),Lr=0,Mr.timer=null,Mr.items=[]}function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(n,r){var o=gr(e.slug);if(!o)return r();Hr(e,{path:t.join(".")}).then((function(t){o.renderAsync(t).then((function(t){Or().then((function(r){Tr("".concat(e.id,"-preview"),r).innerHTML=t.replaceAll(/&gt;/g,">").replaceAll(/&lt;/g,"<"),n()}))})).catch((function(e){console.error("Could not render html",e),r()}))}))}))}function Ur(e){return new Promise((function(t,n){var r,o=(r=e.slug,vr.Template.styles[r]||null);if(!o)return n();var i=qxCss();Hr(e,{style:i}).then((function(e){o.renderAsync(e).then((function(e){e=e.replace(/\n+/g,"\n").trim(),console.log("Style output",e),t()})).catch((function(e){console.error("Could not render style",e),n()}))}))}))}function zr(e){return new Promise((function(t,n){var r,o=(r=e.slug,vr.Template.scripts[r]||null);if(!o)return n(e.slug+" renderScript failed!");Hr(e).then((function(r){o.renderAsync(r).then((function(n){var r,o;r=n,function(e){Or().then((function(t){var n=t.head.querySelector("#".concat(e));n&&n.remove()}))}(o="".concat(e.id,"-script-preview")),Or().then((function(e){var t=e.createElement("script");t.innerHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}(r),t.id=o,e.head.appendChild(t)})),t()})).catch((function(e){console.error("Could not render script",e),n()}))}))}))}function Hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){Lt(e.slug).then((function(r){n(Sr(Sr(Sr({},ar(e.form)),t),{},{mode:"builder",elementUrl:r.url}))})).catch(r)}))}function Qr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Or().then((function(r){var o=Tr(e,r);t?(t=n?t-1:t,o.setAttribute("style","flex: 0 0 ".concat(t,"px;max-width: ").concat(t,"px;"))):setTimeout((function(){o.removeAttribute("style")}),200)}))}function Gr(e,t){return"%"===e.unit?{unit:"px",desktop:t*e.desktop/100,tablet:t*e.tablet/100,phone:t*e.phone/100}:{unit:"%",desktop:+(100*e.desktop/t).toFixed(5),tablet:+(100*e.tablet/t).toFixed(5),phone:+(100*e.phone/t).toFixed(5)}}n(90610);var Wr=n(74464),Jr=(n(17184),n(10364));function Vr(e){var t=Sn.find((function(t){return t.slug===e.slug}));if(!t)throw new Error("Could not find schema for ".concat(e.slug));return t}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xr={lastAction:{},states:[]};function Zr(){return Xr.states.slice().reverse()}var Yr,Kr=[ue,C,B,V,X,Z,M,Y,U,D,R,T,A,z,q,re,G],eo=function(e){var t=e.getState;return function(e){return function(n){var r,o,i,a,l,s,c=e(n);if(Kr.includes(n.type)){var u,p,f,d,h=t(),y=h.nodes,m=y.nodes,b=y.clipboard,v=h.form.node,g=!1;switch(n.type){case ue:u="Clear Page Content",f="Deleted",d="qxuicon-trash";break;case A:u="".concat(n.payload.element.name),f="Added",d="qxuicon-plus-square";break;case T:u="Column",f="Added ",d="qxuicon-plus-square";break;case R:u="Row",f="Added",d="qxuicon-plus-square";break;case D:u="Section",f="Added",d="qxuicon-plus-square";break;case re:u="Template",f="Imported";break;case U:u="".concat(St(n.payload.name)),f="Deleted",d="qxuicon-trash";break;case Y:u="Column",f="Duplicated",d="qxuicon-clone";break;case G:u="".concat(St(n.payload.name)),f="Visibility Changed",d="qxuicon-eye";break;case M:u="".concat(St(n.payload.name)),f="Duplicated",d="qxuicon-clone";break;case B:u="".concat(St(null===(r=b.node)||void 0===r?void 0:r.slug)),f="Pasted",d="qxuicon-clone";break;case V:u="".concat(St(null===(o=b.node)||void 0===o?void 0:o.slug)),f="Pasted Style",d="qxuicon-crosshairs";break;case Z:u="".concat(St(n.payload.name)),f="Reset Style",d="qxuicon-undo";break;case z:u="Element",f="Moved",d="qxuicon-expand-arrows";break;case q:u="History",f="State Updated",d="qxuicon-history",g=Xr.states[Xr.states.length-1].act===f;break;case C:l=n,g=(a=Xr.lastAction).type===l.type&&a.payload.nodePath.join()===l.payload.nodePath.join()&&a.payload.valuePath.join()===l.payload.valuePath.join(),Xr.lastAction=ar(n);var x=St((s=n.payload.valuePath,function(e){if(Array.isArray(e))return $r(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).pop());u="".concat(St(null!==(i=null==v?void 0:v.slug)&&void 0!==i?i:"Element")),p="".concat(x),f="Updated",d="qxuicon-edit"}var j={state:ar(m),element:u,field:p,act:f,icon:d,id:lr("history")};g?Xr.states[Xr.states.length-1]=j:Xr.states.push(j),Xr.states.length>50&&Xr.states.shift(),console.log("Updated for",n,"Previous state",j,"All history",Zr())}return n.type===ge&&(Xr.lastAction={}),0===Xr.states.length&&Xr.states.push({state:ar(t().nodes.nodes),element:"Editing Started",icon:"qxuicon-history",id:lr("history")}),c}}};function to(e){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(e)}function no(e){return function(e){if(Array.isArray(e))return ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){return ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ao(e,t)}function lo(e,t){if(t&&("object"===to(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return so(e)}function so(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function co(e){return co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},co(e)}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var po=Jr.Z.Step,fo="OPEN_HISTORY_PANEL",ho=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?fo:null}}},yo={openHistoryPanel:ho,setNodes:Ce},mo=(0,v.$j)((function(e){return{visible:e.action.action===fo}}),yo)(Yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ao(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=co(r);if(o){var n=co(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return lo(this,e)});function a(){var e;oo(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return uo(so(e=i.call.apply(i,[this].concat(n))),"state",{histories:[],activeHistory:null}),uo(so(e),"setStateTo",(function(t){e.props.setNodes(t.state),e.setActiveHistory(t)})),uo(so(e),"setActiveHistory",(function(t){e.setState({activeHistory:t.id})})),uo(so(e),"setHistories",(function(){var t,n=Zr(),r=null===(t=no(n).shift())||void 0===t?void 0:t.id;e.setState({histories:n,activeHistory:r})})),uo(so(e),"getHistoriesView",(function(){var t=e.state,n=t.histories;return t.activeHistory,(0,y.jsx)(y.Fragment,{children:n.map((function(t){return(0,y.jsx)(po,{title:t.element,description:t.field?t.field+" "+t.act:t.act,icon:(0,y.jsx)("span",{className:t.icon}),onClick:function(n){e.setStateTo(t)}},t.id)}))})})),uo(so(e),"onClose",(function(){e.props.openHistoryPanel(!1)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.setHistories()}},{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&this.setHistories()}},{key:"render",value:function(){return console.log("Current active history",this.state.activeHistory),(0,y.jsx)(Wr.Z,{title:"History",width:320,onClose:this.onClose,visible:this.props.visible,className:"qx-history-panel",children:(0,y.jsx)(Jr.Z,{current:this.state.activeHistory,direction:"vertical",children:this.getHistoriesView()})})}}])&&io(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Yr;n(637);var bo=n(75985);function vo(e,t){var n=e.name.split(".").pop(),r=-1!==t.indexOf(n);return new Promise((function(t,n){if(r){var o=new FileReader;o.onload=function(e){t(o.result)},o.readAsText(e)}else n("invalid file type!!")}))}n(7554);var go=n(43152),xo=n(38201),jo=n.n(xo);function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},So(e,t)}function Po(e,t){if(t&&("object"===wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qo(e)}function qo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Co(e)}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var No=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&So(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Co(r);if(o){var n=Co(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Po(this,e)});function a(){var e;Oo(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ko(qo(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",jo()),ko(qo(e),"state",{id:Math.random()}),ko(qo(e),"elRef",b.createRef()),ko(qo(e),"registerDragHandler",(function(){!e.dragHandlerRegistered&&e.elRef.current&&(e.modalHeader=e.elRef.current.closest(".qxui-modal-header"),e.modalHeader.removeEventListener("mousedown",e.startDrag),e.modalHeader.addEventListener("mousedown",e.startDrag),e.dragHandlerRegistered=!0)})),ko(qo(e),"startDrag",(function(t){e.modal=t.target.closest(".qxui-modal"),e.qxIframeWrapper=document.querySelector(".qx-fb-frame"),e.lastPosition={x:t.screenX,y:t.screenY},Or().then((function(t){t.addEventListener("mousemove",e.onDrag),t.addEventListener("mouseup",e.stopDrag)})),t.target.ownerDocument.addEventListener("mousemove",e.onDrag),t.target.ownerDocument.addEventListener("mouseup",e.stopDrag)})),ko(qo(e),"onDrag",(function(t){var n=qo(e),r=n.modal,o=n.qxIframeWrapper,i=n.lastPosition,a=r.offsetLeft-(i.x-t.screenX),l=r.offsetTop-(i.y-t.screenY);a>=-250&&a<=o.clientWidth-250?r.style.left="".concat(a,"px"):e.stopDrag(t),l>=0&&l<=o.clientHeight-100?r.style.top="".concat(l,"px"):e.stopDrag(t),e.lastPosition={x:t.screenX,y:t.screenY}})),ko(qo(e),"stopDrag",(function(t){var n,r;Or().then((function(t){t.removeEventListener("mousemove",e.onDrag),t.removeEventListener("mouseup",e.stopDrag)})),null===(n=t.target.ownerDocument)||void 0===n||n.removeEventListener("mousemove",e.onDrag),null===(r=t.target.ownerDocument)||void 0===r||r.removeEventListener("mouseup",e.stopDrag),delete e.qxIframeWrapper,delete e.modal,delete e.lastPosition})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.registerDragHandler()}},{key:"componentDidUpdate",value:function(e,t,n){this.registerDragHandler()}},{key:"componentWillUnmount",value:function(){this.modalHeader&&this.modalHeader.removeEventListener("mousedown",this.startDrag)}},{key:"render",value:function(){var e,t=this.props,n=t.container,r=t.title,o=t.bodyStyle,i=t.children,a=t.className,l=t.classes,s=t.destroyOnClose,u=t.show,f=t.style,d=t.footer,h=t.close,m=t.onClose,b=t.width,v=t.closable,g=t.onCancel,x=(0,y.jsx)(p.default,{size:"large",icon:(0,y.jsx)("i",{className:"qxio-close"}),onClick:function(e){return h&&h(e)||m&&m(e)},children:"Close"},"close");d?d.push(x):d=x,l=Ve()(a,l);var j=this.props,w=j.expandable,O=j.overrideHeader,_=(0,y.jsxs)("div",{className:"qx-flex qx-flex-between",ref:this.elRef,children:[!0===O?r:(0,y.jsx)("span",{children:r}),!1!==w?(0,y.jsxs)(c.default,{title:"Toggle window size",children:[(0,y.jsx)(p.default,{type:"link",size:"small",onClick:function(){return window.adjustModalSize()},children:(0,y.jsx)("i",{className:"qxuicon-expand qx-light"})},"resize"),(0,y.jsx)(p.default,{id:"mdl-close",type:"link",size:"small",onClick:function(e){return h&&h(e)||m&&m(e)},children:(0,y.jsx)("i",{className:"qxio-close qx-light"})},"close")]},"resize"):null]});return(0,y.jsx)(go.Z,{width:b||450,visible:!!u,wrapClassName:l,title:_,style:f,footer:d||null,onCancel:!0===v?g:function(){return jQuery("body").addClass("qx-settings-fixed-left")},closable:!0===v,destroyOnClose:s||!1,getContainer:n||function(){return window.document.body},zIndex:5,mask:null!==(e=this.props.mask)&&void 0!==e&&e,maskClosable:!1,bodyStyle:o||null,children:u?i:null})}}])&&_o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);ko(No,"propTypes",{}),ko(No,"defaultProps",{style:{},className:"",show:!1,bottom:!1,dismissible:!0});const Eo=No;var Ro;function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ao(e){return Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(e)}function Io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lo(e,t)}function Bo(e,t){if(t&&("object"===Ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fo(e)}function Fo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uo(e)}function zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ho=bo.Z.Dragger,Qo="OPEN_NODE_IMPORTER",Go=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?Qo:null}}},Wo={openNodeImporter:Go},Jo=(0,v.$j)((function(e){return{visible:e.action.action===Qo}}),Wo)(Ro=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Uo(r);if(o){var n=Uo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bo(this,e)});function a(){var e;Io(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zo(Fo(e=i.call.apply(i,[this].concat(n))),"state",{process:!1}),zo(Fo(e),"onClose",(function(){e.props.openNodeImporter(!1)})),zo(Fo(e),"onFileUploadDone",(function(t){vo(t,["json"]).then((function(t){var n=JSON.parse(t),r={type:n.type,data:n.data},o=st(),i=new FormData;i.set("jform[data]",JSON.stringify(r)),i.set("jform[title]",n.title),i.set("jform[builder]","frontend"),i.set("jform[type]",n.type),i.set("jform[state]","1"),i.set("jform[id]","0"),i.set("id","0"),i.set("type","collection"),i.set(o,"1"),jt()({method:"post",url:quix.url+"/index.php?option=com_quix&task=collection.save",data:i,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){var n=t.data;"object"==Ao(n)?(n.success?m.success('Uploaded successfully to your collection! Visit "My Templates" to import.'):m.warning(n.message),e.onClose()):m.error(n)})).catch((function(){return e.setState({process:!1})}))}))})),e}return t=a,(n=[{key:"render",value:function(){var e={data:this.onFileUploadDone};return(0,y.jsx)(Eo,{width:550,classes:"quix-library-importer",show:this.props.visible,close:this.onClose,title:"Import To Library",footer:!1,expandable:!1,style:{left:"calc(50vw - 225px)"},onCancel:this.onClose,closeModal:this.onClose,children:(0,y.jsxs)(Ho,Do(Do({},e),{},{children:[(0,y.jsx)("p",{children:(0,y.jsx)("i",{className:"qxuicon-box-full qx-text-primary qx-text-large"})}),(0,y.jsx)("h5",{className:"qx-margin-small-top qx-margin-small-bottom",children:"Import Template To Library"}),(0,y.jsxs)("p",{children:["Click or drag ",(0,y.jsx)("em",{children:".json"})," file to this area to upload"]})]}))})}}])&&Mo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Ro,Vo=(n(26713),n(59348)),$o=quix.api;function Xo(e,t){return new Promise((function(n,r){var o=e?"".concat($o,"&id=").concat(e):$o;jQuery.ajax({data:t,url:o,type:"POST",success:function(e){try{return(e=JSON.parse(e)).success?n(e):r(e)}catch(t){return r(e)}},error:function(e,t,n){return r(n)}})}))}var Zo=function(e){return e.preventDefault(),e.returnValue="Are you sure you want to exit?"},Yo=null;function Ko(e){return Tr("jform_data").value=JSON.stringify(e),Tr("jform_metadata_icons").value=JSON.stringify(sr(e,"svg")),jQuery("#adminForm").serializeArray()}function ei(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e||null!==Yo){var t=parseInt(document.getElementById("jform_id").value);if(0===t)return m.warning("Please save the page first! then see the preview."),!1;null===Yo||null===Yo.parent?Yo=window.open(atob(document.getElementById("return_url").value)):Yo&&(Yo.location.href=atob(document.getElementById("return_url").value))}}function ti(){window.PageChanged=!1,removeEventListener("beforeunload",Zo,{capture:!0})}function ni(){window.PageChanged=!0,addEventListener("beforeunload",Zo,{capture:!0})}function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}var oi,ii=ut(),ai=jQuery;function li(e){return new Promise((function(t,n){var r,o=e.state.title||ct();o||(o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Page",t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date;return"".concat(e,"-").concat(n.getDate(),"-").concat(t[n.getMonth()]," ").concat(n.getHours(),":").concat(n.getSeconds())}()),Tr("jform_title_hidden").value=o;var i,a=null===(r=Tr("jform_template_type"))||void 0===r?void 0:r.value;if(!_t(a)&&["article","header","footer","mainbody"].includes(a)&&_t(null===(i=Tr("jform_conditions"))||void 0===i?void 0:i.value))return e.props.invokeDisplayConditionModal(!0),t();var l="page"===ii?"page.apply":"collection.apply";if(ai('input[name="task"]').val(l),"page"===ii){var s=e.props,c=s.nodes,u=s.qid;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Ko(e=ar(e));return Xo(t,n)}(c,u).then((function(t){if(!1===t.data){var n;m.error((null==t||null===(n=t.messages)||void 0===n?void 0:n.warning)||t)}else{var r=+t.data.id;m.success("Settings saved successfully"),0==+u&&(function(e,t,n,r){document.getElementById("jform_id").value=e,document.getElementById("return_url").value=t,history&&history.pushState?window.history.pushState(null,null,n):window.location.href=n}(r,t.data.view,t.data.url,t.data.edit),e.props.updateQid(r)),setTimeout((function(){console.log("Reloading..."),ei(!1)}),1e3),ti()}})).then((function(){ai(".savePage span.save-text").html("Save"),t()})).catch((function(e){ai(".savePage").removeClass("qxui-btn-success").addClass("qxui-btn-danger"),ai(".savePage span.save-text").html("!Save"),m.error((null==e?void 0:e.message)||"Something went wrong!!!"),n()}))}return"collection"===ii?si(e,o,ai("#jform_template_type").val(),!0,t):void 0}))}function si(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e.props,a=i.nodes,l=i.qid,s=n?l:0,c={type:n=n||"layout",data:a};r&&(Tr("jform_data").value=JSON.stringify(c));var u=Tr("jform_token").getAttribute("name"),p=new FormData;p.set("jform[data]",JSON.stringify(c)),p.set("jform[title]",t),p.set("jform[builder]","frontend"),p.set("jform[type]",n),p.set("jform[state]","1"),p.set("jform[id]",s),p.set("id",s),p.set("type","collection"),r&&(p.set("jform[conditions]",Tr("jform_conditions").value),p.set("jform[params][image_optimized]",Tr("jform_params_image_optimized").value),p.set("jform[params][enabled_image_optimization]",Tr("jform_params_enabled_image_optimization").value),p.set("jform[params][enabled_webp_support]",Tr("jform_params_enabled_webp_support").value),p.set("jform[params][codecss]",Tr("jform_params_codecss").value),p.set("jform[params][codejs]",Tr("jform_params_codejs").value),p.set("jform[params][style]",Tr("jform_params_style").value),p.set("jform[metadata][title]",Tr("jform_metadata_title").value),p.set("jform[metadata][desc]",Tr("jform_metadata_desc").value),p.set("jform[metadata][seo_score]",Tr("jform_metadata_seo_score").value),p.set("jform[metadata][focus_keywords]",Tr("jform_metadata_focus_keywords").value),p.set("jform[state]",Tr("jform_state").value),p.set("jform[access]",Tr("jform_access").value),p.set("jform[language]",Tr("jform_language").value)),p.set(u,"1"),jt()({method:"post",url:"index.php?option=com_quix&task=collection.save",data:p,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){ai(".savePage span.save-text").html("Save");var t=e.data;"object"===ri(t)?t.success?(ti(),m.success("Template saved"),setTimeout((function(){console.log("Reloading..."),ei(!1)}),1e3)):m.warning(t.message):m.error(t),o&&o()}))}function ci(e){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(e)}function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e,t){return fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fi(e,t)}function di(e,t){if(t&&("object"===ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yi(e){return yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yi(e)}function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi=Vo.default.Group,vi="OPEN_TEMPLATE_SAVER",gi=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?vi:null}}},xi={openTemplateSaver:gi},ji=(0,v.$j)((function(e){var t=e.action.action,n=e.nodes.nodes;return{visible:t===vi,nodes:n}}),xi)(oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fi(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yi(r);if(o){var n=yi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return di(this,e)});function a(){var e;ui(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mi(hi(e=i.call.apply(i,[this].concat(n))),"state",{title:"",waiting:!1}),mi(hi(e),"titleChanged",(function(t){e.setState({title:t.target.value})})),mi(hi(e),"saveTemplate",(function(){e.state.title?(si(hi(e),e.state.title),e.onClose()):m.error("Title can't be empty")})),mi(hi(e),"onClose",(function(){e.props.openTemplateSaver(!1)})),e}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsx)(Eo,{width:550,className:"modal--export-import",title:"Save To Library",show:this.props.visible,close:function(){return e.onClose()},expandable:!1,style:{left:"calc(50vw - 225px)"},footer:!1,children:(0,y.jsxs)("div",{className:"qx-fb-infobox sections-save-box",children:[(0,y.jsxs)("div",{className:"qx-margin-medium-bottom qx-text-center",children:[(0,y.jsx)("i",{className:"qxuicon-cubes qx-fb-title-icon"}),(0,y.jsx)("h2",{className:"qx-margin-small-top",children:"Save To Library"}),(0,y.jsx)("p",{className:"qx-text-meta",children:"You can reuse this template anywhere you want"})]}),(0,y.jsxs)(bi,{className:"qx-width-2-3 qx-margin-auto",children:[(0,y.jsx)(Vo.default,{placeholder:"Name",id:"export",value:this.state.title,onChange:this.titleChanged}),(0,y.jsxs)(p.default,{disabled:this.state.waiting,type:"primary",onClick:this.saveTemplate,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save"]})]})]})})}}])&&pi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||oi;const wi=ji;n(70057);var Oi,_i=n(75235),Si=(n(64832),n(36609));function Pi(e){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(e)}function qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t){return ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ki(e,t)}function Ni(e,t){if(t&&("object"===Pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ei(e)}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e){return Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ri(e)}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Di="OPEN_PAGE_MANAGER",Ai=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?Di:null}}},Ii={openPageManager:Ai,updateQid:Qe},Mi=(0,v.$j)((function(e){var t=e.action,n=e.nodes.nodes,r=e.meta.qid;return{visible:t.action===Di,nodes:n,qid:r}}),Ii)(Oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ki(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ri(r);if(o){var n=Ri(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ni(this,e)});function a(){var e;qi(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ti(Ei(e=i.call.apply(i,[this].concat(n))),"nodes",""),Ti(Ei(e),"timer",void 0),Ti(Ei(e),"offset",1e4),Ti(Ei(e),"state",{title:ct(),type:ut()}),Ti(Ei(e),"getQuixPages",(function(){var e=ot();return(0,y.jsx)(Si.default,{children:e.length?e.map((function(e){var t=tt()+"/index.php?option=com_quix&task=page.edit&id="+e.id;return(0,y.jsx)(Si.default.Item,{children:(0,y.jsx)(Si.default.Item.Meta,{className:"qx-flex-row-reverse",avatar:(0,y.jsx)("i",{className:[Ye[e.state],Ze[e.state]].join(" ")}),title:(0,y.jsxs)("a",{href:t,className:"qxui-text-ellipsis",target:"_blank",children:[e.title," "]})})},e.id)})):(0,y.jsx)("div",{className:"qx-alert qx-alert-primary",children:"No page found!"})})})),Ti(Ei(e),"getQuixCollectionList",(function(){var e=rt();return(0,y.jsx)(Si.default,{children:e.length?e.map((function(e){var t=tt()+"/index.php?option=com_quix&task=collection.edit&id="+e.id;return(0,y.jsx)(Si.default.Item,{children:(0,y.jsx)(Si.default.Item.Meta,{className:"qx-flex-row-reverse",avatar:(0,y.jsx)("i",{className:"qx-label",children:e.type}),title:(0,y.jsx)("a",{href:t,target:"_blank",children:e.title})})},e.id)})):(0,y.jsx)("div",{className:"qx-alert qx-alert-primary",children:"No template found!"})})})),Ti(Ei(e),"saveDraft",(function(){console.warn("Save this page as draft now")})),Ti(Ei(e),"savePageAjax",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t||t.preventDefault(),e.props.onSaveStateChange&&e.props.onSaveStateChange(!0),li(Ei(e)).then((function(){e.props.onSaveStateChange&&e.props.onSaveStateChange(!1)}))})),Ti(Ei(e),"addPage",(function(e){e.preventDefault(),qxUIkit.modal.prompt("Page Name:","New Page").then((function(e){if(e.length){var t={title:e};t[Joomla.getOptions("csrf.token")]=1,jQuery.ajax({url:tt()+"/index.php?option=com_quix&task=page.pageCreateAjax",type:"POST",data:t,success:function(e){var t=JSON.parse(e);t.success||alert(t.message),window.location=t.data}})}else alert("Page name is required!")}))})),Ti(Ei(e),"addCollection",(function(e){e.preventDefault(),confirm("Save this page before creating new page. Ready to proceed?")&&(window.location=tt()+"/index.php?option=com_quix&task=collection.add")})),Ti(Ei(e),"onTitleChange",(function(t){e.setState({title:t.target.value})})),Ti(Ei(e),"onClose",(function(){e.props.openPageManager(!1)})),e}return t=a,n=[{key:"componentDidMount",value:function(){this.nodes=JSON.stringify(this.props.nodes)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this,o=JSON.stringify(this.props.nodes);this.nodes!==o&&(clearTimeout(this.timer),this.nodes=o,this.timer=setTimeout((function(){return r.saveDraft()}),this.offset))}},{key:"render",value:function(){var e=this.getQuixPages(),t=this.getQuixCollectionList(),n=this.state,r=n.title,o=n.type;return(0,y.jsxs)(Wr.Z,{title:"Manage Pages",placement:"left",width:320,onClose:this.onClose,visible:this.props.visible,className:"manage-pages",children:[(0,y.jsx)("div",{className:"qx-margin-bottom",children:(0,y.jsxs)(Vo.default.Group,{children:[(0,y.jsx)(Vo.default,{name:"jform[title]",placeholder:"Page name",defaultValue:r||"New page",id:"jform_title",onChange:this.onTitleChange}),(0,y.jsx)(p.default,{type:"success",onClick:this.savePageAjax,disabled:this.props.isSaving,loading:this.props.isSaving,children:(0,y.jsx)("i",{className:"qxuicon-check"})})]})}),(0,y.jsxs)(_i.default,{defaultActiveKey:"collection"===o?"2":"1",children:[(0,y.jsxs)(_i.default.TabPane,{tab:"Pages",children:[(0,y.jsx)(p.default,{className:"qx-margin-small-bottom",block:!0,type:"primary",onClick:this.addPage,children:"Create Page"}),(0,y.jsx)("span",{className:"qx-text-truncate",children:e})]},"1"),(0,y.jsx)(_i.default.TabPane,{tab:"Templates",children:t},"2")]})]})}}],n&&Ci(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Oi;function Li(e){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li(e)}function Bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t){return Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ui(e,t)}function zi(e,t){if(t&&("object"===Li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(e)}var Qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ui(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hi(r);if(o){var n=Hi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return zi(this,e)});function a(){return Bi(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return(0,y.jsx)("div",{children:this.props.pro?null:(0,y.jsxs)("div",{className:"qx-fb-field-code qx-fb-gopro",children:[(0,y.jsxs)("div",{className:"qx-fb-gopro__icon",children:[(0,y.jsx)("i",{className:"qxuicon-unlock"}),(0,y.jsx)("sup",{className:"qxui-label qxui-label-success",children:"License"})]}),(0,y.jsxs)("p",{children:["This features requires you to activate your license. Please insert your username and API key ",(0,y.jsx)("a",{target:"_blank",href:"administrator/index.php?option=com_quix&action=license",children:"here"})," to activate it."]})]})})}}])&&Fi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Gi=(n(60028),n(32397)),Wi=n(33962),Ji=n.n(Wi);function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zi(e,t)}function Yi(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ki(e)}function Ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(e){return ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ea(e)}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zi(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ea(r);if(o){var n=ea(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yi(this,e)});function a(){var e;$i(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ta(Ki(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){var n=e.props.onChange;n&&n(t.target.value,t)})),ta(Ki(e),"getLabelMarkup",(function(){var t=e.props.label;return e.props.onlyBaseText||!t?null:(0,y.jsx)("span",{children:t})})),e}return t=a,(n=[{key:"getHelpMarkup",value:function(){var e=this.props.help;return this.props.onlyBaseText?null:e?(0,y.jsx)(Gi.Z,{content:e,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})}):void 0}},{key:"getResetMarkup",value:function(){return this.props.onlyBaseText||Ji()(this.props.default,this.props.value)?null:(0,y.jsx)(c.default,{title:"Reset to default",children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-undo",onClick:this.props.onReset})})})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.placeholder,r=e.onClick,o=e.style,i=e.id,a=e.addonBefore,l=e.addonAfter,s=e.readOnly,c=e.allowClear;return i=i||"_"+Math.random().toString(36).substr(2,9),(0,y.jsxs)("div",{className:"qx-fb-field-text",style:o,children:[this.props.onlyBaseText?null:(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup(),this.props.onReset?this.getResetMarkup():null]}),(0,y.jsx)(Vo.default,{ref:i,id:i,placeholder:n||"",value:t,onChange:this.onChange,onClick:r||function(){},addonBefore:a,addonAfter:l,disabled:s,allowClear:c||!1})]})}}])&&Xi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);ta(na,"propTypes",{}),ta(na,"defaultProps",{}),na.Group=Vo.default.Group,na.Search=Vo.default.Search;const ra=na;function oa(e){return oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}var ia;function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ca(e,t){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ca(e,t)}function ua(e,t){if(t&&("object"===oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pa(e)}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fa(e){return fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fa(e)}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.e(325).then(n.bind(n,27325));var ha="OPEN_SEO_PANEL",ya=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?ha:null}}},ma={openSEOPanel:ya,setNodes:Ce},ba=(0,v.$j)((function(e){return{visible:e.action.action===ha}}),ma)(ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ca(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fa(r);if(o){var n=fa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ua(this,e)});function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),da(pa(t=i.call(this,e)),"presentSeoResult",(function(){if(t.setState({visibleSeoModal:!0}),!t.state.is_pro_user)return m.info("Please validate your license to use SEO feature.");Or().then((function(e){var n,r=null===(n=e.querySelector("#qx-fb-mount .frontend-blocks"))||void 0===n?void 0:n.innerHTML,o={title:Tr("jform_metadata_title").value,description:Tr("jform_metadata_desc").value,keyword:t.state.focusKeyword||Tr("jform_metadata_focus_keywords").value,content:r};t.loadAndRenderSEOResult(o)}))})),da(pa(t),"loadAndRenderSEOResult",(function(e){t.setState({loadingSeoResult:!0}),new Promise((function(e,t){if(window.qxSEO)return e(window.qxSEO);var n=document.createElement("script");n.onload=function(){e(window.qxSEO)},n.onerror=function(){t()},n.src=pkg_quix_public_path+"/builder/seo/seo.js",document.head.appendChild(n)})).then((function(n){t.renderSEOResult(n,e)}))})),da(pa(t),"renderSEOResult",(function(e,n){var r=la({},t.state),o={title:n.title||"Quix SEO title of this page.",metaDesc:n.description||"Your Quix SEO meta description will show here.",urlPath:window.QuixPageAlias||"quix-seo-page"},i=function(){return la({keyword:n.keyword,text:n.content,titleWidth:n.title.length},o)};r.app?(r.app.snippetPreview.data=la({},i()),r.app.callbacks={getData:i}):(r.i18n=new e.Jed({domain:"js-text-analysis",locale_data:{"js-text-analysis":{"":{}}}}),r.snippetPreview=new e.SnippetPreview({i18n:r.i18n,data:o,baseURL:it(),previewMode:"desktop",targetElement:Tr("snippet")}),r.app=new e.App({snippetPreview:r.snippetPreview,targets:{output:"output"},callbacks:{getData:i}})),r.app.refresh();var a=r.app.seoAssessor.calculateOverallScore(),l=Math.max(0,a);Tr("jform_metadata_seo_score").value=l,t.setSeoScore(l),t.setState(la(la({},r),{},{loadingSeoResult:!1}))})),da(pa(t),"setSeoScore",(function(e){t.props.onChangeSeoScore&&t.props.onChangeSeoScore(e)})),da(pa(t),"seoToolbar",(function(){return(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Preview"}),(0,y.jsx)("div",{id:"snippet"}),(0,y.jsx)("p",{className:"qx-fb-field__label",children:"SEO Assessment"}),(0,y.jsx)("p",{id:"output"}),(0,y.jsx)("button",{className:"seo-snippet qxui-drawer-close seo-snippet-reload",onClick:t.presentSeoResult,children:(0,y.jsx)("span",{className:"seo-snippet qxui-drawer-close-x seo-snippet-icon",children:(0,y.jsx)(c.default,{title:"Re-Check",getTooltipContainer:function(){return window.document.body},children:(0,y.jsx)("i",{className:"qxuicon-undo"})})})}),(0,y.jsx)("div",{className:t.state.loadingSeoResult?"preloader":"preloader hide",children:(0,y.jsxs)("div",{className:"wrap",children:[(0,y.jsx)("div",{className:"ball"}),(0,y.jsx)("div",{className:"ball"}),(0,y.jsx)("div",{className:"ball"}),(0,y.jsx)("div",{className:"ball"})]})})]})})),da(pa(t),"seoRankTitle",(function(){return(0,y.jsx)(ra,{label:"SEO Focus Keyword",placeholder:"Write your keyword & Re-Check",value:t.state.focusKeyword,onChange:function(e){return t.setState({focusKeyword:e})},onReset:function(){return t.setState({focusKeyword:""})}})})),da(pa(t),"onClose",(function(){t.props.openSEOPanel(!1)}));var n,r,o=(null===(n=Tr("jform_metadata_seo_score"))||void 0===n?void 0:n.value)||0;return t.state={is_pro_user:pt(),loadingSeoResult:!1,focusKeyword:(null===(r=Tr("jform_metadata_focus_keywords"))||void 0===r?void 0:r.value)||"",seoScore:o,i18n:"",visibleSeoModal:!1},t.setSeoScore(o),t}return t=a,(n=[{key:"componentDidUpdate",value:function(e,t,n){e.visible!==this.props.visible&&this.props.visible&&this.presentSeoResult()}},{key:"render",value:function(){return(0,y.jsx)(Wr.Z,{title:this.state.is_pro_user?this.seoRankTitle():null,id:"quix-seo-snippet",placement:"right",closable:!0,width:480,onClose:this.onClose,visible:this.props.visible,maskClosable:!1,prefixCls:"seo-snippet qxui-drawer",style:this.props.visible?{overflow:"auto",height:"100vh",width:"480px",paddingBottom:"55px"}:null,children:this.state.is_pro_user?(0,y.jsx)(y.Fragment,{children:this.seoToolbar()}):(0,y.jsx)(Qi,{pro:this.state.is_pro_user})})}}])&&sa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||ia;function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(e,t){return xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xa(e,t)}function ja(e,t){if(t&&("object"===va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wa(e){return wa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wa(e)}var Oa,_a,Sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xa(e,t)}(l,e);var t,n,r,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wa(o);if(i){var n=wa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ja(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={hasError:!1,message:null},t}return t=l,r=[{key:"getDerivedStateFromError",value:function(e){return console.error("Error occurred",e),{hasError:!0,message:e.message}}}],(n=[{key:"componentDidCatch",value:function(e,t){console.log("Error occurred",e,t)}},{key:"render",value:function(){return this.state.hasError?(0,y.jsxs)("p",{style:{background:"red",color:"#fff",padding:"10px 20px"},children:["This component had an error and crashed ",(0,y.jsxs)("i",{children:['"',this.state.message,'"']})]}):this.props.children}}])&&ga(t.prototype,n),r&&ga(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(b.Component),Pa=(n(13981),n(16256));function qa(e){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(e)}function Ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Na(e,t){return Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Na(e,t)}function Ea(e,t){if(t&&("object"===qa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ra(e)}function Ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e){return Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ta(e)}function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e){return function(e){if(Array.isArray(e))return La(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ba,Fa={section:["section","row"],row:["row","column"],column:["column","element"],element:["element"]},Ua={moveNode:De},za=(Oa=(0,v.$j)((function(e){var t=e.nodes.nodes,n=function e(t,n){var r={children:[]};t.children&&t.children.length>0&&(r.children=t.children.map((function(t,r){return e(t,[].concat(Ma(n),["children",r]))})));var o=fn(t)?"element":t.slug;return Aa(Aa({},r),{},{key:t.id,title:t.name||St(t.slug),path:n,type:o,slug:t.slug,dropTypes:Fa[o]})};return{treeData:t.map((function(e,t){return n(e,[t])}))}}),Ua),Oa(_a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Na(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ta(r);if(o){var n=Ta(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ea(this,e)});function a(){var e;Ca(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ia(Ra(e=i.call.apply(i,[this].concat(n))),"onDragStart",(function(t){var n=t.node;e.node=n})),Ia(Ra(e),"allowDrop",(function(t){return t.dropNode.dropTypes.includes(e.node.type)})),Ia(Ra(e),"onDrop",(function(t){var n=t.dragNode,r=t.node,o=t.dropPosition;if(delete e.node,0===r.dropTypes.indexOf(n.type)){var i=Ma(r.path);i.pop()===o&&(o+=1),e.props.moveNode(n.path,[].concat(Ma(i),[o]))}else e.props.moveNode(n.path,[].concat(Ma(r.path),["children",0===o?o:r.children.length]))})),Ia(Ra(e),"onSelect",(function(e){Or().then((function(t){var n,r=null===(n=Tr(e,t))||void 0===n?void 0:n.parentNode;console.log(r),null==r||r.scrollIntoView({behavior:"smooth"})}))})),Ia(Ra(e),"getIcon",(function(e){var t=e.slug,n=e.name;return(0,y.jsx)("img",{src:It(t),alt:n})})),Ia(Ra(e),"onChange",(function(t){var n=t.target.value,r=e.props.treeData.map((function(e){return e.title.indexOf(n)>-1?getParentKey(e.key,gData):null})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));e.setState({expandedKeys:r,searchValue:n,autoExpandParent:!0})})),e}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"navigator",children:[(0,y.jsxs)("div",{className:"qx-flex qx-flex-middle qx-flex-between",style:{padding:"8px"},children:[(0,y.jsxs)(p.default,{children:[(0,y.jsx)("i",{className:"qxuicon-plus qx-margin-small-right"}),"Expand All"]}),(0,y.jsx)("div",{className:"qx-margin-auto-left",children:(0,y.jsx)(Vo.default,{onChange:this.onChange,placeholder:"Search",size:"small",className:"qx-form-blank"})})]}),(0,y.jsx)(Pa.default,{showIcon:!0,draggable:!0,blockNode:!0,selectable:!0,multiple:!1,checkable:!1,className:"draggable-navigator",onDragStart:this.onDragStart,allowDrop:this.allowDrop,onDrop:this.onDrop,onSelect:this.onSelect,icon:this.getIcon,treeData:this.props.treeData})]})}}])&&ka(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||_a);function Ha(e){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(e)}function Qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wa(e,t)}function Ja(e,t){if(t&&("object"===Ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Va(e)}var $a="OPEN_NAVIGATOR_MODAL",Xa=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?$a:null}}},Za={openNavigatorModal:Xa};const Ya=(0,v.$j)((function(e){return{visible:e.action.action===$a}}),Za)(Ba=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wa(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Va(r);if(o){var n=Va(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ja(this,e)});function a(){return Qa(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsx)(Eo,{show:this.props.visible,close:function(){return e.props.openNavigatorModal(!1)},expandable:!1,width:520,className:"qxui-modal--with-tab qxui-modal--elements",style:{left:"calc(50vw - 260px)",display:this.props.visible?"block":"none"},title:(0,y.jsx)("h4",{className:"qxui-modal-title",children:"Navigator"}),children:this.props.visible?(0,y.jsx)(za,{}):(0,y.jsx)("span",{style:{minHeight:"100px"}})})}}])&&Ga(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Ba;function Ka(e,t,n){var r=new Blob([e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var o=window.URL.createObjectURL(r),i=window.document.createElement("a");i.style.display="none",i.href=o,i.setAttribute("download",t),void 0===i.download&&i.setAttribute("target","_blank"),window.document.body.appendChild(i),i.click(),window.document.body.removeChild(i),window.URL.revokeObjectURL(o)}}function el(){var e="index.php?option=com_quix&task=api.exportCollection&type=".concat(quix.type,"&").concat(quix._token,"=1"),t="0"!==quix.id?quix.id:jQuery("#jform_id").val();jt().get(e+"&id=".concat(t)).then((function(e){var t,n="".concat(QuixPageAlias,".json"),r=e.data.data.config,o={groups:[],title:QuixPageAlias,type:"section"!==r.type?"layout":"section",data:r.data,builder_version:null!==(t=r.builder_version)&&void 0!==t?t:"2.0.0"};Ka(JSON.stringify(o),n,"application/json")}))}n(36159);var tl=n(86715),nl=(n(12280),n(24298));function rl(e){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(e)}function ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function il(e,t){return il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},il(e,t)}function al(e,t){if(t&&("object"===rl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ll(e)}function ll(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sl(e)}function cl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ul=Vo.default.TextArea,pl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&il(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sl(r);if(o){var n=sl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return al(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),cl(ll(t=i.call(this,e)),"getHelpMarkup",(function(){var e=t.props.help;if(e)return(0,y.jsx)(Gi.Z,{content:e,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})})})),cl(ll(t),"getResetMarkup",(function(){return t.props.onlyBaseText||Ji()(t.props.default,t.props.value)?null:(0,y.jsx)(c.default,{title:"Reset to default",children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-undo",onClick:function(){return t.onCodeChange("")}})})})})),t.state={code:"",modes:[{value:"javascript",label:"JavaScript"},{value:"css",label:"CSS"},{value:"html",label:"HTML"}]},t.onCodeChange=t.onCodeChange.bind(ll(t)),t}return t=a,n=[{key:"onCodeChange",value:function(e){this.setState({code:e}),this.props.onChange({code:e,mode:this.props.value.mode?this.props.value.mode:"css"})}},{key:"getLabelMarkup",value:function(){var e=this.props.label;return(0,y.jsx)("span",{children:e})}},{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"qx-fb-field-code",children:[(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup(),this.getResetMarkup()]}),(0,y.jsx)(ul,{rows:4,value:this.props.value.code,onChange:function(t){return e.onCodeChange(t.target.value)},prefixCls:"qxui-input"})]})}}],n&&ol(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);pl.propTypes={},pl.defaultProps={};const fl=pl;function dl(e){return dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(e)}var hl,yl;function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t){return bl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bl(e,t)}function vl(e,t){if(t&&("object"===dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gl(e)}function gl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xl(e){return xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xl(e)}function jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wl=nl.Z.Panel,Ol=_i.default.TabPane,_l=tl.default.Option,Sl="OPEN_PAGE_MODAL",Pl=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:pe,payload:{action:e?Sl:null,tab:t}}},ql={openPageSettings:Pl},Cl=(0,v.$j)((function(e){var t=e.action,n=t.action,r=t.tab;return{visible:n===Sl,tab:r}}),ql)((yl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bl(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xl(r);if(o){var n=xl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vl(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),jl(gl(t=i.call(this,e)),"state",{CSS_Code:"",JS_Code:"",color:"",accessListArray:[],LanguageListArray:[],globalStyles:"",enabledImageOptimization:!0,enable_amp:!0,enabledWebpSupport:!0}),t}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;this.setState({CSS_Code:{code:Tr("jform_params_codecss").value,mode:"css"}}),this.setState({JS_Code:{code:Tr("jform_params_codejs").value,mode:"javascript"}});for(var t=Tr("jform_access").options,n=[],r=t.length,o=0;o<r;o++)""!==t[o].value&&n.push({text:t[o].text,value:t[o].value});this.setState({accessListArray:n});for(var i=Tr("jform_language").options,a=[],l=i.length,s=0;s<l;s++)a.push({text:i[s].text,value:i[s].value});this.setState({LanguageListArray:a}),Tr("jform_access").value=Tr("jform_access").value?Tr("jform_access").value:Tr("jform_access").options[0].value,Tr("jform_language").value=Tr("jform_language").value?Tr("jform_language").value:Tr("jform_language").options[0].value,setTimeout((function(){e.setState({enabledImageOptimization:!!_t(Tr("jform_params_enabled_image_optimization").value)||JSON.parse(Tr("jform_params_enabled_image_optimization").value),enabledWebpSupport:!!_t(Tr("jform_params_enabled_webp_support").value)||JSON.parse(Tr("jform_params_enabled_webp_support").value),enable_amp:!!_t(Tr("jform_metadata_enable_amp").value)||JSON.parse(Tr("jform_metadata_enable_amp").value)})}),100)}},{key:"onGlobalStylesChange",value:function(e){this.setState({globalStyles:e})}},{key:"saveGlobalStyles",value:function(){"function"==typeof this.state.globalStyles.toJS&&jQuery("#jform_params_style").val(JSON.stringify(this.state.globalStyles.toJS()))}},{key:"onChange",value:function(e){ni()}},{key:"render",value:function(){var e=this,t=Tr("jform_type").value;return(0,y.jsx)(Eo,{className:"qxui-modal--with-tab page-options",title:"collection"===t?"Settings":"Page Settings",show:!0,close:function(){return e.props.openPageSettings(!1)},expandable:!1,style:{left:"calc(50vw - 250px)",display:this.props.visible?"block":"none"},footer:[(0,y.jsxs)("button",{className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:function(){ni(),e.saveGlobalStyles(),e.props.openPageSettings(!1)},children:[(0,y.jsx)("i",{className:"qxuicon-check"})," Apply "]},"save")],children:(0,y.jsxs)(_i.default,{defaultActiveKey:this.state.tab,onChange:function(t){ht("qx-page-tab",t),e.setState({tab:t})},children:[(0,y.jsx)(Ol,{tab:"General",children:(0,y.jsx)(nl.Z,{defaultActiveKey:["1"],accordion:!0,ghost:!0,expandIconPosition:"end",children:(0,y.jsxs)(wl,{header:"General Options",children:[(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Status"}),(0,y.jsxs)(tl.default,{label:"Page status",defaultValue:Tr("jform_state").value,onChange:function(e){Tr("jform_state").value=e,ni()},children:[(0,y.jsx)(_l,{value:"1",children:"Published"}),(0,y.jsx)(_l,{value:"0",children:"Unpublished"}),(0,y.jsx)(_l,{value:"2",children:"Archived"}),(0,y.jsx)(_l,{value:"-2",children:"Trashed"})]})]}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Access"}),(0,y.jsx)(tl.default,{label:"Page Access",defaultValue:Tr("jform_access").value,style:{width:"100%"},onChange:function(e){Tr("jform_access").value=e,ni()},children:this.state.accessListArray.map((function(e){return(0,y.jsx)(_l,{value:e.value,children:e.text},e.value)}))})]}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Language"}),(0,y.jsx)(tl.default,{label:"Language",defaultValue:Tr("jform_language").value,style:{width:"100%"},onChange:function(e){Tr("jform_language").value=e,ni()},children:this.state.LanguageListArray.map((function(e){return(0,y.jsx)(_l,{value:e.value,children:e.text},e.value)}))})]})]},"1")})},"general"),(0,y.jsx)(Ol,{tab:"Advanced",children:(0,y.jsxs)(nl.Z,{defaultActiveKey:["1"],accordion:!0,ghost:!0,expandIconPosition:"end",children:[(0,y.jsx)(wl,{header:"CSS",children:(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(fl,{label:"Custom CSS",name:"jform[params][codecss]",value:this.state.CSS_Code,onChange:function(t){e.setState({CSS_Code:{code:t.code}}),Tr("jform_params_codecss").value=t.code,ni()}})})},"1"),(0,y.jsx)(wl,{header:"JS",children:(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(fl,{label:"Custom JS",mode:"javascript",name:"jform[params][codejs]",value:this.state.JS_Code,onChange:function(t){e.setState({JS_Code:{code:t.code}}),Tr("jform_params_codejs").value=t.code,ni()}})})},"2")]})},"advanced")]})})}}],n&&ml(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),jl(yl,"propTypes",{}),jl(yl,"defaultProps",{}),hl=yl))||hl;const kl=Cl;n(238);var Nl,El,Rl=n(70933),Tl=quix.url;function Dl(e){return Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(e)}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Il(e,t){return Il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Il(e,t)}function Ml(e,t){if(t&&("object"===Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ll(e)}function Ll(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bl(e){return Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bl(e)}function Fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ul=tl.default.Option,zl="OPEN_LINK_PAGE_MODAL",Hl=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?zl:null}}},Ql={openLinkMenuPicker:Hl},Gl=(0,v.$j)((function(e){return{visible:e.action.action===zl}}),Ql)((El=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Il(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bl(r);if(o){var n=Bl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ml(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Fl(Ll(t=i.call(this,e)),"state",{MenuList:[],ParentList:[],mainmenu:"",parentmenu:"1",noMenu:!0,pageLink:"",Itemid:""}),Fl(Ll(t),"onChange",(function(){ni()})),Fl(Ll(t),"makeMenuLink",(function(){if(t.state.title)if(t.state.alias){if(t.state.mainmenu){t.state.parentmenu||t.setState({parentmenu:"1"});var e,n,r,o,i=(e=t.state.title,n=t.state.alias,r=t.state.mainmenu,o=t.state.parentmenu,new Promise((function(t,i){var a=document.getElementById("jform_token").name,l="".concat(Tl,"/index.php?option=com_quix&task=api.createMenu&").concat(a,"=1"),s=document.getElementById("jform_id").value;console.log(l);var c={title:e,link:"index.php?option=com_quix&view=page&id="+s,alias:n,menu:r,parentid:o};console.log(c),jQuery.ajax({data:c,url:l,type:"POST",success:function(e){return(e=JSON.parse(e)).success?t(e):i(e)}})})));return i.then((function(e){if(!1===e.success)m.error(e.message);else{var n=e.data;m.success("Menu created successfully."),t.setState({noMenu:!1}),t.setState({Itemid:n.Itemid}),t.setState({pageLink:n.link}),Tr("return_url").value=btoa(n.link)}}),(function(e){m.error(e.message)})),i}m.warning("Please select menu group")}else m.warning("Alias is required");else m.warning("Title is required")})),Fl(Ll(t),"updateParentItem",(function(e){t.setState({ParentList:e})})),Fl(Ll(t),"handleChange",(function(e,n){t.setState({mainmenu:e}),jQuery.ajax({url:quix.url+"/index.php?option=com_quix&task=api.getParentItem&menutype="+e,dataType:"json"}).done((function(e){var t=[],r=e.length,o=0,i=[];for(i.value="1",i.text="Menu Item Root",t.push(i);o<r;o++){var a=[];a.value=e[o].id,a.text=e[o].title,t.push(a)}return n(t)}))})),t}return t=a,(n=[{key:"componentDidMount",value:function(){for(var e=Tr("jform_menutype").options,t=[],n=e.length,r=0;r<n;r++){var o=[];o.value=e[r].value,o.text=e[r].text,t.push(o)}this.setState({MenuList:t});var i=[],a=[];a.value="1",a.text="Menu Item Root",i.push(a),this.setState({ParentList:i}),1==!!+window.QuixPageHasMenu&&(this.setState({noMenu:!1}),this.setState({pageLink:atob(Tr("return_url").value)})),this.setState({Itemid:Tr("jform_Itemid").value})}},{key:"render",value:function(){var e=this;return this.props.visible,(0,y.jsxs)(Eo,{className:"modal--small",title:"Add To Menu",show:this.props.visible,close:function(){return e.props.openLinkMenuPicker(!1)},dismisible:!0,expandable:!1,style:{left:"calc(50vw - 250px)"},footer:[(0,y.jsxs)(p.default,{type:"primary",style:{display:this.state.noMenu?"initial":"none"},size:"large",onClick:this.makeMenuLink,children:[(0,y.jsx)("i",{className:"qxuicon-link"})," Create Menu"]},Math.random())],children:[(0,y.jsxs)("div",{style:{display:this.state.noMenu?"initial":"none"},children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(ra,{label:"Menu Title",placeholder:"Home",value:this.state.title,onChange:function(t){e.setState({title:t})},onReset:function(){e.setState({title:""})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(ra,{label:"Menu alias",placeholder:"menu-alias",value:this.state.alias,onChange:function(t){e.setState({alias:t})},onReset:function(){e.setState({alias:""})}})}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Select Menu"}),(0,y.jsx)(tl.default,{label:"Select Menu",defaultValue:this.state.mainmenu,style:{width:"100%"},onChange:function(t){e.handleChange(t,e.updateParentItem)},prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:this.state.MenuList.map((function(e,t){return(0,y.jsxs)(Ul,{value:e.value.toString(),children:[" ",e.text," "]},t)}))})]}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Select Parent Item"}),(0,y.jsx)(tl.default,{label:"Parent Item",defaultValue:this.state.parentmenu,style:{width:"100%"},onChange:function(t){e.setState({parentmenu:t})},prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:this.state.ParentList.map((function(e,t){return(0,y.jsxs)(Ul,{value:e.value.toString(),children:[" ",e.text," "]},t)}))})]})]}),(0,y.jsx)(Rl.ZP,{status:"success",title:"Page Linked To Menu",subTitle:"This page is already linked to a menu item",style:{display:this.state.noMenu?"none":"block"},extra:[(0,y.jsx)("a",{className:"qx-button qx-button-primary",target:"_blank",href:"".concat(quix.url,"/administrator/index.php?option=com_menus&task=item.edit&id=").concat(this.state.Itemid),children:"Update Menu"},"1"),(0,y.jsxs)("a",{className:"qx-button qx-button-default qx-margin-small-left",target:"_blank",href:this.state.pageLink,children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Visit Page"]},"2")]})]})}}])&&Al(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Fl(El,"propTypes",{}),Fl(El,"defaultProps",{}),Nl=El))||Nl;const Wl=Gl;function Jl(e){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(e)}var Vl;function $l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zl(e,t){return Zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zl(e,t)}function Yl(e,t){if(t&&("object"===Jl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kl(e)}function Kl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},es(e)}function ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ns=p.default.Group,rs={openNodeImporter:Go,openHistoryPanel:ho,openPageManager:Ai,openSEOPanel:ya,openNavigatorPanel:Xa,openExportImportModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:x,payload:e}},openSaveAsCollectionModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e&&!t)throw new Error("Data is required when state is true for openSaveAsCollectionModal");return{type:j,payload:{visible:e,data:t}}},invokeSEORankModal:qe,openPageSettings:Pl,openTemplateSaver:gi,invokeDisplayConditionModal:Se,invokeElementPickerModal:we,updateQid:Qe,setDevice:He,emptyNodes:function(){return{type:ue}},openLinkMenuPicker:Hl,invokeOptimizationModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?ve:null}}}},os=(0,v.$j)((function(e){var t=e.meta.qid,n=e.nodes;return{qid:t,nodes:n.nodes,device:n.device}}),rs)(Vl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zl(e,t)}(f,e);var t,n,r,o,i=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=es(r);if(o){var n=es(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yl(this,e)});function f(){var e;$l(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ts(Kl(e=i.call.apply(i,[this].concat(n))),"state",{title:"",loading:!1,device:"desktop",iconLoading:!1,outputType:"html",visibleSeoModal:!1,showSaveModal:!1,showImportModal:!1,isSaving:!1}),ts(Kl(e),"setDevice",(function(t){var n;n=void 0===t.currentTarget?t.target.value:t.currentTarget.value,e.props.setDevice(Ke[n])})),ts(Kl(e),"changeIframeWidth",(function(){var t=e.props.device,n=et[t];document.querySelector("body").setAttribute("data-device",n),document.querySelectorAll("div[data-".concat(n,"]")).forEach((function(e){var t=e.attributes["data-".concat(n)].value;e.style.maxWidth=t,e.style.flex="0 0 ".concat(t)})),updateBodyDeviceClass(n)})),ts(Kl(e),"changeOutputFrame",(function(t){t.preventDefault();var n=confirm("This will reload the builder, make sure you have saved the changes"),r=new URL(window.location.href).searchParams.get("output"),o="component";if(!0!==n)return!1;"html"===r?o="component":"component"===r&&(o="html");var i=new URL(window.location.href);i.searchParams.set("output",o),window.location.href=i.href,e.setState({outputType:o})})),ts(Kl(e),"closePage",(function(){var e="page"===Tr("jform_type").value?"page.cancel":"collection.cancel";ft().submitform(e)})),ts(Kl(e),"backToAdmin",(function(){window.location=tt()+"/administrator/index.php?option=com_quix"})),ts(Kl(e),"onChange",(function(t){e.setState({title:t}),Tr("jform_title_hidden").value=t,ni()})),ts(Kl(e),"showTemplateSaveModal",(function(){e.setState({showSaveModal:!0})})),ts(Kl(e),"showImportModal",(function(){e.setState({showImportModal:!0})})),ts(Kl(e),"settingsDropdown",(function(e,t,n){return(0,y.jsx)(u.default,{overlay:"collection"===e?t:n,prefixCls:"qxui-dropdown",getPopupContainer:function(){return window.document.body},placement:"bottomCenter",children:(0,y.jsx)(p.default,{children:(0,y.jsx)("i",{className:"qxuicon-cog"})})})})),ts(Kl(e),"savePageAjax",(function(t){t.preventDefault(),e.onSaveStateChange(!0),li(Kl(e)).then((function(){e.onSaveStateChange(!1)})).catch((function(t){e.onSaveStateChange(!1)}))})),ts(Kl(e),"getDeviceToolbar",(function(){return(0,y.jsx)("div",{children:(0,y.jsxs)(ns,{children:[(0,y.jsx)(c.default,{title:"All",children:(0,y.jsx)(p.default,{type:"text",className:"desktop"===e.state.device?"active":"",value:"desktop",onClick:e.setDevice,children:(0,y.jsx)("i",{className:"qxuicon-desktop"})})}),(0,y.jsx)(c.default,{title:"Tablet: @media screen and (max-width:768px)",children:(0,y.jsx)(p.default,{type:"text",className:"tablet"===e.state.device?"active":"",value:"tablet",onClick:e.setDevice,children:(0,y.jsx)("i",{className:"qxuicon-tablet"})})}),(0,y.jsx)(c.default,{title:"@media screen and (max-width:480px)",children:(0,y.jsx)(p.default,{type:"text",className:"mobile"===e.state.device?"active":"",value:"mobile",onClick:e.setDevice,children:(0,y.jsx)("i",{className:"qxuicon-mobile"})})})]})})})),ts(Kl(e),"getSaveToolbar",(function(){var t=e.saveButtonsOptions(Kl(e)),n=new URLSearchParams(window.location.search).get("output");return(0,y.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[(0,y.jsx)(c.default,{title:"Toggle Distraction free mode",placement:"bottom",children:(0,y.jsxs)("div",{className:"qx-distraction-mode",style:{marginRight:"15px"},onClick:e.changeOutputFrame,children:[(0,y.jsx)("span",{children:"Distraction"}),(0,y.jsx)(s.Z,{size:"small",defaultChecked:"component"===n?1:0,checked:"component"===e.state.outputType})]})}),(0,y.jsx)(c.default,{title:"SEO Score",children:(0,y.jsx)(p.default,{type:"text",onClick:e.props.openSEOPanel,style:{borderLeft:"1px solid #eee"},children:(0,y.jsx)(l.default,{status:"active",type:"circle",width:30,strokeColor:{"0%":"#fdf260","100%":"#87d068"},percent:parseInt(e.state.seoScore)})})}),(0,y.jsx)(c.default,{title:"Browse all your edits history from here.",placement:"bottom",children:(0,y.jsx)(p.default,{id:"quix-builder-history-cta",type:"text",onClick:e.props.openHistoryPanel,style:{borderLeft:"1px solid #eee"},children:(0,y.jsx)("i",{className:"qxuicon-history"})})}),(0,y.jsx)(c.default,{title:"Page Preview",children:(0,y.jsx)(p.default,{type:"text",value:"preview",onClick:function(){return ei(!0)},style:{borderLeft:"1px solid #eee"},children:(0,y.jsx)("i",{className:"qxuicon-eye preview"},"preview")})}),(0,y.jsx)(p.default,{type:"success",className:e.state.isSaving?"savePage qxui-btn-loading":"savePage",onClick:e.savePageAjax,style:{paddingLeft:"25px",paddingRight:"25px"},children:(0,y.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[(0,y.jsx)("span",{className:"qx-margin-small-right qx-icon cloud-upload",children:e.state.isSaving?(0,y.jsx)("div",{"qx-spinner":"ratio:0.5",className:"qx-icon qx-spinner"}):(0,y.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","data-svg":"cloud-upload",children:[(0,y.jsx)("path",{fill:"none",stroke:"#000",strokeWidth:"1.1",d:"M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.31,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6"}),(0,y.jsx)("polyline",{fill:"none",stroke:"#000",points:"7.25 11.75 9.5 9.5 11.75 11.75"}),(0,y.jsx)("path",{fill:"none",stroke:"#000",d:"M9.5,18 L9.5,9.5"})]})}),(0,y.jsx)("span",{className:"save-text",children:"Save"})]})},"save"),(0,y.jsx)(u.default,{overlay:t,prefixCls:"qxui-dropdown",trigger:"click",overlayStyle:{minWidth:"185px"},children:(0,y.jsx)(p.default,{type:"text",id:"quix-builder-settings-dropdown",children:(0,y.jsx)("i",{className:"qxuicon-bars"})})})]})})),ts(Kl(e),"getPageNavToolbar",(function(){var t=ct();return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"qx-fb-toolbar__logo"}),(0,y.jsxs)(p.default,{id:"quix-builder-page-title",type:"link",onClick:e.props.openPageManager,children:[(0,y.jsx)("i",{className:"qxuicon-pencil qx-text-primary qx-margin-small-right"}),(0,y.jsx)("strong",{children:t||"New page"})]})]})})),ts(Kl(e),"onExportPageJson",(function(){"0"===Tr("jform_id").value?m.warning("Please save the page first!"):el()})),ts(Kl(e),"onLinkToMenu",(function(){0===Tr("jform_id").value?m.warning("Please save the page first! then create menu link."):e.props.openLinkMenuPicker(!0)})),ts(Kl(e),"onSaveStateChange",(function(t){e.setState({isSaving:t})})),e}return t=f,n=[{key:"componentDidMount",value:function(){var e=new URL(window.location.href).searchParams.get("output");this.setState({is_pro_user:pt(),device:et[this.props.device],outputType:e})}},{key:"componentDidUpdate",value:function(e,t,n){e.device!==this.props.device&&(this.setState({device:et[this.props.device]}),this.changeIframeWidth())}},{key:"saveButtonsOptions",value:function(){var e=ut(),t=null;return d()(Tr("jform_template_type"))||["article","header","footer","mainbody"].includes(Tr("jform_template_type").value)&&(t=(0,y.jsxs)(a.default.Item,{onClick:this.props.invokeDisplayConditionModal,children:[(0,y.jsx)("i",{className:"qxuicon-adjust qx-margin-small-right"})," Display Condition"]},"1")),(0,y.jsxs)(a.default,{children:["collection"===e?(0,y.jsxs)(a.default.Item,{onClick:this.props.openPageSettings,children:[(0,y.jsx)("i",{className:"qxuicon-window-alt qx-margin-small-right"})," Template Options"]},"page"):null,"page"===e?(0,y.jsxs)(a.default.Item,{onClick:this.props.openPageSettings,children:[(0,y.jsx)("i",{className:"qxuicon-window-alt qx-margin-small-right"})," Page Settings"]},"page"):null,(0,y.jsxs)(a.default.Item,{onClick:this.props.invokeSEORankModal,children:[(0,y.jsx)("i",{className:"qxuicon-binoculars qx-margin-small-right"})," SEO Settings"]},"seo"),t,(0,y.jsx)(a.default.Divider,{}),"page"===e?(0,y.jsxs)(a.default.Item,{onClick:this.onLinkToMenu,children:[(0,y.jsx)("i",{className:"qxuicon-link qx-margin-small-right"})," Link To Menu"]},"menu"):null,(0,y.jsxs)(a.default.Item,{onClick:this.props.openTemplateSaver,children:[(0,y.jsx)("i",{className:"qxuicon-save qx-margin-small-right"})," Save as Template"]},"saveTemplate"),(0,y.jsxs)(a.default.Item,{onClick:this.props.openNodeImporter,children:[(0,y.jsx)("i",{className:"qxuicon-upload qx-margin-small-right"},"import-json")," Import JSON"]},"importJson"),(0,y.jsxs)(a.default.Item,{onClick:this.onExportPageJson,children:[(0,y.jsx)("i",{className:"qxuicon-parachute-box qx-margin-small-right"},"export-page")," Export JSON"]},"exportJson"),(0,y.jsx)(a.default.Divider,{}),(0,y.jsxs)(a.default.Item,{onClick:this.closePage,children:[(0,y.jsx)("i",{className:"qxuicon-times qx-margin-small-right"})," Close Builder"]},"close"),(0,y.jsxs)(a.default.Item,{onClick:this.backToAdmin,children:[(0,y.jsx)("i",{className:"qxuicon-arrow-left qx-margin-small-right"})," Back to Admin"]},"back2Admin")]})}},{key:"render",value:function(){var e=this;return(0,y.jsxs)(y.Fragment,{children:[this.getPageNavToolbar(),this.getDeviceToolbar(),this.getSaveToolbar(),(0,y.jsx)(Sa,{name:"SEOPanel",children:(0,y.jsx)(ba,{onChangeSeoScore:function(t){return e.setState({seoScore:t})}})}),(0,y.jsx)(Sa,{name:"ManagePages",children:(0,y.jsx)(Mi,{isSaving:this.state.isSaving,onSaveStateChange:this.onSaveStateChange})}),(0,y.jsx)(Sa,{name:"HistoryPanel",children:(0,y.jsx)(mo,{})}),(0,y.jsx)(Sa,{name:"SaveTemplate",children:(0,y.jsx)(wi,{})}),(0,y.jsx)(Sa,{name:"TemplateImportModal",children:(0,y.jsx)(Jo,{})}),(0,y.jsx)(Sa,{name:"NavigatorModal",children:(0,y.jsx)(Ya,{})})]})}}],n&&Xl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(b.Component))||Vl;const is=os;n(73098);var as=n(74518),ls=JSON.parse(window.QUIX_SHAPES);function ss(e){var t=null;try{t=window.atob(ls[e])}catch(e){t=null}return t}var cs=n(3468),us=n.n(cs);function ps(e){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(e)}function fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hs(e,t){return hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hs(e,t)}function ys(e,t){if(t&&("object"===ps(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ms(e)}function ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bs(e)}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hs(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bs(r);if(o){var n=bs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ys(this,e)});function a(){var e;fs(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vs(ms(e=i.call.apply(i,[this].concat(n))),"state",{width:0,mousePosition:0}),vs(ms(e),"onResize",(function(t){var n=e.props,r=n.min,o=n.max,i=e.state.width+(t.screenX-e.state.mousePosition);i<=r&&i<e.props.width||i>=o&&i>e.props.width||(e.setState({width:i,mousePosition:t.screenX}),e.props.onResize(i))})),vs(ms(e),"onResizeStart",(function(t){e.setState({mousePosition:t.screenX}),e.props.onResizeStart(t),Or().then((function(t){t.addEventListener("mousemove",e.onResize,!1),t.addEventListener("mouseup",e.onResizeStop,!1)}))})),vs(ms(e),"onResizeStop",(function(){e.props.onResizeStop(),Or().then((function(t){t.removeEventListener("mousemove",e.onResize),t.removeEventListener("mouseup",e.onResizeStop)}))})),e}return t=a,(n=[{key:"componentDidUpdate",value:function(e,t,n){this.props.width!==e.width&&this.setState({width:this.props.width})}},{key:"render",value:function(){return(0,y.jsx)("div",{className:"qx-fb-resizable-grid react-resizable",children:(0,y.jsxs)("div",{className:"qx-fb-resizable-grid",children:[this.props.children,(0,y.jsx)("span",{className:"react-resizable-handle react-resizable-handle-se",onMouseDown:this.onResizeStart})]})})}}])&&ds(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);vs(gs,"propTypes",{}),vs(gs,"defaultProps",{});const xs=gs;var js=function(e){var t=e.id,n=e.children,r=e.menu,o=(0,wt.av)({id:t}).show,i=function(e){e.preventDefault(),e.stopPropagation(),o(e)};return r&&r({handleEvent:i}),(0,y.jsx)("div",{className:"qx-context-menu",onContextMenu:i,children:n})};function ws(e,t){return{type:ge,payload:{node:t,path:e}}}function Os(e,t){return{type:je,payload:{path:e,placement:t}}}function _s(e){return!e.props.device||e.props.node.visibility[e.props.device]}function Ss(e,t){var n;e.setState({inserting:!0,loading:!0});var r=e.state.originItems.find((function(e){return e.id===t})),o=+r.min_version.replace(".","");if(+window.QUIXNXT_VERSION.replace(".","")<o)return m.warning("Quix version ".concat(r.min_version," is required to use this template. Please update Quix first.")),void e.setState({inserting:!1,loading:!1});var i=new URL(r.json_url);i.protocol="https","pro"===e.state.is_pro_user&&i.searchParams.append("auth","1");var a=null===(n=i.search.match(/id=(\d+)/))||void 0===n?void 0:n[1];jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getRemoteTemplate&v=").concat(r.min_version,"&id=").concat(a)).then((function(t){try{var n=t.data;e.props.insertNodes(e.props.sectionPath,n)}catch(e){m.error("Something went wrong! Possible reason:  ".concat(e.message)),console.log(e)}})).then((function(){m.success("Template inserted"),e._mounted&&e.setState({inserting:!1,loading:!1}),e.props.closeModal()}))}var Ps=n(18840),qs=n.n(Ps);function Cs(e){return function(e){if(Array.isArray(e))return ks(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ks(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ns(Object(n),!0).forEach((function(t){Rs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ts,Ds,As=function(e){e.createDragPreview=function(e,t){var n=Tr(fn(e)?"".concat(e.id,"-preview"):e.id,t),r=n,o=r.clientHeight,i=r.clientWidth;return window.QUIX.drag=Es(Es({},window.QUIX.drag),{},{el:n}),(n=n.cloneNode(!0)).style.width="".concat(i,"px"),n.style.height="".concat(o,"px"),n.style.zoom=i>o?300/i:300/o,n.style.position="absolute",n.style.top="-700px",n.style.right="-700px",n.style.overflow="hidden",n.id="drag-preview-image",t.body.appendChild(n),n},e.removeDragPreview=function(){Or().then((function(e){Tr("drag-preview-image",e).remove()}))},e.startDrag=function(t){t.persist(),Or().then((function(n){var r=e.createDragPreview(e.props.node,n);window.QUIX.drag=Es(Es({},window.QUIX.drag),{},{path:Cs(e.props.path),type:e.getType()}),t.dataTransfer.setDragImage(r,0,0)}))},e.onDragOver=function(t){var n=window.QUIX.drag;if(e.getDropTypes().includes(null==n?void 0:n.type)){t.preventDefault(),t.stopPropagation();var r=t.currentTarget.offsetTop+44,o=t.pageY-r;t.currentTarget.offsetHeight/2>o?e.showDragPlaceholder($e):e.showDragPlaceholder(Xe)}},e.onDragLeave=function(){e.showDragPlaceholder(null)},e.showDragPlaceholder=qs()((function(t){t&&(window.QUIX.drag.placement=t),Or().then((function(n){var r=Tr("".concat(e.getId(),"-drop-before"),n),o=Tr("".concat(e.getId(),"-drop-after"),n);t===$e?(null==r||r.classList.remove("qx-hidden"),null==o||o.classList.add("qx-hidden")):t===Xe?(null==r||r.classList.add("qx-hidden"),null==o||o.classList.remove("qx-hidden")):(null==r||r.classList.add("qx-hidden"),null==o||o.classList.add("qx-hidden"))}))}),10),e.onDrop=function(t){e.showDragPlaceholder(null),e.removeDragPreview();var n=window.QUIX.drag;if(console.log(e.getDropTypes(),e.getType(),n),e.getDropTypes().includes(null==n?void 0:n.type)){t.preventDefault(),t.stopPropagation();var r=n.path;e.handleDrop(Cs(r),n.placement,n.type),delete window.QUIX.drag}}};function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){Ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bs(e){return function(e){if(Array.isArray(e))return Fs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zs(e,t){return zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zs(e,t)}function Hs(e,t){if(t&&("object"===Is(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qs(e)}function Qs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gs(e){return Gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gs(e)}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Js={invokeElementPickerModal:we,showFormModal:ws,replaceNode:Ie,deleteNode:Ue,duplicateNode:Ae,copyNode:Me,pasteNode:Le,pasteNodeStyle:Be,pasteNodeStyleSpecial:Fe,resetNodeStyle:function(e,t){return{type:Z,payload:{path:e,name:t}}},setNodeVisibility:ze,setDndPlacement:Os,moveNode:De,invokeElementSaveModal:_e},Vs=(0,v.$j)(null,Js)((Ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zs(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gs(r);if(o){var n=Gs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Hs(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ws(Qs(t=i.call(this,e)),"hash",void 0),Ws(Qs(t),"getId",(function(){var e;return null===(e=t.props.node)||void 0===e?void 0:e.id})),Ws(Qs(t),"getDropTypes",(function(){return["element"]})),Ws(Qs(t),"getType",(function(){return"element"})),Ws(Qs(t),"handleDrop",(function(e,n){var r=Bs(t.props.path);if(n===$e)t.props.moveNode(e,Bs(r));else{var o=r.pop();t.props.moveNode(e,[].concat(Bs(r),[o+1]))}})),Ws(Qs(t),"injectStyleAndScript",(function(){Dr(t.props.node.slug)})),Ws(Qs(t),"removeStyleAndScript",(function(){jQuery("script#"+t.props.node.id+"-preview").remove(),jQuery("style#"+t.props.node.id+"-preview").remove()})),Ws(Qs(t),"loadElement",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(n||t.props.isModalOpen||t.hash!==e.hash)&&("column"!==e.slug?("form"===e.slug&&(n=!0),t.hash=e.hash,console.log("Rendering element",e.slug,n),!n&&t.props.isModalOpen&&"general"===window.QUIX.formTab?(console.log("Rendering Element HTML and SCRIPT",e.id,e),Fr(e,t.props.path).then((function(){zr(e).catch((function(e){return e}))}))):t.props.isModalOpen&&"styles"===window.QUIX.formTab?(console.log("Rendering Element STYLES",e.id,e),Ur(e).catch((function(e){return e}))):(console.log("Rendering Element ALL",e.id,e),Fr(e,t.props.path).then((function(){zr(e).catch((function(e){return e})),Ur(e).catch((function(e){return e}))})))):Ur(e).catch((function(e){return e})))})),Ws(Qs(t),"goPro",(function(){window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank")})),Ws(Qs(t),"deleteNode",(function(){t.props.deleteNode(t.props.path,t.props.node.slug)})),Ws(Qs(t),"duplicateNode",(function(){t.props.duplicateNode(t.props.path,t.props.node.slug)})),Ws(Qs(t),"resetNodeStyle",(function(){t.props.resetNodeStyle(t.props.path,t.props.node.slug)})),Ws(Qs(t),"openSettingsModal",(function(){var e=t.props,n=e.path,r=e.isModalOpen,o=e.formPath,i=e.formNode,a=t.props.node;r&&t.props.replaceNode(o,i),t.props.showFormModal(n,a)})),Ws(Qs(t),"saveElement",(function(){t.props.invokeElementSaveModal(t.props.path)})),Ws(Qs(t),"elementContextMenu",(function(){if(!_s(Qs(t)))return(0,y.jsx)(wt.v2,{id:t.state.id,theme:wt.dw.light,style:{zIndex:99999},children:dn(Qs(t))});var e=(0,y.jsxs)(wt.ck,{onClick:t.resetNodeStyle,children:[(0,y.jsx)("i",{className:"qxuicon-redo"})," Reset Style"]},"reset-style"),n=null,r=null;return"free"===t.state.is_pro_user&&(r=(0,y.jsx)(wt.Z0,{},"separatorPro"),n=(0,y.jsxs)(wt.ck,{onClick:t.goPro,className:"goProLink",children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"}),"Go Pro Xyz"]},"goPro")),(0,y.jsxs)(wt.v2,{id:t.state.id,theme:wt.dw.light,style:{zIndex:99999},children:[(0,y.jsx)(wt.ck,{disabled:!0,title:"Element",children:"Element"},"title"),(0,y.jsxs)(wt.ck,{onClick:t.openSettingsModal,children:[(0,y.jsx)("i",{className:"qxuicon-pencil"})," Edit"]},"edit"),(0,y.jsxs)(wt.ck,{onClick:t.duplicateNode,children:[(0,y.jsx)("i",{className:"qxuicon-clone"})," Duplicate"]},"duplicate"),(0,y.jsx)(wt.Z0,{},"separator1"),mn(Qs(t)),e,(0,y.jsx)(wt.Z0,{},"separator2"),(0,y.jsxs)(wt.ck,{onClick:t.saveElement,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save to Library"]},"save-to-library"),dn(Qs(t)),(0,y.jsx)(wt.Z0,{},"separator3"),(0,y.jsxs)(wt.ck,{onClick:t.deleteNode,children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]},"delete"),r,n]})})),Ws(Qs(t),"enableVisibility",(function(){var e=t.props,n=e.setNodeVisibility,r=e.path,o=e.node.visibility,i=e.device;n(r,Ls(Ls({},o),{},Ws({},i,!0)))})),Ws(Qs(t),"renderSettings",(function(e){var n=_s(Qs(t)),r=(0,y.jsxs)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":"Edit",onClick:t.openSettingsModal,children:[(0,y.jsx)("i",{className:"qxuicon-pencil"})," "]},e+"-setting"),o=n?(0,y.jsxs)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":"Delete",onClick:t.deleteNode,children:[" ",(0,y.jsx)("i",{className:"qxuicon-trash-alt"})]},e+"-delete"):"",i="column"===t.props.node.slug?null:(0,y.jsx)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":"Options",onClick:function(e){e.stopPropagation(),t.menu.handleEvent(e)},children:(0,y.jsx)("i",{className:"qxuicon-bars"})},"options"),a="column"===t.props.node.slug?null:(0,y.jsx)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":"Close",onClick:t.deleteNode,children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})},"deleteNodeElement"),l="column"===t.props.node.slug?null:(0,y.jsx)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":"Duplicate",onClick:t.duplicateNode,children:(0,y.jsx)("i",{className:"qxuicon-clone"})},"duplicateNodeElement");if(!n)return(0,y.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,y.jsx)(as.default,{className:"qx-fb-settings qx-fb-settings--element",children:(0,y.jsx)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":n?"Disable":"Enable",onClick:t.enableVisibility,children:(0,y.jsx)("i",{className:n?"qxuicon-low-vision":"qxuicon-eye"})},"enable-visibility")})});var s=t.props.node.slug.charAt(0).toUpperCase()+t.props.node.slug.slice(1);return(0,y.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,y.jsxs)(as.default,{size:1,className:"qx-fb-settings qx-fb-settings--element",children:["column"===t.props.node.slug?o:null,"column"===t.props.node.slug?null:r,i,l,(0,y.jsx)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small",draggable:!0,onDragStart:t.startDrag,"data-qx-tooltip":"Move ".concat(s),children:(0,y.jsx)("i",{className:"qxuicon-arrows"})},"drag-button"),a]})})})),Ws(Qs(t),"getDevice",(function(){var e=dt("qx-device");return void 0===e&&(e="desktop"),"mobile"===e?"phone":e})),As(Qs(t)),t.state={needPasteOption:!1,enableEdit:!1,elementRawHTML:"",elementRawStyle:"",elementRawScript:"",elementRawScripts:[],id:lr("qx-element-id-"),field:{},draggingEnabled:!0,forceRender:null,modalOpen:!1,is_pro_user:window.QuixLicenseStatus},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.injectStyleAndScript(),this.loadElement(this.props.node,!0)}},{key:"shouldComponentUpdate",value:function(e,t,n){var r,o,i;return"column"===e.node.slug||!!(this.props.isModalOpen&&(this,this.props.node.id===(null===(i=this.props.formNode)||void 0===i?void 0:i.id))||this.hash!==e.node.hash||this.props.device!==e.device)||(null===(r=this.props.copiedNode)||void 0===r?void 0:r.id)!==(null===(o=e.copiedNode)||void 0===o?void 0:o.id)}},{key:"componentDidUpdate",value:function(e,t,n){this.loadElement(this.props.node)}},{key:"componentWillUnmount",value:function(){this.removeStyleAndScript()}},{key:"render",value:function(){var e=this,t=this.props.node,n=_s(this),r=null==t?void 0:t.id,o=Ve()("qx-fb-element",{"qx-fb-dragging":!1,"qx-fb-column--nested":"column"===t.slug,"qx-fb-disabled":!n}),i=Ve()({"qx-fb-disabled":!n});if("column"===this.props.node.slug){var a=(0,y.jsx)(Nu,{elementPath:this.props.path,children:t.children,path:[].concat(Bs(this.props.path),["children"]),device:this.props.device,resize:this.props.resize,hidePlusIcon:!0});return(0,y.jsx)("div",{className:o,style:{flex:"0 0 100%",maxWidth:"100%"},children:(0,y.jsx)("div",{id:r,children:(0,y.jsxs)("div",{className:i,children:[(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}),this.renderSettings(r),a]})})})}return(0,y.jsxs)("div",{className:o,tabIndex:"0",children:[(0,y.jsxs)(js,{id:this.state.id,menu:function(t){return e.menu=t},children:[this.renderSettings(r),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),(0,y.jsx)("div",{id:r+"-preview"}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")})]}),this.elementContextMenu()]})}}])&&Us(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Ws(Ds,"propTypes",{path:us().array.isRequired}),Ts=Ds))||Ts;const $s=Vs;function Xs(e){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(e)}var Zs,Ys;function Ks(e){return function(e){if(Array.isArray(e))return ec(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rc(e,t){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rc(e,t)}function oc(e,t){if(t&&("object"===Xs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ic(e)}function ic(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ac(e)}function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sc={invokeElementPickerModal:we,setDndPlacement:Os,moveNode:De,pasteNode:Le,insertCopiedNodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:F,payload:{targetPath:e}}}},cc=(0,v.$j)(null,sc)((Ys=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rc(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ac(r);if(o){var n=ac(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return oc(this,e)});function l(){var e;tc(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lc(ic(e=a.call.apply(a,[this].concat(n))),"state",{id:lr("qx"),needPasteOption:!1,is_pro_user:!1}),lc(ic(e),"goPro",(function(e){return window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank"),e})),lc(ic(e),"handleInsertElementClick",(function(){var t=e.props,n=t.path,r=t.children;e.props.invokeElementPickerModal(Ks(n),r.length)})),lc(ic(e),"renderElement",(function(t,n){var r=e.props,o=r.path,i=r.formNode,a=r.formPath,l=r.device,s=r.copiedNode,c=r.dnd,u=r.isModalOpen,p=r.resize,f=[].concat(Ks(o),[n]);if(kn(t.slug))return(0,y.jsx)($s,{path:f,formNode:i,formPath:a,device:l,copiedNode:s,dnd:c,isModalOpen:u,index:n,node:t,columnId:e.props.columnId,rowId:e.props.rowId,rowPath:e.props.rowPath,resize:p},t.id)})),lc(ic(e),"renderFooter",(function(t){return(0,y.jsxs)("div",{className:t?"qx-fb-area-blank":"qx-fb-button--add",children:[(0,y.jsx)(p.default,{type:"primary",shape:"circle",className:"qxui-btn--small","qx-tooltip":"Add New Element",onClick:e.handleInsertElementClick,children:(0,y.jsx)("i",{className:"qxuicon-plus"})}),e.props.children.length?null:cr(ic(e),!0)?(0,y.jsx)(p.default,{type:"primary",shape:"circle",className:"qxui-btn--small qx-margin-small-left","qx-tooltip":"Paste Element",onClick:function(){e.props.insertCopiedNodes(e.props.path.concat(0))},children:(0,y.jsx)("i",{className:"qxuicon-paste"})}):null]})})),lc(ic(e),"renderElements",(function(t){return t.map(e.renderElement)})),e}return t=l,n=[{key:"componentDidMount",value:function(){this.setState({is_pro_user:nt()})}},{key:"render",value:function(){var e=this,t=this.props.children,n=0===t.length,r=null,o=null;return"free"===this.state.is_pro_user&&(o=(0,y.jsx)(wt.Z0,{}),r=(0,y.jsxs)(wt.ck,{onClick:this.goPro.bind(this),className:"goProLink",children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"}),"Go Pro"]})),(0,y.jsxs)("div",{className:"qx-fb-elements",children:[this.renderElements(t),this.renderFooter(n),this.state.needPasteOption?(0,y.jsx)(js,{id:this.state.id,children:(0,y.jsxs)(wt.v2,{id:this.state.id,theme:wt.dw.dark,style:{zIndex:99999},children:[(0,y.jsx)(wt.ck,{disabled:!0,title:"Element",children:"Element"},"title"),(0,y.jsxs)(wt.ck,{onClick:function(){Le(e.props.path.concat(0)),i.emit("Element_WANT_TO_COPY")},children:[(0,y.jsx)("i",{className:"qxuicon-paste"})," Paste"]}),o,r]})}):null]})}}],n&&nc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(b.Component),lc(Ys,"propTypes",{path:us().array.isRequired,children:us().array.isRequired}),Zs=Ys))||Zs;const uc=cc;function pc(e,t,n){var r,o;if(null!==(r=this.props.resize.column1)&&void 0!==r&&r.id||null!==(o=e.resize.column1)&&void 0!==o&&o.id){var i,a=null!==(i=this.props.resize.column1)&&void 0!==i&&i.id?this.props.resize:e.resize,l=Math.min(a.rowPath.length,this.props.path.length);return a.rowPath.slice(0,l).join()===this.props.path.slice(0,l).join()}if(e.isModalOpen){var s=Math.min(e.formPath.length,e.path.length);return e.formPath.slice(0,s).join()===e.path.slice(0,s).join()}return!("section"===this.props.node.slug&&this.props.isModalOpen&&!e.isModalOpen)}function fc(e){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(e)}var dc,hc;function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){_c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bc(e){return function(e){if(Array.isArray(e))return vc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t){return xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xc(e,t)}function jc(e,t){if(t&&("object"===fc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wc(e)}function wc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oc(e){return Oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oc(e)}function _c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sc={addColumnNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:T,payload:{path:e,index:t}}},showFormModal:ws,deleteNode:Ue,pasteNode:Le,pasteNodeStyle:Be,pasteNodeStyleSpecial:Fe,setNodeVisibility:ze,duplicateColumnNode:function(e){return{type:Y,payload:{path:e}}},changeColumnWidth:function(e,t){return{type:se,payload:{path:e,width:t}}},setColumnWidth:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:ce,payload:{path:e,width:t}}},setDndPlacement:Os,moveNode:De},Pc=(0,v.$j)(null,Sc)((hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xc(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Oc(r);if(o){var n=Oc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return jc(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),_c(wc(t=i.call(this,e)),"hash",lr()),_c(wc(t),"getId",(function(){var e;return null===(e=t.props.node)||void 0===e?void 0:e.id})),_c(wc(t),"getDropTypes",(function(){return["column","element"]})),_c(wc(t),"getType",(function(){return"column"})),_c(wc(t),"handleDrop",(function(e,n,r){var o=bc(t.props.path);"element"===r&&(n===$e?t.props.moveNode(e,[].concat(bc(o),["children",0])):t.props.moveNode(e,[].concat(bc(o),["children",t.props.node.children.length])))})),_c(wc(t),"shouldComponentUpdate",pc),_c(wc(t),"getDevice",(function(){return Pt(t.props.device).toLowerCase()})),_c(wc(t),"loadColumn",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(n||t.hash!==e.hash)&&(t.hash=e.hash,console.log("Re-render",e.id,e.hash),Ur(e))})),_c(wc(t),"copyNode",(function(){t.props.copyNode(t.props.path,t.props.node)})),_c(wc(t),"pasteNode",(function(){t.props.pasteNode(t.props.path)})),_c(wc(t),"duplicateNode",(function(){t.props.duplicateColumnNode(t.props.path)})),_c(wc(t),"openSettingsModal",(function(){t.props.showFormModal(t.props.path,t.props.node)})),_c(wc(t),"deleteNode",(function(){t.props.deleteNode(t.props.path,"Column")})),_c(wc(t),"handleResizeStart",(function(){Or().then((function(e){var n=Tr(t.props.rowId,e).offsetWidth;t.props.changeColumnWidth(t.props.path,n)}))})),_c(wc(t),"handleResize",(function(e){t.w=t.getUpdatedWidth(e),Qr(t.w.column1.id,t.w.column1.width[t.w.device]),Qr(t.w.column2.id,t.w.column2.width[t.w.device],!0)})),_c(wc(t),"getUpdatedWidth",(function(e){var n=t.getDevice(),r=t.getWidth();r[n]=e;var o=r[n],i=t.props.resize,a=i.column1,l=a.width,s=a.id,c=i.column2,u=c.width,p=c.id,f=mc({},l),d=mc({},u),h=f[n]+d[n];return f[n]=o,d[n]=h-o,{column1:{id:s,width:f},column2:{id:p,width:d},device:n}})),_c(wc(t),"handleResizeStop",(function(){t.w&&(delete t.w.device,t.props.setColumnWidth(t.props.path,t.w),Qr(t.w.column1.id),Qr(t.w.column2.id),delete t.w)})),_c(wc(t),"addColumn",(function(){var e=bc(t.props.path),n=e.pop();t.props.addColumnNode(e,n)})),_c(wc(t),"getWidth",(function(){var e,n=t.props,r=n.node,o=r.id,i=r.form,a=n.node,l=n.resize,s=l.column1,c=l.column2;return mc({},(null==s?void 0:s.id)===a.id||(null===(e=a.column2)||void 0===e?void 0:e.id)===a.id?s.id===o?s.width:c.width:i.general.layout_fields_group.col_width)})),_c(wc(t),"renderElements",(function(){var e=t.props,n=e.path,r=e.device,o=e.formNode,i=e.formPath,a=e.copiedNode,l=e.dnd,s=e.node,c=(s.id,s.children),u=s.form,p=e.isModalOpen,f=e.resize;return t.props.rowPath.length>9?null:(0,y.jsx)(uc,{path:[].concat(bc(n),["children"]),device:r,formNode:o,formPath:i,copiedNode:a,dnd:l,isModalOpen:p,children:c,columnId:u.advanced.identifier.id,rowId:t.props.rowId,rowPath:t.props.rowPath,resize:f},"elements")})),_c(wc(t),"toggleNodeVisibility",(function(){var e=t.props,n=e.setNodeVisibility,r=e.node.visibility,o=e.path,i=e.device;n(o,mc(mc({},r),{},_c({},i,!r[i])))})),_c(wc(t),"renderSettings",(function(){var e=t.props.node.children,n=_s(wc(t)),r=null;(e.length||1)<12&&(r=(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Add Column",onClick:t.addColumn,children:(0,y.jsx)("i",{className:"qxuicon-plus"})})),r=n?r:"";var o=(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Column Settings",onClick:t.openSettingsModal,children:(0,y.jsx)("i",{className:"qxuicon-cog"})}),i=n?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Duplicate Column",onClick:t.duplicateNode,children:(0,y.jsx)("i",{className:"qxuicon-clone"})}):"",a=n?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Delete Column",onClick:t.deleteNode,children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})}):"";return(0,y.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,y.jsxs)(as.default,{size:1,className:"qx-fb-settings qx-fb-settings--column",children:[o,i,r,(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":n?"Disable Column":"Enable Column",onClick:t.toggleNodeVisibility,children:(0,y.jsx)("i",{className:n?"qxuicon-low-vision":"qxuicon-eye"})}),a]})})})),As(wc(t)),t.state={needPasteOption:!1,showCols:!1,enableEdit:!1,columnRawHtml:"",columnRawStyle:"",id:lr("qx-column-id-"),elementKey:lr("qx-element-key-"),flex:null,maxWidth:null,showWidth:!1,align:null,field:{},resizeDone:!0,hash:null,columns:{left:{id:"",path:[]},right:{id:"",path:[]}}},t}return t=a,n=[{key:"componentDidMount",value:function(){this.loadColumn(this.props.node,!0)}},{key:"componentDidUpdate",value:function(e,t,n){this.loadColumn(this.props.node)}},{key:"render",value:function(){for(var e=this.props,t=e.isDragging,n=e.node,r=n.children,o=n.form,i=e.prentNodes,a=e.resize,l=a.column1,s=a.column2,c=(e.device,_s(this)),u=o.advanced.identifier.id,p=this.getWidth(),f=0,d=Object.keys(p);f<d.length;f++){var h=d[f],m=p[h];(null===m||Number.isNaN(m)||void 0===m)&&(p[h]=i/100)}var b=p[this.getDevice()],v=window.column[u]?window.column[u]:{classes:"lg"},g=0===r.length?"qx-fb-column--empty":"",x=[this.renderElements(),(0,y.jsx)("div",{className:"qx-hidden qx-fb-column__width "+this.state.align},"width-spacer")],j=0,w=0,O=0;null!=l&&l.id&&null!=s&&s.id&&(O=(j=l.width[this.getDevice()]+s.width[this.getDevice()])-(w=.1*j));var _=(0,y.jsx)(xs,{onResizeStart:this.handleResizeStart,onResizeStop:this.handleResizeStop,onResize:this.handleResize,min:w,max:O,width:b,children:(0,y.jsx)(Sa,{children:x})}),S=Ve()("qx-fb-column","qx-column",g,v.classes,{"qx-fb-disabled":!c,"qx-fb-dragging":t}),P=o.styles.background_overlay_fields_group.background_overlay;if(P){var q="qx-background-overlay "+u+"-background-overlay";P=(0,y.jsx)("div",{className:q})}var C=o.advanced.animation_fields_group.animation,k=o.advanced.animation_fields_group.animation_repeat,N=o.advanced.animation_fields_group.animation_delay,E={};return"none"!==C&&(_t(C)||(C="cls:"+C+";"),k&&(C+="repeat:ture;"),N&&(C=C+"delay:"+N),E["qx-scrollspy"]=C),(0,y.jsxs)("div",mc(mc({id:u,className:S},E),{},{onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:[this.renderSettings(),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),(0,y.jsxs)("div",{className:"qx-col-wrap",children:[P,_]}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")})]}),u+"-"+C)}}],n&&gc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),_c(hc,"propTypes",{path:us().array.isRequired}),dc=hc))||dc;const qc=Pc;function Cc(e){return Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(e)}var kc,Nc;function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tc(e,t)}function Dc(e,t){if(t&&("object"===Cc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ac(e)}function Ac(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ic(e){return Ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ic(e)}function Mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lc={setDndPlacement:Os,moveNode:De},Bc=(0,v.$j)(null,Lc)((Nc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tc(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ic(r);if(o){var n=Ic(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Dc(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Mc(Ac(t=i.call(this,e)),"getId",(function(){return t.props.rowId+"-column"})),Mc(Ac(t),"getDropTypes",(function(){return["column"]})),Mc(Ac(t),"getType",(function(){return"column"})),Mc(Ac(t),"renderColumn",(function(e,n){var r,o=t.props,i=o.path,a=o.children,l=o.formNode,s=o.formPath,c=o.device,u=o.copiedNode,p=o.dnd,f=o.isModalOpen,d=o.resize,h=o.responsive,m=a.length;return i=[].concat(function(e){if(Array.isArray(e))return Ec(e)}(r=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ec(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]),(0,y.jsx)(Sa,{children:(0,y.jsx)(qc,{path:i,node:e,formNode:l,formPath:s,device:c,copiedNode:u,dnd:p,isModalOpen:f,resize:d,responsive:h,rowId:t.props.rowId,rowPath:t.props.rowPath,prentNodes:m})},e.id)})),Mc(Ac(t),"renderColumns",(function(e){return e.map((function(e,n){return t.renderColumn(e,n)}))})),Mc(Ac(t),"renderEmptyRow",(function(){return(0,y.jsxs)("div",{className:"qx-fb-area-blank",onDragOver:t.onDragOver,onDragLeave:t.onDragLeave,onDrop:t.onDrop,children:[(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(t.props.rowId,"-drop-before")}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(t.props.rowId,"-drop-after")})," ",t.props.layoutTooltip]})})),Mc(Ac(t),"deviceListMapper",(function(e){return{lg:"desktop",md:"tablet",xs:"phone"}[e]})),As(Ac(t)),t}return t=a,n=[{key:"render",value:function(){var e=this.props.children,t=0===e.length;return(0,y.jsx)(y.Fragment,{children:t?this.renderEmptyRow():this.renderColumns(e)})}}],n&&Rc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Mc(Nc,"propTypes",{path:us().array.isRequired,children:us().array.isRequired}),kc=Nc))||kc;const Fc=Bc;function Uc(e){var t=e.name;return t="1-1"===t?"1":t,(0,y.jsx)("div",{title:t,className:"qx-fb-col qx-fb-col-layout-".concat(t)})}function zc(e){var t=e.onSelect,n=e.sizes,r=e.layout;return(0,y.jsx)("div",{className:"qx-padding-small qx-box-shadow-hover-small",onClick:function(){return t(n)},children:r.map((function(e,t){return(0,y.jsx)(Uc,{name:e.join("-")},t)}))})}function Hc(e){return Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(e)}var Qc;function Gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jc(e,t){return Jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jc(e,t)}function Vc(e,t){if(t&&("object"===Hc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $c(e)}function $c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(e){return Xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xc(e)}function Zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yc={changeRowLayout:Te},Kc=(0,v.$j)(null,Yc)(Qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jc(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xc(r);if(o){var n=Xc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Vc(this,e)});function a(){var e;Gc(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zc($c(e=i.call.apply(i,[this].concat(n))),"handleSelectLayout",(function(t){var n=e.props.callbackParams,r=n.rowPath,o=n.index,i=n.ignoreRowNode,a=e.props.callback(r,o,i);e.props.changeRowLayout(a,t),jQuery(".qxui-popover").addClass("qxui-popover  qxui-popover-placement-top  qxui-popover-hidden")})),Zc($c(e),"renderLayout",(function(t,n){var r=t.map((function(e){return e[0]/e[1]}));return(0,y.jsx)(zc,{sizes:r,onSelect:e.handleSelectLayout,layout:t},n)})),e}return t=a,(n=[{key:"render",value:function(){return(0,y.jsx)(Gi.Z,{trigger:this.props.trigger,button:this.props.button,bottom:!0,dismissible:!1,className:"qxui-popover--col-layout",children:(0,y.jsx)("div",{className:"qx-new-column-layouts",children:Cn.map(this.renderLayout)})})}}])&&Wc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Qc;Kc.defaultProps={visible:us().bool.isRequired,layouts:us().object.isRequired};const eu=Kc;function tu(e){return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(e)}var nu,ru;function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function au(e){return function(e){if(Array.isArray(e))return lu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cu(e,t){return cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cu(e,t)}function uu(e,t){if(t&&("object"===tu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pu(e)}function pu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fu(e){return fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fu(e)}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hu={addRowNode:Re,copyNode:Me,pasteNode:Le,pasteNodeStyle:Be,pasteNodeStyleSpecial:Fe,deleteNode:Ue,duplicateNode:Ae,showFormModal:ws,setNodeVisibility:ze,forceColumnResize:function(e,t){return{type:N,payload:{path:e,size:t}}},setDndPlacement:Os,moveNode:De},yu=(0,v.$j)(null,hu)((ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cu(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fu(r);if(o){var n=fu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return uu(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),du(pu(t=i.call(this,e)),"hash",lr()),du(pu(t),"getId",(function(){var e;return null===(e=t.props.node)||void 0===e?void 0:e.id})),du(pu(t),"getDropTypes",(function(){return["row"]})),du(pu(t),"getType",(function(){return"row"})),du(pu(t),"handleDrop",(function(e,n){var r=au(t.props.path);if(n===$e)t.props.moveNode(e,au(r));else{var o=r.pop();t.props.moveNode(e,[].concat(au(r),[o+1]))}})),du(pu(t),"shouldComponentUpdate",pc),du(pu(t),"getDevice",(function(e){switch(e||t.props.device){case"md":return"tablet";case"xs":return"phone";default:return"desktop"}})),du(pu(t),"loadRow",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(n||t.hash!==e.hash)&&(t.hash=e.hash,Ur(e))})),du(pu(t),"openSettingsModal",(function(){t.props.showFormModal(t.props.path,t.props.node)})),du(pu(t),"deleteNode",(function(){t.props.deleteNode(t.props.path,"Row")})),du(pu(t),"duplicateNode",(function(){t.props.duplicateNode(t.props.path,"Row")})),du(pu(t),"copyNode",(function(){t.props.copyNode(t.props.path)})),du(pu(t),"pasteNode",(function(){t.props.pasteNode(t.props.path)})),du(pu(t),"handleAddRowClick",(function(){var e=t.props.path.slice(),n=e.pop()+1;t.props.addRowNode(e,n)})),du(pu(t),"handleDuplicateClick",(function(){var e=t.props,n=e.path;(0,e.duplicateNode)(n,"Row")})),du(pu(t),"goPro",(function(e){return window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank"),e})),du(pu(t),"forceColumnResize",(function(){t.props.forceColumnResize(t.props.path)})),du(pu(t),"enableVisibility",(function(){var e=t.props,n=e.setNodeVisibility,r=e.path,o=e.node.visibility,i=e.device;n(r,iu(iu({},o),{},du({},i,!0)))})),du(pu(t),"rowContextMenu",(function(){var e,n;return _s(pu(t))?((null===(e=t.props.copiedNode)||void 0===e?void 0:e.id)!==t.props.node.id&&(wt.ck,t.copyNode),(null===(n=t.props.copiedNode)||void 0===n?void 0:n.slug)===t.props.node.slug&&(wt.ck,t.pasteNode),(0,y.jsxs)(wt.v2,{id:t.state.id,theme:wt.dw.light,style:{zIndex:99999},children:[(0,y.jsx)(wt.ck,{disabled:!0,title:"Row",children:"Row"},"title"),(0,y.jsxs)(wt.ck,{onClick:t.openSettingsModal,children:[(0,y.jsx)("i",{className:"qxuicon-cog"})," Settings"]}),(0,y.jsxs)(wt.ck,{onClick:t.handleAddRowClick,children:[(0,y.jsx)("i",{className:"qxuicon-plus"})," Add"]}),(0,y.jsxs)(wt.ck,{onClick:t.duplicateNode,children:[(0,y.jsx)("i",{className:"qxuicon-clone"})," Duplicate"]}),(0,y.jsx)(wt.Z0,{}),mn(pu(t)),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:t.forceColumnResize,children:[(0,y.jsx)("i",{className:"qxuicon-columns"})," Grid Reset"]}),dn(pu(t)),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:t.deleteNode,children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]}),null,null]})):(0,y.jsx)(wt.v2,{id:t.state.id,theme:wt.dw.light,style:{zIndex:99999},children:dn(pu(t))})})),du(pu(t),"renderSettings",(function(e){var n=_s(pu(t)),r=null;t.props.hidePlusIcon||(r=(0,y.jsx)("div",{className:"qx-fb-button--add",children:(0,y.jsx)(p.default,{type:"primary",shape:"circle","qx-tooltip":"Add New Row",onClick:t.handleAddRowClick,children:(0,y.jsx)("i",{className:"qxuicon-plus"})})}));var o=n?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Row Settings",onClick:t.openSettingsModal,children:(0,y.jsx)("i",{className:"qxuicon-cog"})},e+"-settings"):"",i=n?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Delete Row",onClick:t.deleteNode,children:(0,y.jsx)("i",{className:"qxio-close qx-light"})},e+"-delete"):"";return(0,y.jsxs)("div",{className:"qx-fb-settings-wrap",children:[(0,y.jsxs)(as.default,{size:1,className:"qx-fb-settings qx-fb-settings--row",children:[o,(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Options",onClick:function(e){e.stopPropagation(),t.menu.handleEvent&&t.menu.handleEvent(e)},children:(0,y.jsx)("i",{className:"qxuicon-bars"})}),(0,y.jsx)(p.default,{type:"text",size:"small",draggable:!0,onDragStart:t.startDrag,"data-qx-tooltip":"Move Row",children:(0,y.jsx)("i",{className:"qxuicon-arrows"})}),i]}),r]})})),As(pu(t)),t.state={needPasteOption:!1,enableEdit:!1,rowRawHtml:"",rowRawStyle:"",id:lr("qx-row-id-"),btnId:lr("btn-id-"),field:{}},t}return t=a,n=[{key:"componentDidMount",value:function(){jQuery("#"+this.state.btnId).click(),this.loadRow(this.props.node,!0)}},{key:"componentDidUpdate",value:function(e,t,n){this.loadRow(this.props.node)}},{key:"render",value:function(){var e=this,t=this.props,n=t.node,r=n.children,o=n.form,i=t.device,a=t.formNode,l=t.formPath,s=t.copiedNode,u=t.dnd,f=t.isModalOpen,d=t.isDragging,h=t.resize,m=t.responsive,b=t.path,v=_s(this);b=[].concat(au(b),["children"]);var g=o.advanced.identifier.id,x=Ve()("qx-fb-row",{"qx-fb-dragging":d,"qx-fb-no-column":r.length,"qx-fb-disabled":!v}),j=(Ve()({"qx-fb-disabled":!v}),Ve()("qx-row",{"qx-no-gutters":"no-gutters"===o.general.layout_fields_group.columns_gap,"qx-flex-md-row qx-flex-column-reverse":!0===o.general.layout_fields_group.mobile_reverse},this.state.field.class?this.state.field.class:"",o.general.layout_fields_group.v_align)),w=[(0,y.jsx)(c.default,{"qx-tooltip":"Add Column",placement:"bottom",children:(0,y.jsx)(p.default,{id:this.state.btnId,type:"primary",shape:"circle",children:(0,y.jsx)("i",{className:"qxuicon-plus"})},this.state.btnId+"-button")},this.state.btnId+"-tolltip")],O=(0,y.jsx)(eu,{deleteNode:this.deleteNode,trigger:"click",callback:this.props.callback,callbackParams:{rowPath:this.props.rowPath,index:this.props.index,ignoreRowNode:!0},button:w}),_=null;if(!_t(o.styles.background_overlay_fields_group.background_overlay)){var S="qx-background-overlay "+g+"-background-overlay";_=(0,y.jsx)("div",{className:S})}var P=o.styles.background_fields_group.background;if(!_t(P)&&!_t(P.state.normal.properties.parallax_method)&&"js"===P.state.normal.properties.parallax_method){var q={};_t(P.state.normal.properties.js_parallax_y)||(q.bgy=P.state.normal.properties.js_parallax_y),_t(P.state.normal.properties.js_parallax_x)||(q.bgx=P.state.normal.properties.js_parallax_x),setTimeout((function(){qxUIkit.parallax("#"+g,q)}),2e3)}return(0,y.jsxs)("div",{className:x,children:[(0,y.jsxs)(js,{id:this.state.id,menu:function(t){return e.menu=t},children:[this.renderSettings(g),(0,y.jsx)("div",{id:g,className:"qx-row-wrap",children:(0,y.jsxs)("div",{className:j,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:[(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(this.getId(),"-drop-before")}),_,(0,y.jsx)(Sa,{children:(0,y.jsx)(Fc,{nested:!!this.props.elementPath,rowPath:this.props.path,layoutTooltip:O,path:b,formNode:a,formPath:l,copiedNode:s,dnd:u,isModalOpen:f,device:i,resize:h,responsive:m,children:r,rowId:g})}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(this.getId(),"-drop-after")})]})})]}),this.rowContextMenu()]})}}],n&&su(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),du(ru,"propTypes",{path:us().array.isRequired}),du(ru,"defaultProps",{hidePlusIcon:!1}),nu=ru))||nu;const mu=yu;function bu(e){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(e)}var vu,gu;function xu(e){return function(e){if(Array.isArray(e))return ju(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ju(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ou(e,t)}function _u(e,t){if(t&&("object"===bu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Su(e)}function Su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pu(e)}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cu={addRowNode:Re,changeRowLayout:Te,duplicateNode:Ae,setDndPlacement:Os,moveNode:De},ku=(0,v.$j)(null,Cu)((gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ou(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pu(r);if(o){var n=Pu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _u(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),qu(Su(t=i.call(this,e)),"getId",(function(){return t.props.sectionId+"-row"})),qu(Su(t),"getDropTypes",(function(){return["row"]})),qu(Su(t),"getType",(function(){return"row"})),qu(Su(t),"handleDrop",(function(e,n){var r=xu(t.props.path);t.props.moveNode(e,[].concat(xu(r),[0]))})),qu(Su(t),"handleAddRowClick",(function(e,n,r){return e=e.slice(),r||t.props.addRowNode(e,n),[].concat(xu(e),[n,"children"])})),qu(Su(t),"renderEmptySection",(function(){return(0,y.jsx)("div",{className:"qx-fb-area-blank",onDragOver:t.onDragOver,onDragLeave:t.onDragLeave,onDrop:t.onDrop,children:(0,y.jsx)(eu,{trigger:"click",callback:t.handleAddRowClick,callbackParams:{rowPath:t.props.path,index:0},button:[(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(t.getId(),"-drop-before")},"placeholder-before"),(0,y.jsx)(c.default,{title:"Add Columns",children:(0,y.jsx)(p.default,{id:t.getId()+"-button",type:"primary",shape:"circle",children:(0,y.jsx)("i",{className:"qxuicon-plus"})},"button")},"tooltip"),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(t.getId(),"-drop-after")},"placeholder-after")]})})})),qu(Su(t),"renderRow",(function(e,n){var r=t.props,o=r.path,i=r.formNode,a=r.formPath,l=r.copiedNode,s=r.device,c=r.dnd,u=r.isModalOpen,p=r.resize,f=r.responsive,d=[].concat(xu(o),[n]);return(0,y.jsx)(Sa,{children:(0,y.jsx)(mu,{hidePlusIcon:t.props.hidePlusIcon,elementPath:t.props.elementPath,path:d,node:e,formNode:i,formPath:a,device:s,copiedNode:l,dnd:c,isModalOpen:u,index:n,resize:p,responsive:f,callback:t.handleAddRowClick,rowPath:t.props.path})},e.id)})),As(Su(t)),t}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;Or().then((function(t){var n;null===(n=Tr(e.getId()+"-button",t))||void 0===n||n.click()}))}},{key:"render",value:function(){var e=this.props.children,t=0===e.length;return(0,y.jsx)("div",{className:"qx-fb-rows",children:t?this.renderEmptySection():e.map(this.renderRow)})}}],n&&wu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),qu(gu,"propTypes",{path:us().array.isRequired,children:us().array.isRequired}),vu=gu))||vu;const Nu=ku;var Eu,Ru,Tu=n(46013);function Du(e){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(e)}function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){Qu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mu(e){return function(e){if(Array.isArray(e))return Lu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fu(e,t){return Fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fu(e,t)}function Uu(e,t){if(t&&("object"===Du(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zu(e)}function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hu(e)}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gu={addSectionNode:Ee,copyNode:Me,pasteNode:Le,pasteNodeStyle:Be,pasteNodeStyleSpecial:Fe,duplicateNode:Ae,deleteNode:Ue,setNodeVisibility:ze,showFormModal:ws,setDndPlacement:Os,moveNode:De,invokeTemplateModal:Pe,invokeSectionSaveModal:Oe},Wu=(0,v.$j)(null,Gu)((Ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fu(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hu(r);if(o){var n=Hu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Uu(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Qu(zu(t=i.call(this,e)),"hash",lr()),Qu(zu(t),"getId",(function(){return t.props.node.id})),Qu(zu(t),"getDropTypes",(function(){return["section"]})),Qu(zu(t),"getType",(function(){return"section"})),Qu(zu(t),"handleDrop",(function(e,n){var r=Mu(t.props.path);if(n===$e)t.props.moveNode(e,Mu(r));else{var o=r.pop();t.props.moveNode(e,[].concat(Mu(r),[o+1]))}})),Qu(zu(t),"shouldComponentUpdate",pc),Qu(zu(t),"showBlocks",(function(){var e=+t.props.path.slice().pop()+1;t.props.invokeTemplateModal([e])})),Qu(zu(t),"addSectionNode",(function(){t.props.addSectionNode(t.props.index)})),Qu(zu(t),"deleteNode",(function(){t.props.deleteNode(t.props.path,"Section")})),Qu(zu(t),"duplicateNode",(function(){t.props.duplicateNode(t.props.path,"Section")})),Qu(zu(t),"copyNode",(function(){t.props.copyNode(t.props.path)})),Qu(zu(t),"pasteNode",(function(){t.props.pasteNode(t.props.path)})),Qu(zu(t),"goPro",(function(e){return window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank"),e})),Qu(zu(t),"settingsNode",(function(){t.props.showFormModal(t.props.path,t.props.node)})),Qu(zu(t),"handleAddSectionClick",(function(e){var n=+t.props.path.slice().pop()+1;return t.props.addSectionNode(n),e})),Qu(zu(t),"handleUpdateTitle",(function(e){return(0,t.props.updateTitle)(e.target.value),e})),Qu(zu(t),"showModal",(function(){t.props.invokeSectionSaveModal(t.props.path)})),Qu(zu(t),"renderRows",(function(){var e=t.props,n=e.node,r=n.children,o=n.id,i=e.formNode,a=e.formPath,l=e.device,s=e.copiedNode,c=e.dnd,u=e.isModalOpen,p=e.resize,f=e.responsive,d=[].concat(Mu(t.props.path),["children"]);return(0,y.jsx)(Nu,{path:d,formNode:i,formPath:a,device:l,copiedNode:s,dnd:c,isModalOpen:u,resize:p,responsive:f,children:r,sectionId:o})})),Qu(zu(t),"enableVisibility",(function(){var e=t.props,n=e.setNodeVisibility,r=e.path,o=e.node.visibility,i=e.device;n(r,Iu(Iu({},o),{},Qu({},i,!0)))})),Qu(zu(t),"renderSettings",(function(e,n){var r=_s(zu(t)),o=r?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Section Settings",onClick:t.settingsNode,children:(0,y.jsx)("i",{className:"qxuicon-cog"})},n+"-settings"):"",i=r?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Delete Section",onClick:t.deleteNode,children:(0,y.jsx)("i",{className:"qxio-close qx-light"})},n+"-delete"):"";return(0,y.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,y.jsxs)(as.default,{size:1,className:"qx-fb-settings qx-fb-settings--section",children:[o,(0,y.jsx)(p.default,{type:"text",size:"small",className:"contextMenu-dropdown","qx-tooltip":"Options",onClick:function(e){e.stopPropagation(),t.menu.handleEvent(e)},children:(0,y.jsx)("i",{className:"qxuicon-bars"})}),(0,y.jsx)(p.default,{type:"text",size:"small",className:"cursor-move",draggable:!0,onDragStart:t.startDrag,"data-qx-tooltip":"Move Section",children:(0,y.jsx)("i",{className:"qxuicon-arrows"})}),i]})})})),window.contextMenu={needPasteOption:!1},As(zu(t)),t.state={id:lr("qx"),needPasteOption:window.contextMenu.needPasteOption,enableEdit:!1,sectionRawStyle:"",sectionRawHtml:{class:""},field:{},style:{},modalId:null},t}return t=a,n=[{key:"componentDidMount",value:function(){this.loadSection(this.props.node,!0)}},{key:"componentDidUpdate",value:function(e,t,n){this.loadSection(this.props.node)}},{key:"componentWillUnmount",value:function(){jQuery(this.state.modalId).remove()}},{key:"loadSection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t||this.hash!==e.hash){this.hash=e.hash,Ur(e);var n={};if(e.form.general.layout_fields_group.section_stretch){var r=jQuery(window).width(),o=jQuery("html").attr("dir"),i=Tu.findDOMNode(this).getBoundingClientRect().left;n={position:"relative",width:r},"rtl"===o?n.marginRight=i:n.marginLeft=-i,this.setState({style:n})}else this.setState({style:{}})}}},{key:"sectionContextMenu",value:function(){return _s(this)?(0,y.jsxs)(wt.v2,{id:this.state.id,theme:wt.dw.light,style:{zIndex:99999},children:[(0,y.jsx)(wt.ck,{disabled:!0,title:"Section",children:"Section"},"title"),(0,y.jsxs)(wt.ck,{onClick:this.settingsNode,children:[(0,y.jsx)("i",{className:"qxuicon-cog"}),"Settings"]}),(0,y.jsxs)(wt.ck,{onClick:this.addSectionNode,children:[(0,y.jsx)("i",{className:"qxuicon-plus"}),"Add"]}),(0,y.jsxs)(wt.ck,{onClick:this.duplicateNode,children:[(0,y.jsx)("i",{className:"qxuicon-clone"}),"Duplicate"]}),(0,y.jsx)(wt.Z0,{}),mn(this),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:this.showModal,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"}),"Save"]}),(0,y.jsx)(wt.Z0,{}),dn(this),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:this.deleteNode,children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"}),"Delete"]}),null,null]}):(0,y.jsx)(wt.v2,{id:this.state.id,theme:wt.dw.light,style:{zIndex:99999},children:dn(this)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.isDragging,o=t.node.form,i=_s(this),a=o.advanced.identifier.id,l=0===(null==n?void 0:n.length),s=document.getElementById("jform_template_type")||!1;s&&(s=s.value);var c=(0,y.jsxs)("div",{className:"qx-fb-new-section-btns qx-fb-new-section-group qx-padding-small qx-flex qx-flex-center",children:[(0,y.jsx)(p.default,{type:"primary",onClick:this.handleAddSectionClick,children:"Add Section"}),(0,y.jsx)(p.default,{id:"quix-builder-add-template-cta",className:"qx-margin-small-left",onClick:function(){return e.showBlocks(e.props.path)},children:"Add Templates"})]});if(!a||"object"===Du(a))return console.warn("Section rendering problem found!",this.props.node),(0,y.jsx)("div",{className:"qx-alert qx-alert-danger",children:(0,y.jsx)("h3",{children:"Section rendering problem found! check console for details."})});var u=Ve()("qx-fb-section",{"qx-fb-empty-section":l,"qx-fb-dragging":r,"qx-fb-disabled":!i}),f=o.styles.background_fields_group.background,d=Ve()("qx-section",{"qx-section--stretch":o.general.layout_fields_group.section_stretch,"qx-section-height-full":"full"===o.general.layout_fields_group.height,"qx-section-height-custom":"custom"===o.general.layout_fields_group.height,"qx-cover-container":"video"===f.state.normal.type,"qx-section-has-divider":"none"!==o.styles.divider_top_fields_group.top_divider_style||"none"!==o.styles.divider_bottom_fields_group.bottom_divider_style},this.state.field.class?this.state.field.class.value:""),h=(Ve()({"qx-fb-disabled":!i}),o.advanced.identifier.class),m="qx-container";"fluid"!==o.general.layout_fields_group.container_type&&"custom"!==o.general.layout_fields_group.container_type||(m="qx-container-fluid"),("full"===o.general.layout_fields_group.height||"custom"===o.general.layout_fields_group.height&&!_t(o.general.layout_fields_group.v_align))&&(m+=" "+o.general.layout_fields_group.v_align);var b=ss(o.styles.divider_top_fields_group.top_divider_style),v=ss(o.styles.divider_bottom_fields_group.bottom_divider_style),g="none"!==o.styles.divider_top_fields_group.top_divider_style?(0,y.jsx)("div",{className:"qx-shape qx-shape-top",dangerouslySetInnerHTML:{__html:b}}):"",x="none"!==o.styles.divider_bottom_fields_group.bottom_divider_style?(0,y.jsx)("div",{className:"qx-shape qx-shape-bottom",dangerouslySetInnerHTML:{__html:v}}):"",j=null;_t(o.styles.background_fields_group.background)||(j="video"===f.state.normal.type?(0,y.jsx)("video",{className:"qx-background-video",src:f.state.normal.properties.url.source,autoPlay:"",loop:"",muted:"",playsInline:"","data-qx-cover":"","data-qx-video":"automute: true;autoplay: inview"}):null);var w=null;if(!_t(o.styles.background_overlay_fields_group.background_overlay)){var O="qx-background-overlay ".concat(o.advanced.identifier.id,"-background-overlay");w=(0,y.jsx)("div",{className:O})}var _={};_t(o.styles.background_fields_group.background)||_t(o.styles.background_fields_group.background.state.normal.properties.parallax_method)||"js"===o.styles.background_fields_group.background.state.normal.properties.parallax_method&&(_t(o.styles.background_fields_group.background.state.normal.properties.js_parallax_y)||(_.bgy=o.styles.background_fields_group.background.state.normal.properties.js_parallax_y),_t(o.styles.background_fields_group.background.state.normal.properties.js_parallax_x)||(_.bgx=o.styles.background_fields_group.background.state.normal.properties.js_parallax_x));var S="";void 0!==(null==_?void 0:_.bgx)&&(S="bgy:".concat(null==_?void 0:_.bgy,";bgx:").concat(null==_?void 0:_.bgx));var P="section"!==s?this.props.size-1===this.props.index?c:null:(0,y.jsxs)("div",{className:"qx-alert qx-alert-danger qx-text-center",children:["For ",(0,y.jsx)("strong",{children:"Section"})," Template, More then one section is not allowed. Please Create a Layout template, If you want multiple section."]});return(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{id:"".concat(a,"-wrapper"),className:u,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:[(0,y.jsx)(js,{id:this.state.id,menu:function(t){return e.menu=t},children:(0,y.jsxs)("div",{id:a,className:[d,h].join(" "),style:this.state.style,"data-qx-parallax":S,children:[this.renderSettings(a),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),j,w,g,x,(0,y.jsx)("div",{className:m,children:this.renderRows()}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")})]})}),this.sectionContextMenu()]}),P]})}}],n&&Bu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Qu(Ru,"propTypes",{path:us().array.isRequired}),Eu=Ru))||Eu;const Ju=Wu;function Vu(e){return Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(e)}var $u;function Xu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yu(e,t){return Yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yu(e,t)}function Ku(e,t){if(t&&("object"===Vu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ep(e)}var tp={addSectionNode:Ee,invokeTemplateModal:Pe};const np=(0,v.$j)(null,tp)($u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yu(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ep(r);if(o){var n=ep(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ku(this,e)});function a(){return Xu(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"qx-fb-blank-page__section qx-container",style:{border:"1px dashed rgb(185,186,185, 1)",padding:"40px",lineHeight:"1.5"},children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("h1",{className:"qx-h3 qx-text-bold",children:["Create a new Section",(0,y.jsx)("em",{className:"qx-text-small qx-display-block qx-text-muted",children:"or Import from Templates"})]}),(0,y.jsx)("p",{className:"qx-lead qx-margin-bottom-large",children:"Start designing by adding Section, Columns (with Container) and Elements"}),(0,y.jsx)("div",{className:"qx-margin qx-padding",style:{borderBottom:"1px dashed rgb(185,186,185, 1)",marginBottom:"40px"},children:(0,y.jsxs)("div",{className:"qx-fb-section__empty qx-fb-new-section-group",children:[(0,y.jsxs)(p.default,{type:"primary",size:"large",onClick:function(){return e.props.addSectionNode()},children:[(0,y.jsx)("i",{className:"qxuicon-plus"}),"Add Section"]}),(0,y.jsxs)(p.default,{size:"large",onClick:function(){return e.props.invokeTemplateModal([0])},children:[(0,y.jsx)("i",{className:"qxuicon-columns"}),"Add Template"]})]})})]}),(0,y.jsx)("div",{className:"qx-container-fluid",style:{fontSize:"14px"},children:(0,y.jsxs)("div",{className:"qx qx-grid qx-text-left qx-child-width-1-2","qx-grid":"",children:[(0,y.jsx)("div",{className:"qx-first-column",children:(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"qx-h4",children:"Control Icons"}),(0,y.jsxs)("ul",{className:"qx-list qx-margin-remove-left",style:{columnCount:"2"},children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-clipboard"}),"Copy"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-trash-alt"}),"Delete"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-arrows"}),"Move"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-low-vision"}),"Disable"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-clone"}),"Duplicate"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"}),"Save as Library"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-columns"}),"Grid Reset"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-eye-dropper"}),"Copy Style"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-bars"}),"Context Menu"]})]})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"qx-grid qx-child-width-1-2","qx-grid":"",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"qx-h4",children:"Quix Guide"}),(0,y.jsxs)("ul",{className:"qx-list qx-margin-remove-left",children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-angle-right"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/docs/quix-builder/basics",target:"_blank",children:"Quix Basic"})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-angle-right"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/docs/quix-builder/features",target:"_blank",children:"Features"})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-angle-right"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/docs/quix-builder/seo",target:"_blank",children:"SEO"})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-angle-right"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/docs/quix-builder/optimization",target:"_blank",children:"QuixRank"})]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"qx-h4",children:"Resources"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/video-tutorials",children:(0,y.jsx)("img",{src:it()+"media/quixnxt/images/banners/thumb_video.jpg",style:{backgroundColor:"purple",width:"190px"},alt:"Welcome to Quix"})})]})]})})]})})]})}}])&&Zu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||$u;function rp(e){return rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(e)}var op;function ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lp(e,t){return lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lp(e,t)}function sp(e,t){if(t&&("object"===rp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cp(e)}function cp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},up(e)}function pp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fp={addSectionNode:Ee,invokeTemplateModal:Pe},dp=(0,v.$j)((function(e){var t=e.meta.qid,n=e.nodes,r=n.nodes,o=n.device,i=n.responsive,a=n.clipboard.node,l=n.resize,s=e.form,c=s.node,u=s.path,p=e.action.action;return{responsive:i,formPath:u,formNode:c,copiedNode:a,device:o,dnd:e.dnd,qid:t,isModalOpen:!(null==c||!c.id),resize:l,sections:r,action:p}}),fp)(op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lp(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=up(r);if(o){var n=up(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sp(this,e)});function a(){var e;ip(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pp(cp(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",jo()),pp(cp(e),"addBodyClass",(function(){Or().then((function(t){0===e.props.sections.length?t.querySelector(".app-mount").classList.add("qx-fb-blank-page"):t.querySelector(".app-mount").classList.remove("qx-fb-blank-page")}))})),pp(cp(e),"renderSection",(function(t,n){var r=e.props,o=r.sections,i=r.formNode,a=r.formPath,l=r.device,s=r.copiedNode,c=r.dnd,u=r.isModalOpen,p=r.resize,f=r.responsive,d=r.qid;return(0,y.jsx)(Sa,{children:(0,y.jsx)(Ju,{size:o.length,path:[n],index:n,node:t,formNode:i,formPath:a,device:l,copiedNode:s,dnd:c,isModalOpen:u,resize:p,responsive:f,qid:d})},t.id)})),pp(cp(e),"renderSections",(function(t){return t.map(e.renderSection)})),e}return t=a,n=[{key:"componentDidMount",value:function(){this.addBodyClass()}},{key:"componentDidUpdate",value:function(e,t,n){e.sections.length!==this.props.sections.length&&this.addBodyClass()}},{key:"render",value:function(){var e=this.props.sections;return 0===e.length?(0,y.jsx)(np,{}):(0,y.jsx)("div",{children:this.renderSections(e)})}}],n&&ap(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||op;const hp=dp;n(33322);var yp=n(11597);function mp(e){return mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(e)}function bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gp(e,t){return gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gp(e,t)}function xp(e,t){if(t&&("object"===mp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jp(e)}const wp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gp(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jp(r);if(o){var n=jp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xp(this,e)});function a(){return bp(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"qx-section-fluid qx-p-5 qx-card qx-card-body",children:[(0,y.jsx)(l.default,{prefixCls:"qxui-progress",strokeColor:{from:"#108ee9",to:"#87d068"},percent:99.99,status:"active",showInfo:!1}),(0,y.jsx)("h1",{className:"qx-text-center qx-mt-5",children:"Building your Layouts"}),(0,y.jsx)("p",{className:"qx-text-center qx-m-1 qx-text-muted",children:"Please wait for a moment, awesome things are happening here..."}),(0,y.jsx)("hr",{}),(0,y.jsx)("div",{style:{marginLeft:"-30px"},children:(0,y.jsx)(yp.default,{title:!1,active:!0,paragraph:{rows:4}})})]})}}])&&vp(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function Op(e){return Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(e)}function _p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sp(e,t){return Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sp(e,t)}function Pp(e,t){if(t&&("object"===Op(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qp(e)}function qp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cp(e)}var kp=tl.default.Option;const Np=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sp(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cp(r);if(o){var n=Cp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pp(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o={accessListArray:[]},(r="state")in(n=qp(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return t=a,(n=[{key:"UNSAFE_componentWillMount",value:function(){for(var e=document.getElementById("jform_access").options,t=[],n=e.length,r=0;r<n;r++)""!=e[r].value&&t.push({text:e[r].text,value:e[r].value});this.setState({accessListArray:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:n}),(0,y.jsx)(tl.default,{label:n,defaultValue:"1",value:r,style:{width:"100%"},onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:this.state.accessListArray.map((function(e){return(0,y.jsx)(kp,{children:e.text},e.value)}))})]})}}])&&_p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);n(817);var Ep=n(1009);function Rp(e){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(e)}function Tp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ap(e,t){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ap(e,t)}function Ip(e,t){if(t&&("object"===Rp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mp(e)}function Mp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(e)}function Bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fp=Vo.default.Group,Up=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ap(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lp(r);if(o){var n=Lp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ip(this,e)});function l(){var e;Tp(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bp(Mp(e=i.call.apply(i,[this].concat(n))),"state",{visible:!1}),Bp(Mp(e),"onChange",(function(t,n){void 0!==e.props.url&&"url"===t&&e.props.onChange({text:e.props.text,url:n,target:e.props.target,nofollow:e.props.nofollow})})),Bp(Mp(e),"onNoFollowChange",(function(t){var n=!1;t.target.checked&&(n=!0),e.props.onChange({target:e.props.target,url:e.props.url,nofollow:n})})),Bp(Mp(e),"onTargetChange",(function(t){var n="";t.target.checked&&(n=t.target.value),e.props.onChange({target:n,url:e.props.url,nofollow:e.props.nofollow})})),Bp(Mp(e),"renderUrl",(function(t){return(0,y.jsx)(Vo.default,{label:"URL",placeholder:"https://www.yoursite.com",value:t,"data-for":"link-url",prefixCls:"qxui-input",onChange:function(t){e.onChange("url",t.target.value,Mp(e))}})})),Bp(Mp(e),"getLabelMarkup",(function(){var t=e.props.label;return(0,y.jsx)("span",{children:t})})),Bp(Mp(e),"getHelpMarkup",(function(){var t=e.props.help;if(t)return(0,y.jsx)(Gi.Z,{content:t,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})})})),Bp(Mp(e),"getOptions",(function(){var t=e.props,n=t.target,r=t.nofollow;return(0,y.jsxs)(a.default,{prefixCls:"qxui-menu",children:[(0,y.jsx)(a.default.Item,{children:(0,y.jsx)(Ep.default,{checked:"new_window"===n,onChange:function(t){return e.onTargetChange(t)},value:"new_window",children:"Open in new window"})},"target"),(0,y.jsx)(a.default.Item,{children:(0,y.jsx)(Ep.default,{checked:r,onChange:function(t){return e.onNoFollowChange(t)},value:"nofollow",children:"Add nofollow"})},"nofollow")]})})),Bp(Mp(e),"handleVisibleChange",(function(t){e.setState({visible:t})})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props.url;return(0,y.jsxs)("div",{className:"qx-fb-field-link",children:[(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup()]}),(0,y.jsxs)(Fp,{children:[void 0===e?null:this.renderUrl(e),(0,y.jsx)(u.default,{overlay:this.getOptions(),placement:"bottomRight",prefixCls:"qxui-dropdown",onVisibleChange:this.handleVisibleChange,visible:this.state.visible,getPopupContainer:function(){return window.document.body},children:(0,y.jsx)(p.default,{style:{width:"10%",padding:"0"},children:(0,y.jsx)("i",{className:"qxuicon-cog"})})})]})]})}}])&&Dp(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(b.Component);Up.propTypes={label:us().string,url:us().string,target:us().string};const zp=Up;n(70883);var Hp=n(6347),Qp=n(49323),Gp=n.n(Qp),Wp=n(71811),Jp=n.n(Wp),Vp=(n(67801),n(58404)),$p=(n(17585),n(60761)),Xp=n(45854),Zp=n.n(Xp),Yp=n(32112),Kp=n.n(Yp);const ef=function(e){e.getTabName=function(){return"mobile"===dt("qx-device")?"phone":dt("qx-device")}};function tf(e){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(e)}function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach((function(t){uf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function of(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function af(e,t){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},af(e,t)}function lf(e,t){if(t&&("object"===tf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sf(e)}function sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cf(e)}function uf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&af(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cf(n);if(r){var o=cf(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return lf(this,e)});function i(){var e;of(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return uf(sf(e=o.call.apply(o,[this].concat(n))),"onResponsive",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState(rf({responsive:!e.state.responsive,tab:e.state.tab},t))})),uf(sf(e),"getPlaceholder",(function(t){var n,r=e.props.value;return null!==(n=r)&&void 0!==n&&n.desktop&&(r=r.desktop),r[t]||St(t)})),uf(sf(e),"getResponsiveTogglePreview",(function(){if(!e.props.responsive)return null;var t=(0,y.jsxs)(a.default,{onClick:function(t){var n=t.key;e.props.setDevice(Pt(n))},className:"qx-text-center",children:[(0,y.jsx)(a.default.Item,{children:(0,y.jsx)("span",{className:"qxuicon-desktop"})},"Desktop"),(0,y.jsx)(a.default.Item,{children:(0,y.jsx)("span",{className:"qxuicon-tablet"})},"Tablet"),(0,y.jsx)(a.default.Item,{children:(0,y.jsx)("span",{className:"qxuicon-mobile"})},"Phone")]}),n="phone"===e.props.device?"mobile":e.props.device;return(0,y.jsx)(u.default,{overlay:t,trigger:"click",children:(0,y.jsx)(p.default,{size:"small",type:"text",className:"device-"+n,children:(0,y.jsx)("span",{className:"qxuicon-"+n})})})})),uf(sf(e),"getUnitMarkup",(function(){var t=e.props,n=t.units,r=t.value,o=t.suffix;if(void 0===n)return null;if(!1===n||null===n)return o?(0,y.jsx)("div",{className:"qxui-units-switcher",children:(0,y.jsx)("span",{className:"qxui-units__value",children:o})}):null;n=n||["%","px"];var i=(0,y.jsx)(a.default,{onClick:function(t){var n=t.key;e.onUnitChange(n)},children:n.map((function(e){return(0,y.jsxs)(a.default.Item,{children:[" ",e," "]},e)}))});return(0,y.jsxs)("div",{className:"qxui-units-switcher",children:[(0,y.jsx)("span",{className:"qxui-units__value",children:null==r?void 0:r.unit}),n.length>1?(0,y.jsx)(u.default,{overlay:i,trigger:["click"],children:(0,y.jsx)(p.default,{size:"small",type:"link",children:(0,y.jsx)("span",{className:"qxuicon-ellipsis-h-alt"})})}):null]})})),uf(sf(e),"getLabelMarkup",(function(){var t=e.props.label;return(0,y.jsx)("div",{className:"qx-fb-field-label-group",children:(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-between",children:[(0,y.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[(0,y.jsx)("span",{children:t}),e.getHelpMarkup(),e.getResponsiveTogglePreview(),e.getResetMarkup()]}),(0,y.jsx)("div",{children:e.getUnitMarkup()})]})})})),uf(sf(e),"getHelpMarkup",(function(){var t=e.props.help;if(t)return(0,y.jsx)(Gi.Z,{content:t,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",style:{paddingRight:"2px"},children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})})})),uf(sf(e),"getResetMarkup",(function(){var t,n=e.props,r=n.device,o=n.default;return o&&!Ji()((null==o?void 0:o[r])||o,(null===(t=e.props.value)||void 0===t?void 0:t[r])||e.props.value)?(0,y.jsx)(c.default,{title:"Reset Settings",onClick:function(){return e.onReset(r)},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-undo"})})}):null})),uf(sf(e),"onReset",(function(){throw new Error("Must implement onReset")})),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(b.Component);var ff,df;function hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hf(Object(n),!0).forEach((function(t){wf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mf(e){return mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(e)}function bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vf(e,t){return vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vf(e,t)}function gf(e,t){if(t&&("object"===mf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xf(e)}function xf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jf(e)}function wf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Of={setDevice:He};const _f=(0,v.$j)((function(e){return{device:Pt(e.nodes.device,!0)}}),Of)((df=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vf(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jf(r);if(o){var n=jf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gf(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),wf(xf(t=i.call(this,e)),"handleChange",(function(e){var n=t.props,r=n.value,o=n.units,i=n.onChange,a=n.responsive;"object"===mf(r)||a?a?(r=yf(yf({},r),{},wf({},t.props.device,e[0])),t.props.onChange(r)):!o||_t(Kp()(o))?i(yf({},e[0])):i({value:e[0],unit:o[0]}):i(e[0])})),wf(xf(t),"onReset",(function(e){if(!1!==t.props.responsive){var n,r={};r[e]=t.props.default[e],n=Zp()(t.props.value,r),t.props.onChange(n),t.setState({reset:!0,desktop:t.props.default})}else t.props.onReset()})),wf(xf(t),"onUnitChange",(function(e){t.props.onChange(yf(yf({},t.props.value),{},{unit:e}))})),wf(xf(t),"getValue",(function(e){return!1===t.props.responsive?zt()(t.props.value)?void 0===t.props.value.desktop?t.props.value.value:t.props.value.desktop:t.props.value:t.props.value[e]})),wf(xf(t),"renderDeviceContent",(function(){var e,n,r=t.props,o=r.min,i=r.max,a=r.step,l=r.device,s=r.suffix,c=(null===(e=t.props.value)||void 0===e?void 0:e.unit)||s||t.props.default;({close:t.state.responsive})[l]=!t.state.responsive;var u=t.getValue(l)<o?o:t.getValue(l);return"desktop"!==l&&(u=t.getValue(l)),i="%"===c?100:i,n="%"===c&&u>100?u=100:u,(0,y.jsx)("div",{className:"qx-flex",children:(0,y.jsxs)(Vo.default.Group,{children:[(0,y.jsx)($p.Z,{min:o,max:i,range:!0,defaultValue:n?[parseFloat(n)]:[0],value:n?[parseFloat(n)]:[0],step:a,onChange:t.handleChange,style:{width:"100%",marginRight:"10px"}}),(0,y.jsx)(Vp.Z,{min:o,max:i,step:a,value:zt()(u)?u.value:u||0,onChange:function(e){if(e<=i&&e>=o){var n=[];n.push(e),t.handleChange(n)}}})]})})})),ef(xf(t)),t.state={responsive:"desktop"!==t.getTabName(),reset:!1},t}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"qx-fb-field-slider ".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:[this.getLabelMarkup(),this.renderDeviceContent()]})}}])&&bf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(pf),wf(df,"propTypes",{step:us().number,min:us().number,max:us().number,suffix:us().string}),wf(df,"defaultProps",{min:0,max:100,step:1,reset:!0}),ff=df))||ff;var Sf=n(55329);function Pf(e){return Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(e)}function qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cf(e,t){return Cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cf(e,t)}function kf(e,t){if(t&&("object"===Pf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nf(e)}function Nf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ef(e)}function Rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tf=["#007bff","#6f42c1","#e83e8c","#dc3545","#ffc107","#28a745"],Df=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cf(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ef(r);if(o){var n=Ef(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kf(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Rf(Nf(t=i.call(this,e)),"shouldComponentUpdate",jo()),Rf(Nf(t),"handleClose",(function(){t.setState({displayColorPicker:!1})})),Rf(Nf(t),"openColorPicker",(function(){t.setState({displayColorPicker:!t.state.displayColorPicker})})),Rf(Nf(t),"handleChangeComplete",(function(e){t.setState({color:e}),e="rgb"===e.source?"rgb("+Object.values(e.rgb).join(", ")+")":e.hex,window.quix_preset_color=e,t.props.onChange(e)})),Rf(Nf(t),"resetColor",(function(){t.props.onChange("")})),Rf(Nf(t),"removeColor",(function(){t.props.onChange("")})),Rf(Nf(t),"getLabelMarkup",(function(){var e=t.props.label;return t.props.onlyBaseText?null:(0,y.jsxs)("p",{className:"qx-fb-field__label",children:[e," ",t.getHelpMarkup()," "]})})),Rf(Nf(t),"getHelpMarkup",(function(){var e=t.props.help;return t.props.onlyBaseText?null:e?(0,y.jsx)(Gi.Z,{content:e,placement:"right",popupStyle:{width:"300px"},getPopupContainer:function(){return window.document.body},children:(0,y.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})}):void 0})),t.state={defaultPresetColors:Tf,displayColorPicker:!1,color:t.props.value},t}return t=a,(n=[{key:"componentDidMount",value:function(){if(dt("quix-preset-colors")){var e=JSON.parse(dt("quix-preset-colors"));this.setState({defaultPresetColors:e})}}},{key:"usePresetColor",value:function(e){this.props.onChange(e),window.quix_preset_color=e}},{key:"render",value:function(){var e=(0,y.jsx)(Sf.iY,{colors:this.state.defaultPresetColors,onChange:this.handleChangeComplete}),t=(0,y.jsx)(Sf.AI,{color:this.state.color,onChange:this.handleChangeComplete}),n=(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:"Color Picker"}),(0,y.jsx)("div",{children:(0,y.jsx)(c.default,{title:"Reset Color",placement:"bottom",children:(0,y.jsx)(p.default,{className:"qx-box-shadow-small",size:"small",onClick:this.resetColor,children:(0,y.jsx)("span",{className:"qxuicon-undo",style:{fontSize:"10px"}})})})})]});return(0,y.jsxs)("div",{className:"qx-fb-field-color qx-grid qx-flex-middle",children:[(0,y.jsx)("div",{children:this.getLabelMarkup()}),(0,y.jsx)("div",{className:"qx-margin-auto-left",children:(0,y.jsxs)(Vo.default.Group,{children:[(0,y.jsx)(Gi.Z,{content:e,title:"Preset Colors",trigger:"click",children:(0,y.jsx)(p.default,{children:(0,y.jsx)("span",{className:"qxuicon-globe"})})}),(0,y.jsx)(Gi.Z,{content:t,title:n,trigger:"click",children:(0,y.jsx)(p.default,{onClick:this.openColorPicker,style:{backgroundColor:this.props.value},children:(0,y.jsx)("span",{className:"qxuicon-eye-dropper qx-blend-difference qx-light"})})})]})})]})}}])&&qf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Df.propTypes={},Df.defaultProps={};const Af=Df;function If(e){return If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(e)}var Mf;function Lf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ff(e,t){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ff(e,t)}function Uf(e,t){if(t&&("object"===If(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zf(e)}function zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hf(e)}function Qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gf=st(),Wf=function(e,t){return{type:de,payload:{config:e,callback:t,show:!!e}}},Jf={openMediaPicker:Wf};const Vf=(0,v.$j)((function(e){var t=e.action,n=t.jmedia,r=void 0===n?{}:n;return{visible:t.openJMedia,config:null==r?void 0:r.config,callback:null==r?void 0:r.callback}}),Jf)(Mf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ff(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hf(r);if(o){var n=Hf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Uf(this,e)});function a(){var e;Lf(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qf(zf(e=i.call.apply(i,[this].concat(n))),"onClose",(function(){e.props.openMediaPicker(!1)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;window.getJMediaValue=function(t){window.fCallback&&(fCallback(t),e.onClose())}}},{key:"render",value:function(){var e=this,t=this.props.config,n="";_t(t)||(n=t.filters);var r="".concat(quix.url,"/index.php?option=com_jmedia&view=images&source=quix&tmpl=component&filters=").concat(n.replaceAll(",","-"),"&callback=onSelectJMedia&").concat(Gf,"=1"),o=(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-width-1-1",children:[(0,y.jsx)("span",{children:"JMedia - File Manager for Joomla!"}),(0,y.jsxs)(c.default,{title:"Toggle window size",children:[(0,y.jsx)(p.default,{type:"link",size:"small",onClick:function(){return document.getElementById("jmedia-builder-iframe").contentDocument.location.reload(!0)},children:(0,y.jsx)("i",{className:"qxuicon-redo qx-light"})},"resize"),(0,y.jsx)(p.default,{type:"link",size:"small",onClick:this.onClose,children:(0,y.jsx)("i",{className:"qxio-close qx-light"})},"close")]},"resize")]});return(0,y.jsx)(Eo,{className:"jmedia-filemanager fm-modal",title:o,show:!0,wrapClassName:"",onCancel:this.onClose,closable:!1,width:1080,close:function(){return e.props.openMediaPicker(!1)},style:{left:"calc(50vw - 540px)",display:this.props.visible?"block":"none"},expandable:!1,overrideHeader:!0,bodyStyle:{margin:"0px",padding:"0px"},destroyOnClose:!1,children:(0,y.jsx)("iframe",{id:"jmedia-builder-iframe","data-src":r,src:"",width:"1080px",height:"500px"})})}}])&&Bf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Mf;function $f(e){return $f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(e)}var Xf;function Zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zf(Object(n),!0).forEach((function(t){od(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ed(e,t){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ed(e,t)}function td(e,t){if(t&&("object"===$f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nd(e)}function nd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(e)}function od(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var id="rgba(0, 0, 0, 1)",ad=["svg","image","video"],ld={openMediaPicker:Wf},sd=(0,v.$j)(null,ld)(Xf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ed(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rd(r);if(o){var n=rd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return td(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),od(nd(t=i.call(this,e)),"fileSelectCallback",(function(e){var n,r,o,i;if(-1!==Jp()(ad,e.type))return e={type:e.type,base_domain:it(),source:e[e.type],dimension:null!==(n=null===(r=t.props.value)||void 0===r?void 0:r.dimension)&&void 0!==n?n:{width:"",height:""},properties:null!==(o=null===(i=t.props.value)||void 0===i?void 0:i.properties)&&void 0!==o?o:{color:id,size:30}},t.props.onChange(Yf({},e)),!0;m.error("Only you can select [ "+ad.join(", ")+" ]. Current format is "+e.type)})),od(nd(t),"handleChange",(function(e){var n,r=e.target.value,o=void 0===r?"":r;switch(o.split(".").pop().toLowerCase()){case"svg":n="svg";break;case"jpg":case"jpeg":case"png":case"webp":case"gif":case"bmp":case"ico":n="image";break;case"mp4":case"mov":case"flv":case"mkv":case"movie":case"mpeg":case"mpg":n="video";break;default:n=t.getTypeFromFilters()}t.props.onChange(Yf(Yf({},t.props.value),{},{source:o,type:n}))})),od(nd(t),"handleChangeWidth",(function(e){var n=e.target.value,r=void 0===n?"":n;t.props.onChange(Yf(Yf({},t.props.value),{},{dimension:Yf(Yf({},t.props.value.dimension),{},{width:r})}))})),od(nd(t),"handleChangeHeight",(function(e){var n=e.target.value,r=void 0===n?"":n;t.props.onChange(Yf(Yf({},t.props.value),{},{dimension:Yf(Yf({},t.props.value.dimension),{},{height:r})}))})),od(nd(t),"getTypeFromFilters",(function(){return t.props.filters.includes("image")?"image":t.props.filters.includes("video")?"video":t.props.filters.includes("icon")?"svg":"unknown"})),od(nd(t),"handleReset",(function(){t.props.onChange({type:t.getTypeFromFilters(),source:"",dimension:{width:"",height:""}})})),od(nd(t),"loadSvg",(function(e){return bt()(e,"<svg")||bt()(e,"<?xml")?e:"svg"===e.split(".").pop()?'<img src="'+tt()+"/"+e+'" alt="icon-alt" class="qx-preserve" qx-svg="" />':'<i class="'+e+'"/>'})),od(nd(t),"handleSvgChange",(function(e){var n=e.size,r=e.color,o=t.props.value,i=o.properties;n&&(i=Gp()(i,{size:n})),r&&(r="null"===r?"":r,i=Gp()(i,{color:r})),t.props.onChange(Yf({},Gp()(o,{properties:i})))})),od(nd(t),"getPickerPlaceholder",(function(){var e=t.props.value,n=t.props.filters,r=qt(e.source);if(_t(r)){var o=t.props.filters.split(",").join(" qx-picker-");return(0,y.jsx)(Hp.default,{className:o,image:qt("media/quixnxt/images/empty.svg"),imageStyle:{height:60},description:(0,y.jsx)("span",{children:"Click here to add your media"}),onClick:function(){t.getFileManagerModal(t.fileSelectCallback,{filters:t.props.filters})},style:{cursor:"pointer"}})}var i=(0,y.jsx)("img",{className:"qx-cover",alt:"qx-image",src:r,onClick:function(){t.getFileManagerModal(t.fileSelectCallback,{filters:t.props.filters})}});if(e&&"svg"===e.type&&(i=(0,y.jsx)("div",{className:"media-component-svg-icon qx-cover",style:{fontSize:"100px"},onClick:function(){t.getFileManagerModal(t.fileSelectCallback,{filters:n})},dangerouslySetInnerHTML:{__html:t.loadSvg(e.source)}})),e&&"video"===e.type){var a="video/"+r.split(".").pop();i=(0,y.jsx)("video",{playsInline:!0,controls:!0,children:(0,y.jsx)("source",{type:a,src:r})})}var l="qx-position-relative qx-transition-toggle qx-height-small qx-cover-container qx-dot-background "+t.props.filters.split(",").join(" qx-picker-");return(0,y.jsxs)("div",{className:l,children:[i,(0,y.jsx)("div",{className:"qx-position-cover qx-overlay qx-overlay-default qx-transition-fade"}),(0,y.jsxs)("div",{className:"qx-flex qx-flex-center qx-flex-middle h-100 qx-transition-scale-up qx-position-cover",children:[(0,y.jsx)(c.default,{title:"Add Image",children:(0,y.jsx)(p.default,{type:"text",onClick:function(){t.getFileManagerModal(t.fileSelectCallback,{filters:t.props.filters})},children:(0,y.jsx)("span",{className:"qxuicon-plus"})})}),(0,y.jsx)(c.default,{title:"Remove Image",children:(0,y.jsx)(p.default,{danger:!0,type:"text",onClick:t.handleReset,children:(0,y.jsx)("span",{className:"qxuicon-trash-alt"})})})]})]})})),od(nd(t),"onReset",(function(e){var n=e.color,r=t.props.value,o=r.properties;o=n?Gp()(o,{color:id}):Gp()(o,{size:30}),t.props.onChange(Yf({},Gp()(r,{properties:o})))})),od(nd(t),"renderSvgSettings",(function(){var e=t.props.value,n=e.properties,r=["px"];e.source||(n={color:id,size:30},r=["px","%"]);var o=n,i=o.color,a=o.size;return(0,y.jsxs)("div",{className:"qx-fb-field-image__svg-settings",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{units:r,defaultUnit:"px",label:"Size",min:0,max:500,value:a,default:0,onChange:function(e){return t.handleSvgChange({size:e})},responsive:!1,onReset:function(){return t.onReset({})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Af,{label:"Color",onlyColorPicker:!0,labelFor:"background__color",value:i,onChange:function(e){e?t.handleSvgChange({color:e}):t.handleSvgChange({color:"null"})},onReset:function(){return t.onReset({color:!0})}})})]})})),od(nd(t),"getLabelMarkup",(function(){var e=t.props.label;return(0,y.jsxs)("p",{className:"qx-fb-field__label",children:[e," ",t.getHelpMarkup()," "]})})),od(nd(t),"getHelpMarkup",(function(){var e=t.props.help;if(e)return(0,y.jsx)(Gi.Z,{content:e,placement:"right",popupStyle:{width:"350px"},children:(0,y.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})})})),od(nd(t),"getFileManagerModal",(function(e,n){window.fCallback=e,t.props.openMediaPicker(n,e),setTimeout((function(){var e,t,n,r=Tr("jmedia-builder-iframe"),o=null===(e=Tr("jmedia-builder-iframe").attributes)||void 0===e||null===(t=e.src)||void 0===t?void 0:t.value,i=null===(n=Tr("jmedia-builder-iframe").dataset)||void 0===n?void 0:n.src;o!==i&&(r.attributes.src.value=i)}),100)})),t.state={url:null,visible:!0,id:lr("qx-jmedia-")},t}return t=a,n=[{key:"render",value:function(){var e,t,n=this.props,r=n.value,o=n.showStyle,i=null;return r&&"svg"===r.type&&!1!==o&&(i=this.renderSvgSettings()),(0,y.jsxs)("div",{className:"qx-fb-field-image",children:[this.getLabelMarkup(),(0,y.jsxs)("div",{className:"qx-padding-small qx-box-shadow-small qx-margin-small-bottom",style:{border:"1px solid #eee"},children:[this.getPickerPlaceholder(),"svg"!==r.type?(0,y.jsx)(Vo.default,{value:r.source,onChange:this.handleChange,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"URL:"}):(0,y.jsx)(Vo.default,{value:r.source,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"SVG"}),i]}),"image"===r.type?(0,y.jsxs)("div",{className:"qx-flex",style:{columnGap:"5px"},children:[(0,y.jsx)(Vo.default,{style:{border:"1px solid #ddd"},value:null==r||null===(e=r.dimension)||void 0===e?void 0:e.width,onChange:this.handleChangeWidth,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"WIDTH:"}),(0,y.jsx)(Vo.default,{value:null==r||null===(t=r.dimension)||void 0===t?void 0:t.height,onChange:this.handleChangeHeight,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"HEIGHT:",style:{border:"1px solid #ddd"}})]}):null]})}}],n&&Kf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Xf;sd.propTypes={},sd.defaultProps={};const cd=sd;function ud(e){return ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(e)}var pd;function fd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dd(e,t){return dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dd(e,t)}function hd(e,t){if(t&&("object"===ud(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yd(e)}function yd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},md(e)}function bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vd=(0,v.$j)((function(e){var t=e.form.node;return{id:null==t?void 0:t.id}}))(pd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dd(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=md(r);if(o){var n=md(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hd(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),bd(yd(t=i.call(this,e)),"setEditorState",(function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.props.value;e={editorId:t.eId,editorState:r,activeEditor:"draft-js"},n?(t.setState(e),t.editor.setContent(e.editorState)):t.state=e})),bd(yd(t),"onChange",(function(e){var n=null!=e&&e.target?null==e?void 0:e.target.value:e.getContent();t.setState({content:n}),t.props.onChange(n)})),t.eId=lr("editor"),t.setEditorState(),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.state.editorId,n=WFEditor.settings.plugins.replace("preview,","");n=n.replace("source,",""),jQuery.extend(WFEditor.settings,{height:"200",plugins:n,setup:function(t){t.onNodeChange.add(e.onChange),t.onChange.add(e.onChange),t.onKeyUp.add(e.onChange),t.onPaste.add(e.onChange),t.onSetContent.add(e.onChange),e.editor=t}}),WFEditor.create(t)}},{key:"componentDidUpdate",value:function(e,t,n){e.id!==this.props.id&&this.props.id&&this.setEditorState(!0)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.help,r=this.state.editorState;return(0,y.jsxs)("div",{className:"qx-fb-field-editor",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:t}),(0,y.jsx)("div",{children:(0,y.jsx)("textarea",{value:r,id:this.state.editorId,onChange:this.onChange,disabled:"disabled",className:"qx-textarea qx-input mce_editable wf-editor qx-background-muted qx-form-blank"})}),(0,y.jsx)("p",{className:Ve()("qx-fb-field__help",{hide:!n}),children:n})]})}}])&&fd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||pd;function gd(e){return gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(e)}var xd;function jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(e,t){return wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wd(e,t)}function Od(e,t){if(t&&("object"===gd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _d(e)}function _d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(e)}function Pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qd=(0,v.$j)((function(e){var t=e.form.node;return{id:null==t?void 0:t.id}}))(xd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wd(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sd(r);if(o){var n=Sd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Od(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Pd(_d(t=i.call(this,e)),"setEditorState",(function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.props.value;e={editorId:t.eId,editorState:r,activeEditor:"draft-js"},n?(t.setState(e),t.editor.setContent(e.editorState)):t.state=e})),Pd(_d(t),"onChange",(function(e){var n=e.getContent();t.setState({content:n}),t.props.onChange(n)})),t.eId=lr("editor"),t.setEditorState(),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.state.editorId;tinymce.init({selector:"textarea#".concat(t),force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"",toolbar_items_size:"small",invalid_elements:"script,applet",menubar:!1,setup:function(t){t.on("change keyup cut paste redo undo",(function(n){e.onChange(t)})),e.editor=t},plugins:["advlist autolink lists link charmap preview image table","searchreplace code fullscreen","media contextmenu paste"],relative_urls:!0,document_base_url:tt(),image_class_list:[{title:"None",value:""},{title:"Left",value:"pull-left"},{title:"Right",value:"pull-right"}],toolbar:"undo redo | bold italic alignleft aligncenter alignright alignjustify | bullist numlist | blockquote fontsizeselect | link image code table"})}},{key:"componentDidUpdate",value:function(e,t,n){e.id!==this.props.id&&this.props.id&&this.setEditorState(!0)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.help,r=this.state.editorState;return(0,y.jsxs)("div",{className:"qx-fb-field-editor",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:t}),(0,y.jsx)("div",{children:(0,y.jsx)("textarea",{value:r,id:this.state.editorId,onChange:this.onChange,disabled:"disabled",className:"qx-textarea qx-input mce_editable wf-editor qx-background-muted qx-form-blank"})}),(0,y.jsx)("p",{className:Ve()("qx-fb-field__help",{hide:!n}),children:n})]})}}])&&jd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||xd;function Cd(e){return Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(e)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){Ed(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dd(e,t){return Dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dd(e,t)}function Ad(e,t){if(t&&("object"===Cd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Id(e)}const Md=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dd(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Id(r);if(o){var n=Id(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ad(this,e)});function a(){return Rd(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return"undefined"!=typeof WFEditor?(0,y.jsx)(vd,Nd({},this.props)):(0,y.jsx)(qd,Nd({},this.props))}}])&&Td(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function Ld(e){return Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(e)}function Bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bd(Object(n),!0).forEach((function(t){Wd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zd(e,t){return zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zd(e,t)}function Hd(e,t){if(t&&("object"===Ld(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qd(e)}function Qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gd(e)}function Wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jd=tl.default.Option,Vd=[{label:"Outside",value:"outline"},{label:"Inset",value:"inset"}];const $d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zd(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gd(r);if(o){var n=Gd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Hd(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Wd(Qd(t=i.call(this,e)),"onChange",(function(e){t.props.onChange(Fd(Fd({},t.props.value),e))})),Wd(Qd(t),"onReset",(function(){t.props.onChange(Fd(Fd({},t.props.value),t.props.default))})),Wd(Qd(t),"getFields",(function(){var e=t.props.value,n=e.color,r=e.blur,o=e.spread,i=e.position,a=e.horizontal,l=e.vertical,s=t.props.default;return(0,y.jsx)("div",{className:"shadowfieldsContentWrapper",children:(0,y.jsxs)("div",{className:"shadowfields clearfix",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Af,{onlyColorPicker:!0,addonAfter:"Select",label:"Color",value:n,onChange:function(e){return t.onChange({color:e})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{responsive:!1,reset:!1,label:"Horizontal",min:-100,units:["px"],value:a,onChange:function(e){return t.onChange({horizontal:e})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{responsive:!1,reset:!1,label:"Vertical",min:-100,units:["px"],value:l,onChange:function(e){return t.onChange({vertical:e})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{responsive:!1,reset:!1,label:"Blur",value:r,units:["px"],onChange:function(e){return t.onChange({blur:e})}})}),void 0!==o?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{responsive:!1,reset:!1,label:"Spread",value:o,units:["px"],onChange:function(e){return t.onChange({spread:e})}})}):null,void 0!==i?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsxs)(tl.default,{value:i,default:s.position,responsive:"false",label:"Position",options:Vd,prefixCls:"qxui-select",onChange:function(e){return t.onChange({position:e})},onReset:function(e){return t.onChange({position:s.position})},dropdownClassName:"qxui-zi-l",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(Jd,{value:"outline",children:"Outside"},0),(0,y.jsx)(Jd,{value:"inset",children:"Inset"},1)]})}):null]})})})),t}return t=a,(n=[{key:"render",value:function(){var e=!Ji()(this.props.default,this.props.value);return(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{className:"qx-fb-field__label qx-mb-0",htmlFor:"text_shadow",children:this.props.label})}),(0,y.jsxs)("div",{children:[e?(0,y.jsxs)(p.default,{type:"link",className:"qx-text-meta",onClick:this.onReset,children:[" ",(0,y.jsx)("i",{className:"qxuicon-undo"})," "]}):null,(0,y.jsx)(Gi.Z,{content:this.getFields(),trigger:"click",placement:"left",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{className:e?"qx-text-primary":"",children:(0,y.jsx)("i",{className:"qxuicon-window-restore"})})})]})]})}}])&&Ud(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);var Xd,Zd=n(53038),Yd=n.n(Zd);function Kd(e){return Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(e)}function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach((function(t){lh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rh(e,t){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rh(e,t)}function oh(e,t){if(t&&("object"===Kd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ih(e)}function ih(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(e)}function lh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sh=Vo.default.Group,ch={setDevice:He},uh=(0,v.$j)((function(e){return{device:Pt(e.nodes.device,!0)}}),ch)(Xd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ah(r);if(o){var n=ah(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return oh(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),lh(ih(t=i.call(this,e)),"sync",(function(){var e=t.props.device,n={};n[e]=!t.state.sync[e],t.setState({sync:Zp()(t.state.sync,n)})})),lh(ih(t),"renderSyncJsx",(function(){var e=t.props.device,n=t.state.sync[e];return(0,y.jsx)(c.default,{title:"Link values together",overlayClassName:"qxui-zi-l",placement:"bottom",children:(0,y.jsx)(p.default,{type:n?"primary":"",onClick:t.sync.bind(ih(t),e),style:{width:"8%",padding:0},children:(0,y.jsx)("i",{className:n?"qxuicon-link":"qxuicon-unlink"})})})})),lh(ih(t),"toggleSyncMode",(function(e){var t=e.top,n=e.bottom,r=e.right,o=e.left;if(t===n&&n===r&&r===o)return!!Yd()(t)})),lh(ih(t),"handleChange",(function(e,n){var r=t.props.device,o={};if(e||0===e||(e=""),t.state.sync[r])o=t.props.value.desktop?lh({},r,{top:e,bottom:e,right:e,left:e}):{top:e,bottom:e,right:e,left:e};else{var i={};i[n]=e,o=t.props.value.desktop?lh({},r,th(th({},t.props.value[r]),i)):th(th({},t.props.value),i)}o=Zp()({responsive_preview:!0},o),e=Zp()(t.props.value,o),console.log("dimensions update",e),t.props.onChange(e)})),lh(ih(t),"onUnitChange",(function(e){t.props.onChange(Zp()(t.props.value,{unit:e}))})),lh(ih(t),"onReset",(function(){var e=t.props.device;t.props.value.desktop?t.props.onChange(th(th({},t.props.value),lh({},e,{top:"",bottom:"",right:"",left:""}))):t.props.onChange(th(th({},t.props.value),{top:"",bottom:"",right:"",left:""})),t.setState({reset:!0})})),lh(ih(t),"renderDimensionsFields",(function(e){var n=e.top,r=e.right,o=e.bottom,i=e.left,a=t.getPlaceholder("top"),l=t.getPlaceholder("bottom"),s=t.getPlaceholder("right"),c=t.getPlaceholder("left");return(0,y.jsx)("div",{children:(0,y.jsxs)(sh,{compact:!0,children:[void 0!==n?(0,y.jsx)(Vp.Z,{placeholder:a,value:n,style:{width:"23%"},onChange:function(e){return t.handleChange(e,"top")}}):null,void 0!==r?(0,y.jsx)(Vp.Z,{placeholder:s,value:r,style:{width:"23%"},onChange:function(e){return t.handleChange(e,"right")}}):null,void 0!==o?(0,y.jsx)(Vp.Z,{placeholder:l,value:o,style:{width:"23%"},onChange:function(e){return t.handleChange(e,"bottom")}}):null,void 0!==i?(0,y.jsx)(Vp.Z,{placeholder:c,value:i,style:{width:"23%"},onChange:function(e){return t.handleChange(e,"left")}}):null,t.renderSyncJsx()]})})})),ef(ih(t)),t.state={responsive:"desktop"!==t.getTabName(),valueFor:t.getTabName(),tab:t.getTabName(),sync:{desktop:!1,tablet:!1,phone:!1}},t}return t=a,n=[{key:"componentDidMount",value:function(){var e=Zp()(this.props.default,this.props.value);Ji()(this.props.default,this.props.value)||this.props.onChange(e);var t={desktop:!1,tablet:!1,phone:!1};t.desktop=this.toggleSyncMode(e.desktop||e),this.props.responsive&&(t.tablet=this.toggleSyncMode(e.tablet),t.phone=this.toggleSyncMode(e.phone)),this.setState({sync:t})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.responsive,r=e.device,o=t;return n&&(o=o[r]),(0,y.jsxs)("div",{className:"qx-fb-field-dimensions ".concat(n?"hasResponsive":""," "),children:[this.getLabelMarkup(),this.renderDimensionsFields(o)]})}}],n&&nh(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(pf))||Xd;uh.propTypes={},uh.defaultProps={responsive:!0};const ph=uh;var fh=n(88374),dh=n.n(fh);function hh(e){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(e)}function yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mh(e,t){return mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mh(e,t)}function bh(e,t){if(t&&("object"===hh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vh(e)}function vh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(e)}var xh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gh(r);if(o){var n=gh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bh(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=vh(t=i.call(this,e)),r="shouldComponentUpdate",o=jo(),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={id:lr("quix-select-"),value:"",fallbackImageSrc:"/media/quixnxt/images/",options:[]},t.getImageUrl=t.getImageUrl.bind(vh(t)),t.getImageSrc=t.getImageSrc.bind(vh(t)),t.imageExists=t.imageExists.bind(vh(t)),t.handleChange=t.handleChange.bind(vh(t)),t.renderOption=t.renderOption.bind(vh(t)),t.getFallbackImageUrl=t.getFallbackImageUrl.bind(vh(t)),void 0===window.checkedImages&&(window.checkedImages=[]),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.value&&this.setState({value:this.props.value});var t=this.props.path+"/"+window.FORM.ELEMENT_SLUG+"/images/";this.props.options.length,this.props.options.map((function(n,r){e.getImageSrc(n.value,t).then((function(t){n.imgSrc=t;var o=e.state.options;o[r]=n,e.setState({options:o}),e.forceUpdate(),e.render()}),(function(t){n.imgSrc=t;var o=e.state.options;o[r]=n,e.setState({options:o}),e.forceUpdate(),e.render()}))})),this.bindImagePickerPlugin()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"componentDidUpdate",value:function(e,t){this.bindImagePickerPlugin()}},{key:"bindImagePickerPlugin",value:function(){var e=this;jQuery("#"+this.state.id).imagepicker({show_label:!0,changed:function(t,n,r){e.props.multiple?e.props.onChange(n):e.props.onChange(n[0]),e.setState({value:n})}})}},{key:"imageExists",value:function(e,t){var n=this;return new Promise((function(r,o){if(n.imageExistenceChecked(e,t))window.checkedImages[n.getImageUrl(e,t)]&&r(response.success),o(!response.success);else{var i=new XMLHttpRequest;i.open("GET","index.php?option=com_quix&view=pages&task=api.checkImage&path="+n.getImageUrl(e,t)),i.onreadystatechange=function(){try{var e=JSON.parse(this.responseText);e.success?r(e.success):o(!e.success)}catch(e){}},i.send()}}))}},{key:"imageExistenceChecked",value:function(e,t){return void 0!==window.checkedImages[this.getImageUrl(e,t)]}},{key:"getImageUrl",value:function(e,t){return t+this.props.name+"_"+e+".png"}},{key:"getFallbackImageUrl",value:function(e){return this.state.fallbackImageSrc+this.props.name+"_"+e+".png"}},{key:"getImageSrc",value:function(e,t){var n=this;return new Promise((function(r,o){n.imageExists(e,t).then((function(o){r(n.getImageUrl(e,t))}),(function(t){o(n.getFallbackImageUrl(e))}))}))}},{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this;return(0,y.jsx)("div",{className:this.props.name+" input-col qx-image-select",children:(0,y.jsx)("select",{id:this.state.id,multiple:!!this.props.multiple&&"multiple",className:"image-picker",value:this.state.value,onChange:this.handleChange,children:this.state.options.map((function(t){return e.renderOption(t)}))})})}},{key:"renderOption",value:function(e){return(0,y.jsxs)("option",{"data-img-src":window.jRoot+e.imgSrc,"data-img-class":"quix-select__image-picker","data-img-alt":e.value,value:e.value,children:["  ",e.label,"  "]},e.value)}}])&&yh(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);xh.propTypes={},xh.defaultProps={};const jh=xh;function wh(e){return wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(e)}var Oh;function _h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sh(e,t){return Sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sh(e,t)}function Ph(e,t){if(t&&("object"===wh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qh(e)}function qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ch(e)}function kh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nh=tl.default.Option,Eh={setDevice:He},Rh=(0,v.$j)((function(e){return{device:Pt(e.nodes.device,!0)}}),Eh)(Oh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ch(r);if(o){var n=Ch(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ph(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),kh(qh(t=i.call(this,e)),"shouldComponentUpdate",jo()),kh(qh(t),"preserveType",(function(e){return+e===e?+e:e})),kh(qh(t),"getValue",(function(e){return e?dh()(t.props.value,e)?t.props.value[e]:{desktop:t.props.value,tablet:"",phone:""}:dh()(t.props.value,"desktop")?t.props.value:{desktop:t.props.value,tablet:"",phone:""}})),kh(qh(t),"handleChange",(function(e){if(e=t.props.multiple?Ft()(e)?e.map(t.preserveType):e.split(",").map(t.preserveType):t.preserveType(e),t.props.responsive){var n=t.props.device;"desktop"===n?e=Zp()(t.getValue(),{responsive_preview:!0,desktop:e}):"tablet"===n?e=Zp()(t.getValue(),{responsive_preview:!0,tablet:e}):"phone"===n&&(e=Zp()(t.getValue(),{responsive_preview:!0,phone:e})),t.props.onChange(e)}else t.props.onChange(e)})),kh(qh(t),"onReset",(function(e){if(t.props.responsive){var n={};n[e]=void 0===t.props.default[e]?"":t.props.default[e];var r=Zp()(t.props.value,n);t.props.onChange(r),t.setState({reset:!0})}else t.props.onChange(t.props.default)})),kh(qh(t),"getSelectView",(function(e,n,r,o){var i=!1,a=t.props.tags;e.image&&(i=e.image);var l=(0,y.jsx)(tl.default,{showSearch:!0,mode:o?"multiple":a?"tags":"",optionFilterProp:"children",filterOption:function(e,t){if(void 0!==t.props.children)return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:n?o||a?n:n.toString():o||a?[]:"",onChange:t.handleChange,getPopupContainer:function(){return window.document.body},dropdownClassName:"qxui-zi-l",isrequired:0,children:r.map((function(e,t){return(0,y.jsx)(Nh,{value:e.value.toString(),children:e.label},t)}))});return i&&(l=(0,y.jsx)(jh,{onChange:t.handleChange,path:t.props.path,value:n,options:r,responsive:t.props.responsive,multiple:o,name:t.props.name})),l})),kh(qh(t),"renderDeviceContent",(function(){var e,n=t.props,r=n.value,o=n.options,i=n.select,a=n.multiple,l=n.responsive,s=n.device;return e=l?void 0===r[s]?r:r[s]:r,(0,y.jsx)("div",{children:t.getSelectView(i,e,o,a)})})),ef(qh(t)),t.state={responsive:"desktop"!==t.getTabName(),reset:!1},t}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"qx-fb-field-select ".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:[this.getLabelMarkup(),this.renderDeviceContent()]})}}])&&_h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(pf))||Oh;Rh.defaultProps={responsive:!0,select:{}};const Th=Rh;function Dh(e){return Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(e)}function Ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ih(e,t){return Ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ih(e,t)}function Mh(e,t){if(t&&("object"===Dh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lh(e)}function Lh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bh(e)}var Fh=[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Double",value:"double"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"}];const Uh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ih(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bh(r);if(o){var n=Bh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Mh(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onChange=t.onChange.bind(Lh(t)),t.borderType=t.borderType.bind(Lh(t)),t.borderRadius=t.borderRadius.bind(Lh(t)),t}return t=a,(n=[{key:"onChange",value:function(e){var t={state:{}},n="normal";"normal"===this.props.state&&(n="hover"),t.state[this.props.state]={properties:Zp()(this.props.value.state[this.props.state].properties,e)},t.state[n]=this.props.value.state[n],this.props.onChange(Zp()(this.props.value,t))}},{key:"borderType",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.border_type,n=this.props.default.state[this.props.state].properties.border_type;return(0,y.jsx)(Th,{label:"Border Type",value:t,default:n,responsive:!1,onChange:function(t){e.onChange({border_type:t})},options:Fh})}},{key:"borderRadius",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.border_radius,n=this.props.default.state[this.props.state].properties.border_radius;return(0,y.jsx)(ph,{className:"quix-border-raduis",responsive:!1,default:n,value:t,label:"Border Radius",onChange:function(t){e.onChange({border_radius:t})},onReset:function(){e.onChange({border_radius:n})},reset:!0,units:["px","em","%"]})}},{key:"borderWidth",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.border_width,n=this.props.default.state[this.props.state].properties.border_width;return"none"!=this.props.value.state[this.props.state].properties.border_type?(0,y.jsx)(ph,{className:"quix-border-width",responsive:!1,default:n,value:t,label:"Border Width",onChange:function(t){e.onChange({border_width:t})},onReset:function(){e.onChange({border_width:n})},reset:!0,units:["px","em"]}):null}},{key:"borderColor",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.border_color,n=this.props.default.state[this.props.state].properties.border_color;return"none"!=this.props.value.state[this.props.state].properties.border_type?(0,y.jsx)(Af,{onlyColorPicker:!0,label:"Color",value:t,onChange:function(t){e.onChange({border_color:t})},onReset:function(){e.onChange({border_color:n})}}):null}},{key:"boxShadow",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.box_shadow,n=this.props.default.state[this.props.state].properties.box_shadow;return(0,y.jsx)($d,{label:"Box Shadow",value:t,default:n,onChange:function(t){e.onChange({box_shadow:t})}})}},{key:"hoverTransition",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.transition,n=this.props.default.state[this.props.state].properties.transition;return"hover"==this.props.state?(0,y.jsx)(_f,{responsive:!1,label:"Transition",units:["s"],defaultUnit:"s",min:0,max:3,step:.1,value:t,onChange:function(t){e.onChange({transition:t})},onReset:function(){e.onChange({transition:n})}}):null}},{key:"render",value:function(){return(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"qx-fb-field-border__fields",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:this.borderType()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.borderWidth()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.borderColor()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.borderRadius()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.boxShadow()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.hoverTransition()})]})})}}])&&Ah(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function zh(e){return zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(e)}function Hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qh(e,t){return Qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qh(e,t)}function Gh(e,t){if(t&&("object"===zh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wh(e)}function Wh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jh(e){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jh(e)}var Vh=_i.default.TabPane;const $h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jh(r);if(o){var n=Jh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gh(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={state:"normal",visible:!1},t.onReset=t.onReset.bind(Wh(t)),t.onTabChange=t.onTabChange.bind(Wh(t)),t.getFields=t.getFields.bind(Wh(t)),t.showPopover=t.showPopover.bind(Wh(t)),t}return t=a,(n=[{key:"onTabChange",value:function(e){this.setState({state:e})}},{key:"onReset",value:function(){this.props.onChange(this.props.default)}},{key:"getFields",value:function(){return(0,y.jsx)("div",{className:"qx-fb-field-border",children:(0,y.jsxs)(_i.default,{defaultActiveKey:"normal",onChange:this.onTabChange,children:[(0,y.jsx)(Vh,{tab:"Normal",children:(0,y.jsx)(Uh,{for:"normal",state:this.state.state,value:this.props.value,onChange:this.props.onChange,onReset:this.onReset,default:this.props.default})},"normal"),(0,y.jsx)(Vh,{tab:"Hover",children:(0,y.jsx)(Uh,{for:"hover",state:this.state.state,value:this.props.value,onChange:this.props.onChange,onReset:this.onReset,default:this.props.default})},"hover")]})})}},{key:"showPopover",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var e=!Ji()(this.props.default,this.props.value);return this.props.popover?(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{className:"qx-fb-field__label qx-mb-0",htmlFor:"text_shadow",children:this.props.label})}),(0,y.jsxs)("div",{children:[e?(0,y.jsx)("i",{className:"qxuicon-undo",onClick:this.onReset}):null,(0,y.jsx)(Gi.Z,{prefixCls:"qxui-popover",placement:"left",popupStyle:{width:"320px"},content:this.getFields(),trigger:"click",children:(0,y.jsx)(p.default,{className:e?"active":"",children:(0,y.jsx)("i",{className:"qxuicon-square-full"})})})]})]}):this.getFields()}}])&&Hh(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);n(42756);var Xh,Zh=n(80155),Yh=n(60873),Kh=n.n(Yh);function ey(e){return ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(e)}function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach((function(t){sy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ry(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oy(e,t)}function iy(e,t){if(t&&("object"===ey(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ay(e)}function ay(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ly(e)}function sy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cy=Zh.default.Button,uy=Zh.default.Group,py={setDevice:He};const fy=(0,v.$j)((function(e){return{device:Pt(e.nodes.device,!0)}}),py)(Xh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ly(r);if(o){var n=ly(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return iy(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),sy(ay(t=i.call(this,e)),"handleChange",(function(e){var n=t.props.value,r=e.target.value;!1!==t.props.responsive?(n=ny(ny({},n),sy({},t.props.device,r)),t.props.onChange(n)):t.props.onChange(r)})),sy(ay(t),"onReset",(function(e){if(!1!==t.props.responsive)return t.props.onChange(t.props.default);t.props.onReset()})),sy(ay(t),"getValue",(function(e){return!1===t.props.responsive?zt()(t.props.value)&&t.props.value.desktop?t.props.value.desktop:t.props.value:t.props.value[e]})),sy(ay(t),"renderDeviceContent",(function(){var e=t.props.device,n=zt()(t.getValue(e))?t.getValue(e).value:t.getValue(e);return{close:t.state.responsive}[e]=!t.state.responsive,(0,y.jsxs)("div",{children:[(0,y.jsx)(uy,{value:n,onChange:t.handleChange,children:Kh()(t.props.options,(function(e,t){return(0,y.jsxs)(cy,{value:t,children:[(0,y.jsx)("span",{className:e.icon,style:{fontSize:"12px"}})," ",e.label]},t)}))}),t.getResetMarkup(e)]})})),ef(ay(t)),t.state={responsive:"desktop"!==t.getTabName(),reset:!1},t}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"qx-fb-field-choose ".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:[this.getLabelMarkup(),this.renderDeviceContent()]})}}])&&ry(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(pf))||Xh;function dy(e){return dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(e)}function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yy(e,t)}function my(e,t){if(t&&("object"===dy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return by(e)}function by(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vy(e)}var gy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vy(r);if(o){var n=vy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return my(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onChange=t.onChange.bind(by(t)),t.state={id:lr("switch-")},t}return t=a,(n=[{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"getLabelMarkup",value:function(){var e=this.props.label;return(0,y.jsxs)("p",{className:"qx-fb-field__label",children:[e," ",this.getHelpMarkup()," "]})}},{key:"getHelpMarkup",value:function(){var e=this.props.help;if(e)return(0,y.jsx)(Gi.Z,{content:e,overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:function(){return window.document.body},children:(0,y.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})})}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.checked,r=(e.help,this.state.id),o=!0===n;return(0,y.jsxs)("div",{className:"qx-fb-field-switch",children:[this.getLabelMarkup(),(0,y.jsx)(s.Z,{checkedChildren:"Yes",unCheckedChildren:"No",defaultChecked:o,onChange:this.onChange,id:r,"data-for":t})]})}}])&&hy(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);const xy=gy;function jy(e){return jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(e)}function wy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_y(e,t)}function Sy(e,t){if(t&&("object"===jy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Py(e)}const qy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Py(r);if(o){var n=Py(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Sy(this,e)});function a(){return wy(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"render",value:function(){return this.props.reset&&this.props.label,this.props.help?(0,y.jsx)("p",{className:"qx-text-muted qx-small",style:{margin:"-10px 0 0 0"},dangerouslySetInnerHTML:this.createMarkup(this.props.help)}):(0,y.jsx)("div",{className:"qx-fb-field-divider",children:(0,y.jsx)("span",{children:this.props.label})})}}])&&Oy(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Cy=function(){return""};function ky(e){return ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(e)}function Ny(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ey(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ry(e,t)}function Ty(e,t){if(t&&("object"===ky(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dy(e)}function Dy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ay(e)}function Iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var My=Vo.default.TextArea,Ly=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ay(r);if(o){var n=Ay(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ty(this,e)});function a(){var e;Ny(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Iy(Dy(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),Iy(Dy(e),"getLabelMarkup",(function(){var t=e.props.label;return(0,y.jsx)("span",{children:t})})),Iy(Dy(e),"getHelpMarkup",(function(){var t=e.props.help;if(t)return(0,y.jsx)(Gi.Z,{content:t,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})})})),Iy(Dy(e),"getResetMarkup",(function(){return e.props.onlyBaseText||Ji()(e.props.default,e.props.value)?null:(0,y.jsx)(c.default,{title:"Reset to default",children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-undo",onClick:e.props.onReset})})})})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.value;return(0,y.jsxs)("div",{className:"qx-fb-field-textarea",children:[(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup(),this.props.onReset?this.getResetMarkup():null]}),(0,y.jsx)(My,{rows:4,value:e,onChange:this.onChange,prefixCls:"qxui-input"})]})}}])&&Ey(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Iy(Ly,"propTypes",{}),Iy(Ly,"defaultProps",{});const By=Ly,Fy={text_shadow:{color:"",blur:0,horizontal:0,vertical:0}};var Uy=tl.default.Option,zy=tl.default.OptGroup;function Hy(e){var t=e.fontFamilies.map((function(e){return{label:e,value:e,clearable:!1}}));return(0,y.jsxs)("div",{className:"qx-fb-field-typography__typeface",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:e.label}),(0,y.jsxs)(tl.default,{defaultValue:e.family?e.family.toString():"",onChange:e.onChange,allowClear:!1,showSearch:!0,style:{width:"100%"},prefixCls:"qxui-select",dropdownClassName:"qxui-zi-l",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(zy,{label:"Custom Fonts",children:(0,y.jsx)(Uy,{value:"",children:"Default"},"default")}),(0,y.jsx)(zy,{label:"Google Fonts",children:t.map((function(e,t){return(0,y.jsx)(Uy,{value:e.value.toString(),children:e.label},t)}))})]})]})}function Qy(e){return Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(e)}function Gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wy(e,t)}function Jy(e,t){if(t&&("object"===Qy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vy(e)}function Vy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$y(e)}var Xy=tl.default.Option,Zy=["100","200","300","400","500","600","700","800","900"],Yy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$y(r);if(o){var n=$y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Jy(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).state={value:e.value,expand:!1,fontFamilies:[],weights:[],family:null,weight:{label:"",value:"",clearable:!0},visible:!1},t.handleChange=t.handleChange.bind(Vy(t)),t.token=jQuery("#jform_token").attr("name"),t.getFields=t.getFields.bind(Vy(t)),t.showPopover=t.showPopover.bind(Vy(t)),t.onReset=t.onReset.bind(Vy(t)),t}return t=a,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this;if(localStorage.getItem("qx-fonts"))this.setState(JSON.parse(localStorage.getItem("qx-fonts")));else{var t="index.php?option=com_quix&task=api.getWebFonts&".concat(this.token,"=1");jt().get(t).then((function(t){var n=[],r={};t.data.items.forEach((function(e){n.push(e.family),r[e.family]=e.variants})),localStorage.setItem("qx-fonts",JSON.stringify({fontFamilies:n,weights:r})),e.setState({fontFamilies:n,weights:r})}))}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){null!==e.value.family&&this.state.family!==e.value.family&&this.setState({family:e.value.family}),null===e.value.family&&this.props.onChange(Zp()(e.value,{weight:{label:"",value:"",clearable:!0}}))}},{key:"handleChange",value:function(e){var t=Zp()(this.props.value,e);this.setState({value:t}),this.props.onChange(t)}},{key:"getValue",value:function(){return this.state.value}},{key:"getFontWeights",value:function(e){var t=[];return _t(e)?Zy.map((function(e){return{label:e,value:e,clearable:!0}})):(this.state.weights[e]&&(t=this.state.weights[e].map((function(e){return{label:e,value:e,clearable:!0}}))),t)}},{key:"onReset",value:function(){this.props.onChange(this.props.default)}},{key:"getFields",value:function(){var e=this,t=this.props,n=(t.label,t.value),r=(t.name,t.help,n.family),o=n.size,i=n.spacing,a=n.height,l=n.weight,s=n.transform,c=n.style,u=n.text_shadow,p=n.decoration;return(0,y.jsxs)("div",{className:"qx-fb-field-typography",children:[(0,y.jsxs)("div",{className:"qx-grid qx-grid-small",children:[(0,y.jsx)("div",{className:"qx-width-2-3",children:(0,y.jsx)(Hy,{label:"Font",family:r,fontFamilies:this.state.fontFamilies,onChange:function(t){return e.handleChange({family:t})}})}),(0,y.jsxs)("div",{className:"qx-width-1-3",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Weight"}),(0,y.jsx)(tl.default,{defaultValue:l?l.toString():"400",onChange:function(t){return e.handleChange({weight:t})},allowClear:!0,getPopupContainer:function(){return window.document.body},children:this.getFontWeights(r).map((function(e,t){return(0,y.jsx)(Xy,{value:e.value.toString(),children:e.label},t)}))})]})]}),(0,y.jsx)("div",{className:"qx-fb-field-typography__size",children:(0,y.jsx)(_f,{label:"Size",min:0,max:200,value:o,units:["px","em","rem"],default:this.props.default.size,onChange:function(t){return e.handleChange({size:t})},responsive:!0})}),(0,y.jsxs)("div",{className:"qx-grid qx-grid-small",children:[(0,y.jsxs)("div",{className:"qx-width-1-3",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Transform"}),(0,y.jsxs)(tl.default,{defaultValue:s.toString(),onChange:function(t){return e.handleChange({transform:t})},children:[(0,y.jsx)(Xy,{value:"",children:"None"}),(0,y.jsx)(Xy,{value:"uppercase",children:"Uppercase"}),(0,y.jsx)(Xy,{value:"lowercase",children:"Lowercase"}),(0,y.jsx)(Xy,{value:"capitalize",children:"Capitalize"})]})]}),(0,y.jsxs)("div",{className:"qx-width-1-3",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Style"}),(0,y.jsxs)(tl.default,{defaultValue:c.toString(),onChange:function(t){return e.handleChange({style:t})},children:[(0,y.jsx)(Xy,{value:"",children:"Normal"}),(0,y.jsx)(Xy,{value:"italic",children:"Italic"}),(0,y.jsx)(Xy,{value:"oblique",children:"Oblique"})]})]}),(0,y.jsxs)("div",{className:"qx-width-1-3",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Decoration"}),(0,y.jsxs)(tl.default,{defaultValue:p.toString(),onChange:function(t){return e.handleChange({decoration:t})},children:[(0,y.jsx)(Xy,{value:"",children:"None"}),(0,y.jsx)(Xy,{value:"overline",children:"Overline"}),(0,y.jsx)(Xy,{value:"line-through",children:"Line Through"}),(0,y.jsx)(Xy,{value:"underline",children:"Underline"})]})]})]}),(0,y.jsx)("div",{className:"qx-fb-field-typograpy__height",children:(0,y.jsx)(_f,{label:"Line Height",max:40,step:.1,value:a,units:["px","em","rem"],default:this.props.default.height,onChange:function(t){return e.handleChange({height:t})},responsive:!0})}),(0,y.jsx)("div",{className:"qx-fb-field-typograpy__height",children:(0,y.jsx)(_f,{label:"Letter Spacing",min:-5,max:10,step:.1,value:i,units:["px","em","rem"],default:this.props.default.spacing,onChange:function(t){return e.handleChange({spacing:t})},responsive:!0})}),(0,y.jsx)("div",{className:"qx-fb-field-typograpy__text_shadow",children:(0,y.jsx)($d,{label:"Text Shadow",value:u||(this.props.default.text_shadow?this.props.default.text_shadow:Fy.text_shadow),default:this.props.default.text_shadow?this.props.default.text_shadow:Fy.text_shadow,onChange:function(t){return e.handleChange({text_shadow:t})}})})]})}},{key:"showPopover",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var e=!Ji()(this.props.default,this.props.value);return(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{className:"qx-fb-field__label qx-mb-0",htmlFor:"text_shadow",children:this.props.label})}),(0,y.jsxs)("div",{children:[e?(0,y.jsx)(p.default,{type:"link",className:"qx-text-meta",onClick:this.onReset,children:(0,y.jsx)("i",{className:"qxuicon-undo"})}):null,(0,y.jsx)(Gi.Z,{placement:"left",popupStyle:{width:"350px"},content:this.getFields(),trigger:"click",children:(0,y.jsx)(p.default,{className:e?"active":"",children:(0,y.jsx)("i",{className:"qxuicon-font"})})})]})]})}}])&&Gy(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Yy.propTypes={},Yy.defaultProps={};const Ky=Yy;var em=n(33023),tm=n.n(em);function nm(e){return nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(e)}function rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},om(e,t)}function im(e,t){if(t&&("object"===nm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return am(e)}function am(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lm(e){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lm(e)}var sm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lm(r);if(o){var n=lm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return im(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={},t.onChange=t.onChange.bind(am(t)),t}return t=a,(n=[{key:"onChange",value:function(e){this.props.onChange({type:"video",properties:Zp()(this.props.properties,e)})}},{key:"render",value:function(){var e=this,t=this.props.properties,n=this.props.default;return(0,y.jsx)("div",{className:"qx-fb-field-background__image",children:(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(cd,{filters:"video",value:t.url,label:"",onChange:function(t){e.onChange({url:t})},onReset:this.onChange.bind(this,{url:n.url})})})})}}])&&rm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);sm.type="qxuicon-video";const cm=sm;function um(e){return um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(e)}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fm(e,t)}function dm(e,t){if(t&&("object"===um(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hm(e)}function hm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ym(e){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ym(e)}var mm=[{label:"Center",value:"center"},{label:"Top Left",value:"top left"},{label:"Top",value:"top"},{label:"Top Right",value:"top right"},{label:"Right",value:"right"},{label:"Bottom",value:"bottom"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"},{label:"Left",value:"left"}],bm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ym(r);if(o){var n=ym(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return dm(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={},t.onChange=t.onChange.bind(hm(t)),t}return t=a,(n=[{key:"onChange",value:function(e){this.props.onChange({type:"classic",properties:Gp()(this.props.properties,e)})}},{key:"render",value:function(){var e=this,t=this.props.properties,n=t.color,r=this.props.default,o=t.parallax?[{label:"CSS Based",value:"css"},{label:"JS Based",value:"js"}]:[{label:"CSS Based",value:"css"}],i=t.parallax?(0,y.jsx)("div",{className:"qx-margin-small-bottom",children:(0,y.jsx)(Th,{label:"Parallax Method",help:"Define the method, used for the parallax effect. CSS used background-fixed properties while JS gives you the true parallax effect using javascript libaray.",value:t.parallax_method,default:"true_parallax",responsive:!1,onChange:function(t){e.onChange({parallax_method:t})},onReset:this.onChange.bind(this,{parallax_method:r.parallax_method}),options:o})}):null,a="js"===t.parallax_method?(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"qx-fb-field qx-margin-small-bottom",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Y-Axis"}),(0,y.jsx)(Vo.default,{default:0,value:t.js_parallax_y,prefixCls:"qxui-input",placeholder:"-50",onChange:function(t){e.onChange({js_parallax_y:t.target.value})}})]}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"X-Axis"}),(0,y.jsx)(Vo.default,{value:t.js_parallax_x,placeholder:"-50",prefixCls:"qxui-input",onChange:function(t){e.onChange({js_parallax_x:t.target.value})}})]})]}):null;return(0,y.jsxs)("div",{className:"qx-fb-field-background__image",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Af,{onlyColorPicker:!0,label:"Color",value:n,onChange:function(t){return e.onChange({color:t})},onReset:this.onChange.bind(this,{color:r.color})})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(cd,{filters:"image",value:t.src,label:"",onChange:function(t){e.onChange({src:t})},onReset:this.onChange.bind(this,{src:r.src})})}),t.src&&t.required_parallax?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(xy,{label:"Use Parallax Effect",help:"If enabled, your background image will stay fixed as your scroll, creating a fun parallax-like effect.",name:"parallax",checked:t.parallax,onChange:function(t){e.onChange({parallax:t})},onReset:this.onChange.bind(this,{parallax:r.size})})}):null,t.required_parallax?i:null,t.required_parallax?a:null,(0,y.jsxs)("div",{className:"qx-grid qx-grid-small qx-child-width-1-2",children:[t.src?(0,y.jsx)("div",{className:"qx-margin-small-bottom",children:(0,y.jsx)(Th,{label:"Size",value:t.size,default:"initial",responsive:!1,onChange:function(t){e.onChange({size:t})},options:[{label:"Cover",value:"cover"},{label:"Fit",value:"contain"},{label:"Actual Size",value:"initial"}]})}):null,t.src?(0,y.jsx)("div",{className:"qx-margin-small-bottom",children:(0,y.jsx)(Th,{label:"Position",value:t.position,default:"center",responsive:!1,onChange:function(t){e.onChange({position:t})},options:mm})}):null,t.src?(0,y.jsx)("div",{children:(0,y.jsx)(Th,{label:"Repeat",value:t.repeat,default:"no-repeat",responsive:!1,onChange:function(t){e.onChange({repeat:t})},options:[{label:"No Repeat",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Repeat X ( Horizontal )",value:"repeat-x"},{label:"Repeat Y ( Vertical )",value:"repeat-y"},{label:"Space",value:"space"},{label:"Round",value:"round"}]})}):null,t.src?(0,y.jsx)("div",{children:(0,y.jsx)(Th,{label:"Blend Mode",value:t.blend,default:"normal",responsive:!1,onChange:function(t){e.onChange({blend:t})},help:"Set background color in order to use blend mode properly",options:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}]})}):null]})]})}}])&&pm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);bm.type="qxuicon-paint-brush";const vm=bm;var gm=n(41957),xm=n.n(gm);function jm(e){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(e)}function wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _m(e,t){return _m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_m(e,t)}function Sm(e,t){if(t&&("object"===jm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pm(e)}function Pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qm(e)}function Cm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var km=[{label:"Center Center",value:"center center"},{label:"Center left",value:"center left"},{label:"Center right",value:"center right"},{label:"Top Center",value:"top center"},{label:"Top left",value:"top left"},{label:"Top Right",value:"top right"},{label:"Bottom Center",value:"bottom center"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"}],Nm=[{label:"Linear",value:"linear"},{label:"Radial",value:"radial"}],Em=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qm(r);if(o){var n=qm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Sm(this,e)});function a(){var e;wm(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cm(Pm(e=i.call.apply(i,[this].concat(n))),"state",{defaultPosition:0}),Cm(Pm(e),"onChange",(function(t){e.props.onChange({type:"gradient",properties:Zp()(e.props.properties,t)})})),Cm(Pm(e),"onReset",(function(){e.props.onReset&&e.props.onReset()})),Cm(Pm(e),"renderDirection",(function(){return"linear"===e.props.properties.type?e.renderLinearDirection():e.renderRadialDirection()})),Cm(Pm(e),"renderLinearDirection",(function(){var t=e.props.default,n="linear"===e.props.properties.type&&(Yd()(e.props.properties.direction)||Yd()(e.props.properties.direction.value))?xm()(e.props.properties.direction.value)?e.props.properties.direction:e.props.properties.direction.value:e.state.defaultPosition;return(0,y.jsx)(_f,{responsive:!1,default:t.direction,units:["deg"],label:"Direction",value:n,max:360,onChange:function(t){e.onChange({direction:t})},onReset:e.onChange.bind(Pm(e),{direction:t.direction})})})),Cm(Pm(e),"renderRadialDirection",(function(){var t="radial"!==e.props.properties.type||Yd()(e.props.properties.direction)?"center center":e.props.properties.direction,n=e.props.default;return(0,y.jsx)(Th,{label:"Direction",value:t,default:"center center",responsive:!1,onChange:function(t){e.onChange({direction:t})},onReset:e.onChange.bind(Pm(e),{direction:n.direction}),options:km})})),Cm(Pm(e),"getGradientPreview",(function(){var t={},n=e.props.properties,r=n.type,o=n.color_1,i=n.color_2,a=n.start_position,l=n.end_position,s=n.direction;return"linear"===r?t.backgroundImage="linear-gradient(".concat(s,"deg, ").concat(o," ").concat(a,"%, ").concat(i," ").concat(l,"%)"):"radial"===r&&(t.backgroundImage="radial-gradient(at ".concat(s,", ").concat(o," ").concat(a,"%, ").concat(i," ").concat(l,"%)")),(0,y.jsx)("div",{className:"gradient-preview qx-box-shadow-medium qx-margin-small-bottom qx-height-small qx-position-relative qx-transition-toggle qx-border-rounded",style:t,children:(0,y.jsx)(p.default,{className:"qx-position-top-right qx-transition-scale-up",type:"text",onClick:e.onReset,children:(0,y.jsx)("span",{className:"qxuicon-trash-alt qx-blend-difference"})})})})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.properties,n=t.color_1,r=t.color_2,o=this.props.default;return(0,y.jsxs)("div",{className:"qx-background__gradient",children:[this.getGradientPreview(),(0,y.jsxs)("div",{className:"qx-flex qx-margin-small-bottom",children:[(0,y.jsx)("div",{children:(0,y.jsx)(Af,{addonAfter:"Select",value:n,label:"Color 1",onChange:function(t){e.onChange({color_1:t})},onReset:this.onChange.bind(this,{color_1:o.color_1,color_2:o.color_2})})}),(0,y.jsx)("div",{className:"qx-margin-auto-left",children:(0,y.jsx)(Af,{addonAfter:"Select",value:r,label:"Color 2",onChange:function(t){e.onChange({color_2:t})},onReset:this.onChange.bind(this,{color_1:o.color_1,color_2:o.color_2})})})]}),(0,y.jsxs)("div",{className:"qx-flex qx-margin-small-bottom",children:[(0,y.jsx)("div",{className:"qx-margin-small-right",children:(0,y.jsx)(Th,{value:this.props.properties.type,default:"linear",responsive:!1,label:"Type",onChange:function(t){var n=0;"radial"===t&&(n="center center"),e.onChange({type:t,direction:n})},onReset:this.onChange.bind(this,{type:o.type}),options:Nm})}),(0,y.jsx)("div",{className:"qx-width-expand qx-margin-small-left",children:this.renderDirection()})]}),(0,y.jsxs)("div",{className:"qx-fllex",children:[(0,y.jsx)("div",{children:(0,y.jsx)(_f,{responsive:!1,default:o.start_position,label:"Start Position",units:null,value:this.props.properties.start_position?xm()(this.props.properties.start_position.value)?this.props.properties.start_position:this.props.properties.start_position.value:this.state.defaultPosition,onChange:function(t){return e.onChange({start_position:t})},onReset:this.onChange.bind(this,{start_position:o.start_position})})}),(0,y.jsx)("div",{children:(0,y.jsx)(_f,{responsive:!1,default:o.end_position,label:"End Position",units:null,value:this.props.properties.end_position?xm()(this.props.properties.end_position.value)?this.props.properties.end_position:this.props.properties.end_position.value:this.state.defaultPosition,onChange:function(t){e.onChange({end_position:t})},onReset:this.onChange.bind(this,{end_position:o.end_position})})})]})]})}}])&&Om(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Em.type="qxuicon-adjust";const Rm=Em;function Tm(e){return Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(e)}function Dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Im(e,t){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Im(e,t)}function Mm(e,t){if(t&&("object"===Tm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lm(e)}function Lm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bm(e)}function Fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Um=p.default.Group,zm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bm(r);if(o){var n=Bm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Mm(this,e)});function a(){var e;Dm(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fm(Lm(e=i.call.apply(i,[this].concat(n))),"state",{type:"classic",types:{classic:vm,gradient:Rm,video:cm}}),Fm(Lm(e),"setType",(function(t){e.setState({type:t})})),Fm(Lm(e),"onChange",(function(t){var n={state:{}},r="normal";"normal"===e.props.state&&(r="hover"),n.state[e.props.state]=Zp()(e.props.value.state[e.props.state],t),n.state[r]=e.props.value.state[r],e.props.onChange(Zp()(e.props.value,n))})),Fm(Lm(e),"onReset",(function(){e.props.onReset&&e.props.onReset()})),Fm(Lm(e),"onCommonPropertyChange",(function(t){var n=e.props.value.state[e.props.state];n=Gp()(n,t);var r={state:{}};r.state[e.props.state]=n;var o="normal";"normal"===e.props.state&&(o="hover"),r.state[o]=e.props.value.state[o],e.props.onChange(Zp()(e.props.value,r))})),Fm(Lm(e),"renderBackgroundType",(function(){return(0,y.jsxs)("div",{className:"qx-fb-field-background__types",children:[(0,y.jsx)("label",{className:"qx-fb-field__label",children:"Background Type"}),(0,y.jsx)(Um,{prefixCls:"qxui-btn-group",children:e.props.supportedTypes.map((function(t,n){return(0,y.jsx)(c.default,{title:t.toUpperCase(),children:(0,y.jsx)(p.default,{onClick:e.setType.bind(Lm(e),t),className:e.state.type===t?"active":"",children:(0,y.jsx)("i",{className:e.state.types[t].type})},n)},n)}))})]})})),Fm(Lm(e),"renderBackgroundProperties",(function(){var t;switch(t=e.state.type===e.props.value.state[e.props.state].type?e.props.value.state[e.props.state].properties:e.props.types[e.state.type].properties,e.state.type){case"classic":return(0,y.jsx)(vm,{properties:t,default:e.props.types.classic.properties,onChange:e.onChange,onReset:e.onReset});case"gradient":return(0,y.jsx)(Rm,{properties:t,default:e.props.types.gradient.properties,onChange:e.onChange,onReset:e.onReset});case"video":return(0,y.jsx)(cm,{properties:t,default:e.props.types.video.properties,onChange:e.onChange,onReset:e.onReset});default:return""}})),Fm(Lm(e),"renderCommonProperties",(function(){var t=e.props.value.state[e.props.state],n=e.props.default.state[e.props.for];return(0,y.jsxs)("div",{className:"qx-fb-field-background__common",children:[t.required_opacity?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{units:!1,responsive:!1,label:"Opacity",min:0,max:1,step:.01,value:t.opacity,onChange:function(t){return e.onCommonPropertyChange({opacity:t})},onReset:function(){var r={};r[e.props.state]=Zp()(t,{opacity:n.opacity}),e.props.onReset(r)}})}):null,"hover"===e.props.state&&t.required_transition?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{units:!1,responsive:!1,label:"Transition",defaultUnit:"s",min:0,max:3,step:.1,value:t.transition,onChange:function(t){return e.onCommonPropertyChange({transition:t})},onReset:function(){var r={};r[e.props.state]=Zp()(t,{transition:n.transition}),e.props.onReset(r)}})}):null]})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.setState({type:this.props.value.state[this.props.state].type})}},{key:"render",value:function(){return(0,y.jsxs)("div",{children:[this.renderBackgroundType(),(0,y.jsxs)("div",{className:"qx-fb-field-background__fields",children:[this.renderBackgroundProperties(),this.renderCommonProperties()]})]})}}])&&Am(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);const Hm=zm;function Qm(e){return Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(e)}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wm(e,t)}function Jm(e,t){if(t&&("object"===Qm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vm(e)}function Vm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$m(e)}var Xm=_i.default.TabPane;const Zm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$m(r);if(o){var n=$m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Jm(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={state:"normal",visible:!1},t.onReset=t.onReset.bind(Vm(t)),t.onTabChange=t.onTabChange.bind(Vm(t)),t.getFields=t.getFields.bind(Vm(t)),t.showPopover=t.showPopover.bind(Vm(t)),t}return t=a,(n=[{key:"onTabChange",value:function(e){this.setState({state:e})}},{key:"onReset",value:function(){this.props.onChange(this.props.default)}},{key:"getFields",value:function(){var e=this.props.tab;return tm()(e)?(0,y.jsx)(Hm,{for:e,state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default}):(0,y.jsx)("div",{className:"qx-fb-field-background",children:(0,y.jsxs)(_i.default,{defaultActiveKey:"normal",onChange:this.onTabChange,children:[(0,y.jsx)(Xm,{tab:"Normal",children:(0,y.jsx)(Hm,{for:"normal",state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default})},"normal"),(0,y.jsx)(Xm,{tab:"Hover",children:(0,y.jsx)(Hm,{for:"hover",state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default})},"hover")]})})}},{key:"showPopover",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var e=!Ji()(this.props.default,this.props.value);return this.props.popover?(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{className:"qx-fb-field__label",children:this.props.label})}),(0,y.jsxs)("div",{children:[e?(0,y.jsx)(c.default,{title:"Reset to default",children:(0,y.jsx)(p.default,{type:"link",className:"qx-text-meta",onClick:this.onReset,children:(0,y.jsx)("i",{className:"qxuicon-undo"})})}):null,(0,y.jsx)(Gi.Z,{placement:"left",popupStyle:{width:"350px"},content:this.getFields(),trigger:"click",children:(0,y.jsx)(p.default,{className:e?"active":"",children:(0,y.jsx)("i",{className:"qxuicon-paint-brush"})})})]})]}):this.getFields()}}])&&Gm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function Ym(e){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(e)}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eb(e,t){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eb(e,t)}function tb(e,t){if(t&&("object"===Ym(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nb(e)}function nb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rb(e){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rb(e)}var ob=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rb(r);if(o){var n=rb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tb(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){var e=st(),n="index.php?option=com_quix&task=api.getJoomlaModules&".concat(e,"=1");jt().get(n).then((function(e){var n=e.data.data;n=n.map((function(e){return{label:e.title,value:e.id}})),t.setState({options:n})}))},(r="getModuleList")in(n=nb(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={options:[]},t.getModuleList(),t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsx)(Th,{label:n,value:r,default:"",responsive:!1,onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},options:this.state.options})}}])&&Km(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);const ib=ob;function ab(e){return ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(e)}function lb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sb(e,t){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sb(e,t)}function cb(e,t){if(t&&("object"===ab(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ub(e)}function ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pb(e)}var fb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pb(r);if(o){var n=pb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return cb(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){var e=st(),n="index.php?option=com_quix&task=api.getJoomlaCategories&".concat(e,"=1");jt().get(n).then((function(e){var n=e.data.data;n=n.map((function(e){return{label:e.text,value:e.value}})),t.setState({options:n})}))},(r="getCategoryList")in(n=ub(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={options:[]},t.getCategoryList(),t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsx)(Th,{label:n,value:r,default:"",responsive:!1,onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},options:this.state.options})}}])&&lb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);const db=fb;function hb(e){return hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(e)}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mb(e,t)}function bb(e,t){if(t&&("object"===hb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vb(e)}function vb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gb(e)}const xb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gb(r);if(o){var n=gb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bb(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){for(var e=document.getElementById("jform_menutype").options,t=[],n=e.length,r=0;r<n;r++){var o=[];o.value=e[r].value,o.label=e[r].text,t.push(o)}return t},(r="getApiData")in(n=vb(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={options:t.getApiData()},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsx)(Th,{label:n,value:r,default:"",responsive:!1,onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},options:this.state.options})}}])&&yb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);var jb=n(38268),wb=n(99749);n(83140);const Ob=(0,wb.default)(jb.Z);var _b=n(44477);function Sb(e){return Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(e)}function Pb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cb(e,t){return Cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cb(e,t)}function kb(e,t){if(t&&("object"===Sb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nb(e)}function Nb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Eb(e)}function Rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Eb(r);if(o){var n=Eb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kb(this,e)});function a(){var e;Pb(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rb(Nb(e=i.call.apply(i,[this].concat(n))),"state",{open:!1}),Rb(Nb(e),"getLabelMarkup",(function(){var t=e.props.label;return(0,y.jsxs)("p",{className:"qx-fb-field__label",children:[t," ",e.getHelpMarkup()," "]})})),Rb(Nb(e),"getHelpMarkup",(function(){var t=e.props.help;if(t)return(0,y.jsx)(Gi.Z,{content:t,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"350px"},children:(0,y.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})})})),Rb(Nb(e),"handleDateChange",(function(t){if(null!==t){var n,r=t.format(null!==(n=e.props.format)&&void 0!==n?n:"YYYY-MM-DD HH:mm:ss");e.props.onChange(JSON.stringify({string:r}))}else e.props.onChange(JSON.stringify({}));e.setState({open:!1})})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.value,n=this.props.format||"YYYY-MM-DD HH:mm:ss",r=(t=t?JSON.parse(t).string:"")?_b.Z.locale.parse("en",t,[n]):null;return(0,y.jsxs)("div",{className:"qx-fb-field-text",children:[this.getLabelMarkup(),(0,y.jsx)(Ob,{showTime:!0,format:n,defaultValue:r,getContainer:function(){return window.document.body},prefixCls:"qxui-picker",style:{width:"100%"},getPopupContainer:function(){return window.document.body},getCalendarContainer:function(){return window.document.body},open:this.state.open,onChange:this.handleDateChange,onOpenChange:function(t){e.state.open||e.setState({open:t})},onOk:function(t){return e.setState({open:!1}),t}})]})}}])&&qb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Tb.propTypes={},Tb.defaultProps={};const Db=Tb;function Ab(e){return Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(e)}function Ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mb(e,t){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mb(e,t)}function Lb(e,t){if(t&&("object"===Ab(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bb(e)}function Bb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fb(e)}const Ub=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fb(r);if(o){var n=Fb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lb(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){var e=rt().map((function(e){return{label:e.title,value:e.id}}));t.setState({options:e})},(r="getTemplateList")in(n=Bb(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={options:[]},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.getTemplateList()}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsx)(Th,{label:n,value:r,default:"",responsive:!1,onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},options:this.state.options})}}])&&Ib(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);var zb;function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qb(e,t){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qb(e,t)}function Gb(e,t){if(t&&("object"===$b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wb(e)}function Wb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jb(e)}function Vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $b(e){return $b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(e)}function Xb(e){return function(e){if(Array.isArray(e))return Zb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Zb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zb(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yb=(0,v.$j)((function(e,t){var n=e.form.node,r=t.control,o=t.path,i=!0;if(r.depends&&Object.keys(r.depends).length>0){var a=Xb(o).slice(0,-1),l=er(n,["form"].concat(Xb(a)));for(var s in r.depends)if(r.depends.hasOwnProperty(s)){var c=er(l,s.split(".")),u=r.depends[s];if("object"!==$b(u)){if("*"===u){if(!c){i=!1;break}}else if(c!==r.depends[s]){i=!1;break}}else if(Array.isArray(u)&&!u.includes(c)){i=!1;break}}}return{shouldShow:i,value:r.value}}))(zb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jb(r);if(o){var n=Jb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gb(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Vb(Wb(t=i.call(this,e)),"onReset",(function(){var e=t.props;(0,e.update)(e.options.default)})),Vb(Wb(t),"onChange",(function(e){t.setState({value:e}),t.bubbleChange(e)})),Vb(Wb(t),"bubbleChange",qs()((function(e){(0,t.props.update)(e)}),20)),t.state={value:e.value,parentValue:null},t}return t=a,n=[{key:"componentDidUpdate",value:function(e,t,n){this.props.value!==this.state.parentValue&&this.setState({value:this.props.value,parentValue:this.props.value})}},{key:"render",value:function(){var e=this.props,t=e.hidden;if(!e.shouldShow)return null;var n,r,o=this.state.value,i=this.props.options,a=i.help,l=i.name,s=i.label,c=i.type,u=i.placeholder,p=i.reset;switch(c){case"border":r=(0,y.jsx)($h,{name:l,label:s,help:a,value:o,onChange:this.onChange,onReset:this.onReset,reset:p,default:this.props.options.default,popover:i.popover});break;case"media":r=(0,y.jsx)(cd,{value:o,label:s,name:l,help:a,className:i.class,showstyle:i.showstyle,onChange:this.onChange,onReset:this.onReset,reset:p,filters:this.props.options.filters});break;case"date":r=(0,y.jsx)(Db,{value:o,label:s,name:l,help:a,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"time":r=(0,y.jsx)(TimePicker,{value:o,label:s,name:l,help:a,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"acl":r=(0,y.jsx)(Np,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jmenu":r=(0,y.jsx)(xb,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jmodule":r=(0,y.jsx)(ib,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jcategory":r=(0,y.jsx)(db,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"templates":r=(0,y.jsx)(Ub,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"editor":r=(0,y.jsx)(Md,{value:o,label:s,name:l,help:a,onChange:this.onChange,onReset:this.onReset,reset:p,className:i.class});break;case"color":r=(0,y.jsx)(Af,{value:o,label:s,name:l,help:a,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"slider":r=(0,y.jsx)(_f,{value:o,default:this.props.options.default,units:this.props.options.units,responsive:this.props.options.responsive,label:s,help:a,step:i.step,min:i.min,max:i.max,suffix:i.suffix,className:i.class,onChange:this.onChange,onReset:this.onReset});break;case"typography":r=(0,y.jsx)(Ky,{value:o,default:this.props.options.default,units:this.props.options.units,label:s,name:l,help:a,className:i.class,popover:i.popover,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"dimensions":r=(0,y.jsx)(ph,{className:i.class,default:this.props.options.default,units:this.props.options.units,value:o,label:s,help:a,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"link":r=(0,y.jsx)(zp,{name:l,label:s,help:a,text:o.text,url:o.url,target:o.target,nofollow:o.nofollow,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"select":r=(0,y.jsx)(Th,{value:o,default:this.props.options.default,select:this.props.options.select,responsive:this.props.options.responsive,path:this.props.options.element_path,label:s,name:l,help:a,multiple:i.multiple,tags:i.tags,className:i.class,options:i.options,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"switch":r=(0,y.jsx)(xy,{name:l,label:s,help:a,checked:o,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"text":r=(0,y.jsx)(ra,{help:a,label:s,value:o,default:this.props.options.default,placeholder:u,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p,readOnly:"readonly"===i.advanced});break;case"textarea":r=(0,y.jsx)(By,{help:a,label:s,value:o,placeholder:u,rows:i.rows,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"divider":r=(0,y.jsx)(qy,{label:s,help:a,reset:p});break;case"hidden":r=(0,y.jsx)(Cy,{});break;case"background":r=(0,y.jsx)(Zm,{name:l,label:s,help:a,value:o,onChange:this.onChange,onReset:this.onReset,reset:p,supportedTypes:this.props.options.supportedTypes,tab:this.props.options.tab,types:this.props.options.types,default:this.props.options.default,popover:i.popover});break;case"choose":r=(0,y.jsx)(fy,{name:l,label:s,help:a,value:o,onChange:this.onChange,onReset:this.onReset,reset:p,responsive:this.props.options.responsive,options:this.props.options.options,default:this.props.options.default});break;case"code":r=(0,y.jsx)(fl,{name:l,label:s,help:a,value:o,onChange:this.onChange,onReset:this.onReset,reset:p,default:this.props.options.default})}return n=Ve()("qx-fb-field",{hide:t}),(0,y.jsx)("div",{className:n,children:r})}}],n&&Hb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||zb;Yb.propTypes={options:us().object,onChange:us().func};const Kb=Yb;function ev(e){return ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(e)}var tv;function nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nv(Object(n),!0).forEach((function(t){uv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ov(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function av(e,t){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},av(e,t)}function lv(e,t){if(t&&("object"===ev(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sv(e)}function sv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cv(e){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cv(e)}function uv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pv={updateNodeField:ke},fv=(0,v.$j)((function(e){return{nodePath:e.form.path}}),pv)(tv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&av(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cv(r);if(o){var n=cv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return lv(this,e)});function a(){var e;ov(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return uv(sv(e=i.call.apply(i,[this].concat(n))),"updateNodeField",(function(t){var n=e.props,r=n.nodePath,o=n.path;(0,n.updateNodeField)(r,o,t)})),e}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.control!==e.control}},{key:"render",value:function(){var e=this.props.control;return e.hidden?null:(0,y.jsx)(Kb,rv(rv({},this.props),{},{options:e,update:this.updateNodeField}))}}])&&iv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||tv;fv.propTypes={},fv.defaultProps={};const dv=fv;function hv(e){return hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(e)}var yv;function mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gv(e,t){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gv(e,t)}function xv(e,t){if(t&&("object"===hv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jv(e)}function jv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wv(e){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wv(e)}function Ov(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _v=nl.Z.Panel,Sv={updateNodeField:ke},Pv=(0,v.$j)((function(e){return{nodePath:e.form.path}}),Sv)(yv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wv(r);if(o){var n=wv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xv(this,e)});function a(){var e;bv(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ov(jv(e=i.call.apply(i,[this].concat(n))),"sortable",null),Ov(jv(e),"state",{activeKey:null}),e}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;window.qxUIkit.util.on(".qx-sortable","moved",(function(t){e.sortGroups(t)})),console.log("remount")}},{key:"componentDidUpdate",value:function(e,t,n){if(this.sortable){var r=this.sortable.children().toArray().sort((function(e,t){var n=+e.getAttribute("data-index"),r=+t.getAttribute("data-index");return n>r?1:n<r?-1:0}));this.sortable.html(r),this.sortable=null}}},{key:"sortGroups",value:function(e){var t=this;console.log("Set groups called"),this.sortable=jQuery(e.target);var n=this.sortable.children().map((function(e,t){return t.getAttribute("data-index")})).toArray().map((function(e){return t.props.form[e]}));this.props.updateNodeField(this.props.nodePath,this.props.path,n)}},{key:"activateTab",value:function(e){e===this.state.activeKey&&(e=null),this.setState({activeKey:e})}},{key:"handleCopyClick",value:function(e,t){t.stopPropagation(),t.preventDefault();var n=this.props,r=n.form,o=n.nodePath,i=n.path,a=n.updateNodeField,l=ar(r[e]);l.title="".concat(l.title," (copy)"),a(o,i,Vn(r,e+1,l))}},{key:"handleDeleteClick",value:function(e,t){t.stopPropagation(),t.preventDefault();var n=this.props,r=n.form,o=n.nodePath,i=n.path,a=n.updateNodeField;if(1!==r.length){var l=function(e,t){var n=e.slice(0,+t),r=e.slice(+t+1);return[].concat(vn(n),vn(r))}(r,e);a(o,i,l)}else m.error("You can't remove the last item")}},{key:"renderGroup",value:function(e,t){var n,r,o=this.props,i=o.path,a=o.removeGroup,l=o.copyGroup,s=o.form,u=null===(n=s[t])||void 0===n?void 0:n[Object.keys(s[t])[0]],f=(0,y.jsxs)("div",{className:"qx-repeater-controls qx-transition-slide-right-small qx-position-right",children:[(0,y.jsx)(c.default,{title:"Duplicate",children:(0,y.jsx)(p.default,{type:"text",onClick:this.handleCopyClick.bind(this,t),children:(0,y.jsx)("i",{className:"qxuicon-clone"})})}),(0,y.jsx)(c.default,{title:"Delete",children:(0,y.jsx)(p.default,{type:"text",onClick:this.handleDeleteClick.bind(this,t),children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})})})]}),d=(0,y.jsxs)("div",{className:"qx-transition-toggle qx-position-relative qx-overflow-hidden",children:[(0,y.jsx)("div",{className:"qx-text-truncate",children:u}),f]});return i=[].concat(function(e){if(Array.isArray(e))return mv(e)}(r=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mv(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]),(0,y.jsx)(_v,{index:t,header:d,showArrow:!1,children:(0,y.jsx)(fg,{index:t,path:i,control:e,fields:e,form:s[t],copyGroup:l,removeGroup:a})},i.join())}},{key:"render",value:function(){var e=this,t=this.props.groups.map((function(t,n){return e.renderGroup(t,n)}));return(0,y.jsx)(nl.Z,{accordion:!0,className:"qx-background-default qx-sortable","qx-sortable":"handle: .qx-drag",children:t})}}],n&&vv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||yv;Pv.propTypes={groups:us().array.isRequired,path:us().array.isRequired};const qv=Pv;function Cv(e){return Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(e)}var kv;function Nv(e){return function(e){if(Array.isArray(e))return Ev(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ev(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dv(e,t){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dv(e,t)}function Av(e,t){if(t&&("object"===Cv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Iv(e)}function Iv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mv(e){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mv(e)}function Lv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bv={updateNodeField:ke},Fv=(0,v.$j)((function(e){return{nodePath:e.form.path}}),Bv)(kv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dv(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mv(r);if(o){var n=Mv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Av(this,e)});function a(){var e;Rv(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lv(Iv(e=i.call.apply(i,[this].concat(n))),"handleAddNewGroup",(function(){var t=e.props,n=t.control,r=t.form,o=t.nodePath,i=t.path,a=t.updateNodeField,l=ir(n);a(o,i,[].concat(Nv(r),[l[0]]))})),Lv(Iv(e),"getMappedGroupForForm",(function(){var t=e.props,n=t.control.value,r=t.form,o=ar(n[0]);return r.map((function(){return o}))})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.path,n=e.form,r=this.getMappedGroupForForm();return(0,y.jsxs)("div",{className:"qx-fb-group-repeater",children:[(0,y.jsx)(qv,{groups:r,path:t,form:n}),(0,y.jsx)(c.default,{title:"Add Item",children:(0,y.jsx)(p.default,{type:"primary",shape:"circle",className:"qx-margin-small-top qx-margin-auto qx-display-block",style:{fontSize:"10px"},onClick:this.handleAddNewGroup,children:(0,y.jsx)("i",{className:"qxuicon-plus"})})})]})}}])&&Tv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||kv;Fv.propTypes={control:us().object.isRequired,path:us().array.isRequired};const Uv=Fv;function zv(e){return zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(e)}function Hv(e){return function(e){if(Array.isArray(e))return Qv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qv(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jv(e,t){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jv(e,t)}function Vv(e,t){if(t&&("object"===zv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $v(e)}function $v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xv(e)}function Zv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jv(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xv(r);if(o){var n=Xv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Vv(this,e)});function a(){var e;Gv(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zv($v(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",jo()),Zv($v(e),"renderField",(function(e,t,n,r){return(0,y.jsx)(a,{index:t,className:"row",control:e,form:r[e.name],path:[].concat(Hv(n),[e.name])},t)})),e}return t=a,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.control,r=t.path,o=t.form,i=n.ref,a=n.type;return 0===(null==n?void 0:n.schema.length)&&(void 0!==o?n.value=ar(o):"object"===zv(n.value)&&(n.value=ar(n.value))),"group-repeater"===a?(0,y.jsx)(Uv,{path:r,control:n,form:o},i):"fields-group"===a?n.value.map((function(t,n){return e.renderField(t,n,r,o)})):(0,y.jsx)(dv,{hidden:n.hidden,control:n,path:r},i)}}],n&&Wv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Zv(Yv,"propTypes",{control:us().object.isRequired,path:us().array.isRequired});const Kv=Yv;function eg(e){return eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(e)}function tg(e){return function(e){if(Array.isArray(e))return ng(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ng(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ng(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ng(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ig(e,t)}function ag(e,t){if(t&&("object"===eg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lg(e)}function lg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sg(e)}function cg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ug=nl.Z.Panel,pg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sg(r);if(o){var n=sg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ag(this,e)});function a(){var e;rg(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cg(lg(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",jo()),cg(lg(e),"renderComponent",(function(t,n){var r=e.props,o=r.path,i=r.form,a=[].concat(tg(o),[t.name]),l=[].concat(tg(a),[n]).join(","),s=(0,y.jsx)(Kv,{control:t,form:i[t.name],index:n,path:a},l);return 1===o.length?(0,y.jsx)(ug,{header:t.label,children:s},l):s})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.fields,n=e.path;return 1===n.length?(0,y.jsx)(nl.Z,{defaultActiveKey:[[].concat(tg(n),[t[0].name,0]).join(",")],default:!0,accordion:!0,ghost:!0,expandIconPosition:"end",children:t.map(this.renderComponent)}):(0,y.jsx)(y.Fragment,{children:t.map(this.renderComponent)})}}])&&og(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);pg.propTypes={path:us().array.isRequired};const fg=pg;function dg(e){return dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(e)}var hg;function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(n),!0).forEach((function(t){Og(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gg(e,t){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gg(e,t)}function xg(e,t){if(t&&("object"===dg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jg(e)}function jg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wg(e)}function Og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _g=_i.default.TabPane,Sg={hideFormModal:function(){return{type:ge,payload:{node:null,path:null}}},replaceNode:Ie};const Pg=(0,v.$j)((function(e){var t=e.form,n=t.node,r=t.schema,o=t.path;return{form:null==n?void 0:n.form,node:n,path:o,schema:r}}),Sg)(hg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gg(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wg(r);if(o){var n=wg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xg(this,e)});function a(){var e;bg(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Og(jg(e=i.call.apply(i,[this].concat(n))),"state",{active:"general",show:!0,id:lr("qx")}),Og(jg(e),"shouldComponentUpdate",jo()),Og(jg(e),"handleTabClick",(function(t){e.setState({active:t})})),Og(jg(e),"handleTabChange",(function(e){window.QUIX=mg(mg({},window.QUIX||{}),{},{formTab:e})})),Og(jg(e),"handleCloseClick",(function(){e.props.isDirty&&console.log("you did not save!"),window.QUIX=mg(mg({},window.QUIX||{}),{},{formTab:null}),e.props.hideFormModal()})),Og(jg(e),"renderTabContent",(function(t,n){var r=e.props.form;return(0,y.jsx)(_g,{tab:n,"data-simplebar":!0,children:(0,y.jsx)(fg,{fields:t,path:[n],form:null==r?void 0:r[n]})},n)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){window.QUIX=mg(mg({},window.QUIX||{}),{},{formTab:"general"})}},{key:"componentDidUpdate",value:function(e,t,n){var r=Object.keys(this.props.form||{}).shift()||"general";this.state.active!==r&&this.handleTabClick(r)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.show,o=n.schema||{form:{}},i=o.form,a=o.slug,l=o.name,s=Object.keys(i),c=Object.values(i);return e="section"===a||"columns"===a||"row"===a?a+"-modal ":"element-modal ",(0,y.jsx)(Eo,{width:450,className:e+"qxui-modal--with-tab",dismissible:!1,show:r,close:this.handleCloseClick,title:l,style:{left:"calc(50vw - 250px)",top:"100px"},children:(0,y.jsx)(_i.default,{animated:{inkBar:!0,tabPane:!1},onChange:this.handleTabChange,children:c.map((function(e,n){return t.renderTabContent(e,s[n])}))})})}}])&&vg(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||hg;function qg(e){return qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(e)}var Cg;function kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eg(e,t)}function Rg(e,t){if(t&&("object"===qg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tg(e)}function Tg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dg(e)}function Ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ig=(0,v.$j)((function(e){return{visible:e.form.showForm}}),{})(Cg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dg(r);if(o){var n=Dg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rg(this,e)});function a(){var e;kg(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ag(Tg(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",jo()),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.visible;return(0,y.jsx)(Pg,{show:e,isDirty:!0})}}])&&Ng(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Cg;n(71205);var Mg,Lg=n(78740);function Bg(e){return Bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(e)}function Fg(e){return function(e){if(Array.isArray(e))return Ug(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ug(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qg(e,t){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qg(e,t)}function Gg(e,t){if(t&&("object"===Bg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wg(e)}function Wg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jg(e)}function Vg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $g={addElementNode:function(e,t){return{type:A,payload:{path:e,element:t}}},addMyElementNode:function(e,t){return{type:I,payload:{path:e,element:t}}},invokeElementPickerModal:we},Xg=(0,v.$j)((function(e){var t=e.action;return{path:t.path,index:t.index}}),$g)(Mg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jg(r);if(o){var n=Jg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gg(this,e)});function a(){var e;zg(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vg(Wg(e=i.call.apply(i,[this].concat(n))),"handleClick",(function(){var t=e.props,n=t.element,r=t.path,o=t.index,i=t.addElementNode,a=t.addMyElementNode,l=t.invokeElementPickerModal;n.groups.includes("my elements")?a([].concat(Fg(r),[o]),n):i([].concat(Fg(r),[o]),n),l()})),Vg(Wg(e),"removeFromMyElements",(function(t){var n=t.core_id,r=t.name,o=JSON.parse(dt("MY_ELEMENTS"));if(o){var i="".concat(tt(),"/index.php?option=com_quix&task=collection.updateState&state=2&id=").concat(n,"&").concat(st(),"=1");jt().get(i).then((function(n){var i=n.data;if(!0===i.data){var a=o.filter((function(e){return e.id!==t.id}));ht("MY_ELEMENTS",JSON.stringify(a)),e.props.updateElementList(a),m.success("".concat(r," element removed"))}else m.warning(i.data)}))}})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.element,n=t.groups.includes("my elements"),r=t.thumb_file;return parseInt(JVERSION)>=4&&(r=QUIX_ROOT_URL+"media/quixnxt/images/elements/"+t.slug+".svg"),n?(0,y.jsxs)("div",{className:"my-element",children:[(0,y.jsxs)(Lg.Z,{onClick:this.handleClick,prefixCls:"qxui-card",children:[(0,y.jsx)("img",{className:"qx-fb-elements__icon",src:r,alt:t.name}),(0,y.jsx)("span",{className:"qx-fb-elements__name",children:t.name})]}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.removeFromMyElements(t)},className:"qx-fb-elements__remove qx-btn qx-btn-light",title:"Delete",children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})})]}):(0,y.jsxs)(Lg.Z,{onClick:this.handleClick,prefixCls:"qxui-card",children:[(0,y.jsx)("img",{className:"qx-fb-elements__icon",src:r,alt:t.name}),(0,y.jsx)("span",{className:"qx-fb-elements__name",children:t.name})]})}}])&&Hg(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Mg;Xg.propTypes={element:us().object.isRequired};const Zg=Xg;function Yg(e){return Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(e)}function Kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ex(e,t)}function tx(e,t){if(t&&("object"===Yg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nx(e)}function nx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rx(e)}function ox(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ix=_i.default.TabPane,ax=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rx(r);if(o){var n=rx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tx(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ox(nx(t=i.call(this,e)),"onGroupSelect",(function(e){t.setState({tab:e}),t.props.onGroupSelect(e)})),ox(nx(t),"renderElement",(function(e,n){return(0,y.jsx)(Zg,{element:e,updateElementList:t.props.updateElementList},e.slug+n)})),ox(nx(t),"renderElements",(function(e){return t.props.elements.length?(0,y.jsx)("div",{className:"qx-fb-elements ".concat(e.toLowerCase()),children:t.props.elements.map(t.renderElement)}):(0,y.jsx)("div",{className:"qx-alert",children:"No matching element found."})})),ox(nx(t),"renderGroup",(function(e){return(0,y.jsxs)(ix,{tab:e,children:[t.renderElements(e)," "]},e)})),t.state={tab:"All"},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.groups;return t=["All"].concat(t),(0,y.jsx)(_i.default,{animated:{inkBar:!0,tabPane:!1},defaultActiveKey:this.state.tab,onChange:function(t){return e.onGroupSelect(t)},prefixCls:"qxui-tabs",children:t.map(this.renderGroup)})}}])&&Kg(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);ax.propTypes={onGroupSelect:us().func.isRequired},ax.defaultProps={};const lx=ax;function sx(e){return sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(e)}function cx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ux(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function px(e,t){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},px(e,t)}function fx(e,t){if(t&&("object"===sx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dx(e)}var hx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&px(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dx(r);if(o){var n=dx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fx(this,e)});function a(){return cx(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.onSearch,n=e.groups,r=e.context,o=e.onGroupSelect;return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"elements-list-search",children:(0,y.jsx)(Vo.default,{onChange:function(e){return t(e.target.value)},placeholder:r||"Search Element...",value:r,id:"search-elements",onReset:function(){return t("")}})}),(0,y.jsx)(lx,{groups:n,elements:this.props.elements,onGroupSelect:o,updateElementList:this.props.updateElementList})]})}}])&&ux(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);hx.propTypes={groups:us().array.isRequired,context:us().string,onSearch:us().func.isRequired},hx.defaultProps={};const yx=hx;function mx(e){return mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(e)}var bx;function vx(e){return function(e){if(Array.isArray(e))return gx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gx(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wx(e,t){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wx(e,t)}function Ox(e,t){if(t&&("object"===mx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _x(e)}function _x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sx(e){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sx(e)}function Px(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qx=At(),Cx={invokeElementPickerModal:we},kx=(0,v.$j)((function(e){return{visible:e.action.action===fe}}),Cx)(bx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wx(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sx(r);if(o){var n=Sx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ox(this,e)});function a(){var e;xx(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Px(_x(e=i.call.apply(i,[this].concat(n))),"state",{groups:[],elements:[],group:"all",context:"",filteredElements:[],url:"".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&type=element&details=true&").concat(kr,"=1")}),Px(_x(e),"loadMyElements",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&yt("MY_ELEMENTS");var n=JSON.parse(dt("MY_ELEMENTS"))||[];n.length?e.updateElementList(n):jt().get(e.state.url).then((function(t){if(t.data){var r=t.data;n=r.map((function(e){var t,n=JSON.parse(e.data).data[0];return n.core_id=e.id,n.name=null!==(t=null==n?void 0:n.name)&&void 0!==t?t:e.title,n.builder_version=e.builder_version,n})),ht("MY_ELEMENTS",JSON.stringify(n)),e.updateElementList(n)}else ht("MY_ELEMENTS",JSON.stringify([]))}))})),Px(_x(e),"updateElementList",(function(t){if(t.length){qx=At();for(var n=function(e){var n=qx.find((function(n){return n.slug===t[e].slug}));t[e].groups=["my elements"],t[e].type=n.type,t[e].thumb_file=n.thumb_file,qx.push(t[e])},r=0;r<t.length;r++)n(r)}else qx=At();e.filterSetElements({elements:qx})})),Px(_x(e),"filterElementByType",(function(e,t){return("all"===t||e.groups.includes(t))&&(!e.type||Nr&&("core"===e.type||e.type===Nr))})),Px(_x(e),"handleSearch",(function(t){e.filterSetElements({context:t})})),Px(_x(e),"handleGroupSelect",(function(t){e.filterSetElements({group:t.toLowerCase()})})),Px(_x(e),"filterSetElements",(function(t){var n=t.context,r=void 0===n?e.state.context:n,o=t.group,i=void 0===o?e.state.group:o,a=t.elements,l=void 0===a?e.state.elements:a,s=t.groups,c=void 0===s?e.state.groups:s,u=vx(l).filter((function(t){return e.filterElementByType(t,i)})).filter((function(e){return"section"!==e.slug&&"row"!==e.slug})).filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}));0===c.length&&(c=u.flatMap((function(e){return e.groups})).filter((function(e,t,n){return n.indexOf(e)===t})).sort()),e.setState({filteredElements:u,group:i,context:r,elements:l,groups:c})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.loadMyElements()}},{key:"componentDidUpdate",value:function(){null===dt("MY_ELEMENTS")&&this.loadMyElements()}},{key:"render",value:function(){var e=this,t=this.state.context;return(0,y.jsx)(Eo,{dismissible:!1,show:this.props.visible,close:function(){return e.props.invokeElementPickerModal()},closable:!1,footer:!1,width:520,className:"qxui-modal--with-tab qxui-modal--elements",style:{left:"calc(50vw - 260px)"},title:(0,y.jsx)("h4",{className:"qxui-modal-title",children:"Elements List"}),children:(0,y.jsx)(yx,{elements:this.state.filteredElements,groups:this.state.groups,context:t,onGroupSelect:this.handleGroupSelect,onSearch:this.handleSearch,updateElementList:this.updateElementList})})}}])&&jx(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||bx;const Nx=kx;var Ex=n(9291),Rx=n.n(Ex),Tx=n(29288);function Dx(e){return Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(e)}function Ax(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ix(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mx(e,t){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mx(e,t)}function Lx(e,t){if(t&&("object"===Dx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bx(e){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bx(e)}const Fx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mx(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bx(r);if(o){var n=Bx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lx(this,e)});function a(){return Ax(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return(0,y.jsx)("div",{className:"qx-position-cover qx-overlay qx-flex qx-flex-center qx-flex-middle qx-height-large",children:(0,y.jsx)("div",{role:"progressbar",mode:"indeterminate",className:"mat-spinner mat-progress-spinner mat-primary mat-progress-spinner-indeterminate-animation",style:{width:"100px",height:"100px"},children:(0,y.jsx)("svg",{preserveAspectRatio:"xMidYMid meet",focusable:"false",viewBox:"0 0 100 100",style:{width:"100px",height:"100px"},children:(0,y.jsx)("circle",{cx:"50%",cy:"50%",r:"45",className:"ng-star-inserted",style:{animationName:"mat-progress-spinner-stroke-rotate-100",strokeDasharray:"282.743px",strokeWidth:"10%"}})})})})}}])&&Ix(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function Ux(e){return Ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(e)}var zx;function Hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qx(e,t){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qx(e,t)}function Gx(e,t){if(t&&("object"===Ux(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wx(e)}function Wx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jx(e)}function Vx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $x=tl.default.Option,Xx=null,Zx={insertNodes:Ne},Yx=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),Zx)(zx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qx(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jx(r);if(o){var n=Jx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gx(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Vx(Wx(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!dt("qx-page-template"))jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=layout&&min_version=2.0.0")).then((function(e){e.data.items?(t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:e.data.itemTags}),ht("qx-page-template",{items:e.data.items,itemTags:e.data.itemTags})):t.setState({loading:!1,error:!0})}));else{var n=dt("qx-page-template");t.setState({loading:!1,items:n.items,originItems:n.items,itemTags:n.itemTags})}})),Vx(Wx(t),"handleSearchTerm",(function(e){if(_t(e))t.setState({items:t.state.originItems});else if(!(e.length<3)){var n=new Tx.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((function(e){return e.item}));t.setState({items:n})}})),Vx(Wx(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),Vx(Wx(t),"onCategoryChange",(function(e){var n;n="all"===e||_t(e)?t.state.originItems:Rx()(t.state.originItems,(function(n){if(n.tags){var r=Kh()(n.tags,(function(e){return e.alias}));if(t.arrayContainsArray(e,r))return n}})),t.setState({items:n,category:e})})),Vx(Wx(t),"insert",(function(e){Ss(Wx(t),e)})),Vx(Wx(t),"goToPreviewPage",(function(e){null===Xx?Xx=window.open("https://getquix.net"+e):Xx.location.href="https://getquix.net"+e})),Vx(Wx(t),"renderPageTemplate",(function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--page qx-box-shadow-small qx-box-shadow-hover-large",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("button",{onClick:t.insert.bind(Wx(t),e.id),className:"qx-button qx-button-small qx-button-primary qx-btn--insert qx-width-1-2",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]});return n&&"free"===t.state.is_pro_user&&(o=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-external-link qx-margin-right"})," Go Pro"]})),n&&"inactive"===t.state.is_pro_user&&(o=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-lock qx-margin-right"})," Locked"]})),(0,y.jsx)("div",{className:"qx-width-1-3@m qx-width-1-2@s",style:{height:"381px"},children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,y.jsx)("img",{src:Ct(e.images),alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,y.jsx)("span",{className:"qx-fb-template-name qx-mb-2 qx-mt-2 qx-text-dark",children:e.title}),(0,y.jsxs)("div",{className:"qx-btn-group qx-flex",children:[(0,y.jsxs)("button",{onClick:t.goToPreviewPage.bind(Wx(t),e.previewurl),className:"qx-button qx-button-small qx-button-secondary qx-btn--preview qx-width-1-2",children:[(0,y.jsx)("i",{className:"qxuicon-eye"})," Preview"]}),o]})]})]})},e.id)})),t.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 ",children:(0,y.jsxs)(tl.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)($x,{value:"all",children:"All"},"all"),this.state.itemTags.map((function(e){return(0,y.jsx)($x,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:function(){e.loadData(!0)},children:(0,y.jsx)("i",{className:"qxio-refresh"})})}),(0,y.jsx)(ra,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),(0,y.jsx)("div",{className:"qx-fb-template__body",children:this.state.loading?(0,y.jsx)(Fx,{}):(0,y.jsx)("div",{id:"pageTemplateWrapper",className:"qx-background-default qx-padding",children:(0,y.jsxs)("div",{className:"qx-grid","data-qx-grid":"",children:[this.state.error?t:null,console.log(this.state.items),this.state.items.map(this.renderPageTemplate)]})})})]})}}])&&Hx(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||zx;const Kx=Yx;function ej(e){return ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ej(e)}var tj;function nj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rj(e,t){return rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rj(e,t)}function oj(e,t){if(t&&("object"===ej(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ij(e)}function ij(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aj(e){return aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aj(e)}function lj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sj=tl.default.Option,cj=null,uj={insertNodes:Ne},pj=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),uj)(tj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rj(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=aj(r);if(o){var n=aj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return oj(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),lj(ij(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.setState({loading:!0});var n=dt("qx-page-template");if(!e&&n&&null!=n&&n.items&&null!=n&&n.layoutCategory){var r=t.prepareGroupBundle(n.items,n.layoutCategory),o=t.getItemsCategory(n.items,n.layoutCategory);t.setState({loading:!1,items:r,itemsCategory:o,originItems:n.items,itemTags:n.itemTags,layoutCategory:n.layoutCategory})}else jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=layout&min_version=2.0.0")).then((function(e){if(e.data.items){var n,r,o=t.prepareGroupBundle(e.data.items,e.data.layout_category);t.getItemsCategory(e.data.items,e.data.layout_category),t.setState({loading:!1,error:!1,items:o,itemsCategory:o,originItems:e.data.items,itemTags:e.data.itemTags,layoutCategory:null===(n=e.data)||void 0===n?void 0:n.layout_category}),ht("qx-page-template",{items:e.data.items,itemTags:e.data.itemTags,layoutCategory:null===(r=e.data)||void 0===r?void 0:r.layout_category})}else t.setState({loading:!1,error:!0})}))})),lj(ij(t),"prepareGroupBundle",(function(e,t){var n={};return e.filter((function(e){return e.parent_category===t.id})).forEach((function(e){if(void 0===n[e.catid]){var t={id:e.catid,title:e.category_title,alias:e.category_alias,preview:"",items:[]};n[e.catid]=t}"1"===e.featured&&(n[e.catid].preview=e.images),n[e.catid].items.push(e)})),Object.values(n)})),lj(ij(t),"getItemsCategory",(function(e,t){var n={};return e.filter((function(e){return e.parent_category===t.id})).forEach((function(e){if(void 0===n[e.catid]){var t={id:e.catid,title:e.category_title,alias:e.category_alias};n[e.catid]=t}})),Object.values(n)})),lj(ij(t),"handleSearchTerm",(function(e){var n=new Tx.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title"]}).search(e);_t(e)?t.setState({items:t.state.originItems,category:"all"}):t.setState({items:n,category:"all"})})),lj(ij(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),lj(ij(t),"onCategoryChange",(function(e){var n;n=t.prepareGroupBundle(t.state.originItems,t.state.layoutCategory),"all"===e||_t(e)||(n=Rx()(n,(function(t){if(e===t.alias)return t}))),t.setState({items:n,category:e})})),lj(ij(t),"insert",(function(e){Ss(ij(t),e)})),lj(ij(t),"goToPreviewPage",(function(e){null===cj?cj=window.open("https://getquix.net"+e):cj.location.href="https://getquix.net"+e})),lj(ij(t),"renderLayoutClick",(function(e){t.setState({showLayoutItem:e})})),lj(ij(t),"renderLayout",(function(e,n){var r;if(e.items)return(0,y.jsx)("div",{className:"qx-margin-bottom",style:{height:"381px"},onClick:function(){return t.renderLayoutClick(e)},children:(0,y.jsxs)("div",{className:"qx-bundle-layouts-item qx-fb-template-item qx-fb-template-item--page",children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:e.preview?(0,y.jsx)("img",{src:e.preview,alt:"preview"}):(0,y.jsx)("img",{src:"https://quix.b-cdn.net/images/sample.png",alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,y.jsx)("span",{className:"qx-fb-template-name qx-mt-2",children:e.title}),(0,y.jsxs)("span",{className:"qx-display-block qx-text-center qx-text-muted",children:[null==e||null===(r=e.items)||void 0===r?void 0:r.length," Layouts"]})]})]})},e.id)})),lj(ij(t),"renderActiveLayout",(function(){var e=t.state.showLayoutItem;return(0,y.jsxs)("div",{className:"qx-container-fluid",children:[(0,y.jsxs)("h3",{className:"qx-margin-bottom",style:{marginTop:"-10px"},children:[e.title,(0,y.jsx)("button",{type:"button",className:"qxui-btn qx-align-right",onClick:function(){t.setState({showLayoutItem:!1})},children:(0,y.jsx)("i",{className:"qxuicon-arrow-left"})})]}),(0,y.jsx)("div",{className:"qx-grid qx-child-width-1-3","qx-grid":"true",children:e.items.map((function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--page qx-box-shadow-small qx-box-shadow-hover-large",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("button",{onClick:function(){return t.insert(e.id)},className:"qx-button qx-button-small qx-button-primary qx-btn--insert qx-width-1-2",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]});return n&&"free"===t.state.is_pro_user?o=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-external-link qx-margin-small-right"})," Go Pro"]}):n&&"inactive"===t.state.is_pro_user&&(o=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-lock qx-margin-small-right"})," Locked"]})),(0,y.jsx)("div",{className:"qx-width-1-3@m qx-width-1-2@s",children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-text-center",children:(0,y.jsx)("img",{src:Ct(e.images),alt:"preview",width:"288",height:"311"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,y.jsx)("span",{className:"qx-fb-template-name qx-text-muted",children:e.title}),(0,y.jsxs)("div",{className:"qx-flex",children:[(0,y.jsxs)("button",{onClick:t.goToPreviewPage.bind(ij(t),e.previewurl),className:"qx-button qx-button-small qx-button-secondary qx-btn--preview qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-eye qx-margin-small-right"}),"Preview"]}),o]})]})]})},e.id)}))})]})})),t.state={items:[],itemsCategory:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free",layoutCategory:{id:0},showLayoutItem:!1},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid qx-cover-container",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 ",children:(0,y.jsxs)(tl.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(sj,{value:"all",children:"All"},"all"),this.state.itemsCategory.map((function(e){return(0,y.jsx)(sj,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsx)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsxs)("button",{className:"qxui-btn qx-mr-2",onClick:function(){e.loadData(!0)},children:[(0,y.jsx)("i",{className:"qxio-refresh"})," Reload List"]})})})]}),(0,y.jsx)("div",{className:"qx-fb-template__body",children:this.state.loading?(0,y.jsx)(Fx,{}):(0,y.jsxs)("div",{id:"layoutTemplateWrapper",className:"qx-position-relative qx-background-default qx-padding",children:[(0,y.jsxs)("div",{className:"qx-grid qx-child-width-1-3@m qx-child-width-1-2@s ","qx-grid":"true",style:{display:this.state.showLayoutItem?"none":"flex"},children:[this.state.error?t:null,this.state.items.map(this.renderLayout)]}),(0,y.jsx)("div",{id:"layouts-all-items",style:{display:this.state.showLayoutItem?"block":"none"},children:this.state.showLayoutItem?this.renderActiveLayout():null})]})})]})}}])&&nj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||tj;const fj=pj;var dj,hj=n(47253),yj=n.n(hj);function mj(e){return mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mj(e)}function bj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vj(e,t){return vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vj(e,t)}function gj(e,t){if(t&&("object"===mj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xj(e)}function xj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jj(e){return jj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jj(e)}function wj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oj=tl.default.Option,_j={insertNodes:Ne},Sj=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),_j)(dj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vj(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jj(r);if(o){var n=jj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gj(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),wj(xj(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!dt("qx-section-template"))jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=section&min_version=2.0.0")).then((function(e){if(e.data.items){var n=yj()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:n}),ht("qx-section-template",{items:e.data.items,itemTags:n})}else t.setState({loading:!1,error:!0})}));else{var n=dt("qx-section-template");t.setState({loading:!1,items:n.items,originItems:n.items,itemTags:n.itemTags})}})),wj(xj(t),"handleSearchTerm",(function(e){if(_t(e)&&t.setState({items:t.state.originItems}),!(e.length<3)){var n=new Tx.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((function(e){return e.item}));t.setState({items:n})}})),wj(xj(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),wj(xj(t),"onCategoryChange",(function(e){var n;n="all"===e||_t(e)?t.state.originItems:Rx()(t.state.originItems,(function(n){if(n.tags){var r=Kh()(n.tags,(function(e){return e.alias}));if(t.arrayContainsArray(e,r))return n}})),t.setState({items:n,category:e})})),wj(xj(t),"insert",(function(e){Ss(xj(t),e)})),wj(xj(t),"renderSectionTemplate",(function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("a",{onClick:function(){return t.insert(e.id)},className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]}),i=null;return n&&"free"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),n&&"inactive"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,y.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ct(e.images),width:"100%",alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[i||o,(0,y.jsx)("span",{className:"qx-fb-template-name",children:e.title}),i&&n?(0,y.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,y.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),t.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,y.jsxs)(tl.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(Oj,{value:"all",children:"All"},"all"),this.state.itemTags.map((function(e){return(0,y.jsx)(Oj,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:function(){e.loadData(!0)},children:(0,y.jsx)("i",{className:"qxio-refresh"})})}),(0,y.jsx)(ra,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,y.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,y.jsx)("a",{href:it()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,y.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?t:null,this.state.loading?(0,y.jsx)(Fx,{}):(0,y.jsx)("div",{id:"sectionTemplateWrapper",className:"qx-padding",children:this.state.items.map(this.renderSectionTemplate)})]})]})}}])&&bj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||dj;const Pj=Sj;n(39909);var qj=n(62435);function Cj(e){return Cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cj(e)}function kj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nj(e,t)}function Ej(e,t){if(t&&("object"===Cj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rj(e)}function Rj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tj(e)}function Dj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Aj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tj(r);if(o){var n=Tj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ej(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Dj(Rj(t=i.call(this,e)),"handleChange",(function(e){var n=e.target.value;t.setState({value:n})})),Dj(Rj(t),"check",(function(){t.setState({editable:!1}),t.props.onChange&&t.props.onChange(t.state.value)})),Dj(Rj(t),"edit",(function(){t.setState({editable:!0})})),t.state={value:t.props.value,editable:!1},t}return t=a,(n=[{key:"render",value:function(){var e=this.state,t=e.value,n=e.editable;return(0,y.jsx)("div",{className:"editable-cell",children:n?(0,y.jsxs)("div",{className:"editable-cell-input-wrapper",children:[(0,y.jsx)(Vo.default,{value:t,onChange:this.handleChange,onPressEnter:this.check}),(0,y.jsx)("i",{className:"qxuicon-check editable-cell-icon-check",onClick:this.check})]}):(0,y.jsxs)("div",{className:"editable-cell-text-wrapper",children:[t||" ",(0,y.jsx)("i",{className:"qxuicon-edit editable-cell-icon",onClick:this.edit})]})})}}])&&kj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);var Ij;function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mj(Object(n),!0).forEach((function(t){Gj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bj(e){return Bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bj(e)}function Fj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uj(e,t){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uj(e,t)}function zj(e,t){if(t&&("object"===Bj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hj(e)}function Hj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qj(e){return Qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qj(e)}function Gj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wj=bo.Z.Dragger,Jj=(0,v.$j)((function(e){return{action:e.action.action}}),{})(Ij=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uj(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qj(r);if(o){var n=Qj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return zj(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Gj(Hj(t=i.call(this,e)),"onFileUploadDone",(function(e){vo(e,["json"]).then((function(e){var n,r=JSON.parse(e),o={type:r.type,data:r.data},i=jQuery("#jform_token").attr("name"),a=new FormData;a.set("jform[data]",JSON.stringify(o)),a.set("jform[title]",r.title),a.set("jform[builder]","frontend"),a.set("jform[type]",r.type),a.set("jform[state]","1"),a.set("jform[id]","0"),a.set("id","0"),a.set("builder_version",null!==(n=r.builder_version)&&void 0!==n?n:"2.0.0"),a.set("importing",1),a.set("type","collection"),a.set(i,"1"),jt()({method:"post",url:quix.url+"/index.php?option=com_quix&task=collection.save",data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){var n=e.data;"object"==Bj(n)?(n.success?m.success("Imported successfully!"):m.warning(n.message),t.props.onImportDone(o)):m.error(n)})).catch((function(){return t.setState({process:!1})}))}))})),t}return t=a,(n=[{key:"render",value:function(){var e=this,t={data:this.onFileUploadDone};return(0,y.jsx)(Eo,{width:550,classes:"quix-library-importer",show:this.props.show,close:function(){return e.props.onClose()},title:"Import To Library",footer:!1,expandable:!1,style:{left:"calc(50vw - 225px)"},onCancel:function(){return e.props.onClose()},closeModal:function(){return e.props.onClose()},children:(0,y.jsxs)(Wj,Lj(Lj({},t),{},{children:[(0,y.jsx)("p",{children:(0,y.jsx)("i",{className:"qxuicon-box-full qx-text-primary qx-text-large"})}),(0,y.jsx)("h5",{className:"qx-margin-small-top qx-margin-small-bottom",children:"Import Template To Library"}),(0,y.jsxs)("p",{children:["Click or drag ",(0,y.jsx)("em",{children:".json"})," file to this area to upload"]})]}))})}}])&&Fj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Ij;const Vj=Jj;var $j;function Xj(e){return Xj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xj(e)}function Zj(e){return function(e){if(Array.isArray(e))return Yj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yj(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ew(e,t)}function tw(e,t){if(t&&("object"===Xj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nw(e)}function nw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rw(e)}function ow(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iw=null,aw={insertNodes:Ne},lw=(0,v.$j)((function(e){var t=e.action;return{action:t.action,sectionPath:t.path}}),aw)($j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rw(r);if(o){var n=rw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tw(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ow(nw(t=i.call(this,e)),"loadData",(function(e){jt().get(e).then((function(e){var n=Kh()(e.data,(function(e){return e.type="layout"===e.type.toLowerCase()?"page":e.type,e}));t.setState({loadingDone:!0,data:n,originData:n,reloadData:!1})}))})),ow(nw(t),"preview",(function(e){null===iw?iw=window.open("index.php?option=com_quix&view=collection&id=".concat(e)):iw.location.href="index.php?option=com_quix&view=collection&id=".concat(e)})),ow(nw(t),"onCellChange",(function(e,n){return function(r){var o=Zj(t.state.originData),i=o.find((function(t){return t.key===e}));i&&(i[n]=r,t.setState({data:o,originData:o}),jt().get(t.updateNameApi+"&name=".concat(i.title,"&id=").concat(i.id)).then((function(){m.success("Template name updated")})))}})),ow(nw(t),"onDelete",(function(e){var n=Zj(t.state.originData).filter((function(t){return t.id!==e}));t.setState({originData:n,data:n}),jt().get(t.templateDeleteApi+"&id=".concat(e)).then((function(){m.success("Template deleted")}))})),ow(nw(t),"handleFilterChange",(function(e){var n;n="all"===e?t.state.originData:Rx()(t.state.originData,(function(t){if(t.type===e)return t})),t.setState({filterBy:e,data:n})})),ow(nw(t),"handleSearchTerm",(function(e){if(_t(e)&&t.setState({data:t.state.originData}),!(e.length<3)){var n=new Tx.Z(t.state.originData,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["title"]}).search(e).map((function(e){return e.item}));t.setState({data:n})}})),ow(nw(t),"insert",(function(e){t.setState({loading:!0}),jt().get("".concat(t.getTemplate,"&id=").concat(e)).then((function(e){var n=JSON.parse(e.data.data);if(void 0===Xj(n)||!n.data)return m.warning("[ ".concat(e.data.title," ] is an empty section. Can't process the request.")),void t.setState({loading:!1});if("layout"===n.type)t.props.insertNodes(t.props.sectionPath,n.data),t.setState({loading:!1}),m.success("[ ".concat(e.data.title," ] template inserted"));else{var r=n.data;Array.isArray(r)||(r=[r]),t.props.insertNodes(t.props.sectionPath,Zj(r)),t.setState({loading:!1}),m.success("[ ".concat(e.data.title," ] template inserted"))}}))})),ow(nw(t),"importModal",(function(){t.setState({showImportModal:!0})})),ow(nw(t),"onExport",(function(e,n){jt().get(t.exportApi+"&id=".concat(e)).then((function(e){var t,r="".concat(n,".json"),o=e.data.data.config,i={groups:[],title:n,type:o.type,builder_version:null!==(t=o.builder_version)&&void 0!==t?t:"2.0.0",data:o.data};Ka(JSON.stringify(i),r,"application/json")}))})),ow(nw(t),"onClose",(function(){t.props.closeModal&&t.props.closeModal()})),t.token=st(),t.url="".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1"),t.getTemplate="".concat(tt(),"/index.php?option=com_quix&task=api.getTemplate&").concat(t.token,"=1"),t.updateNameApi="".concat(tt(),"/index.php?option=com_quix&task=collection.updateName&").concat(t.token,"=1"),t.templateDeleteApi="".concat(tt(),"/index.php?option=com_quix&task=collection.updateState&state=2&").concat(t.token,"=1"),t.exportApi="".concat(tt(),"/index.php?option=com_quix&task=api.exportCollection&").concat(t.token,"=1"),t.state={loadingDone:!1,filter:"all",data:[],originData:[],columns:[{title:"Title",dataIndex:"title",key:"title",render:function(e,n){return(0,y.jsx)(Aj,{value:e,onChange:t.onCellChange(n.key,"title")})}},{title:"Type",dataIndex:"type",key:"type",render:function(e){return"page"===e||"section"===e||"layout"===e?(0,y.jsx)("span",{className:"label",children:e}):(0,y.jsx)("span",{className:"label label-warning",children:e})}},{title:"Created By",dataIndex:"created_by",key:"created_by"},{title:"Action",key:"action",render:function(e,n){return(0,y.jsxs)("span",{children:[(0,y.jsxs)("button",{type:"button",onClick:function(){return t.insert(n.id)},className:"qxui-btn qxui-btn-default",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]}),(0,y.jsxs)("div",{className:"qxui-btn-group qx-float-right",children:[(0,y.jsx)("button",{type:"button",onClick:function(){return t.onDelete(n.id)},className:"qxui-btn qxui-btn-default",title:"Delete",children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})}),(0,y.jsx)("button",{type:"button",onClick:function(){return t.onExport(n.id,n.title)},className:"qxui-btn qxui-btn-default",title:"Export",children:(0,y.jsx)("i",{className:"qxuicon-sign-out"})})]})]})}}],showImportModal:!1,reloadData:!1},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.loadData(this.url)}},{key:"componentDidUpdate",value:function(e,t,n){this.state.reloadData&&this.loadData(this.url)}},{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid my-templates-list",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-flex qx-flex-between",children:[(0,y.jsx)("div",{className:"qx-column",children:(0,y.jsxs)("div",{className:"qxui-btn-group",role:"group","aria-label":"Basic example",children:[(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("all")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"all"===this.state.filter}),children:"All"}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("section")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"section"===this.state.filter}),children:"Section"}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("page")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"page"===this.state.filter}),children:"Page"}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("header")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"header"===this.state.filter}),children:"Header"}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("footer")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"footer"===this.state.filter}),children:"Footer"})]})}),(0,y.jsxs)("div",{className:"qx-column",children:[(0,y.jsx)(p.default,{type:"button",className:"qxui-btn qxui-btn-link",onClick:function(){e.setState({reloadData:!0})},children:(0,y.jsx)("i",{className:"qxio-ios-reload"})}),(0,y.jsx)(p.default,{disabled:!this.state.loadingDone,onClick:this.importModal,className:"qxui-btn qxui-btn-primary qx-margin-small-right",children:(0,y.jsx)("i",{className:"qxuicon-upload"})}),(0,y.jsx)(ra,{placeholder:"Search",onlyBaseText:!0,onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),this.state.loading?(0,y.jsx)(Fx,{}):(0,y.jsx)("div",{className:"qx-template__list",children:(0,y.jsx)(qj.Z,{pagination:!1,rowKey:function(e){return e.id},columns:this.state.columns,dataSource:this.state.data,prefixCls:"qxui-table",className:"qx-padding"})}),(0,y.jsx)(Vj,{show:this.state.showImportModal,onClose:function(){return e.setState({showImportModal:!1})},onImportDone:function(){return e.setState({showImportModal:!1,reloadData:!0})}})]})}}])&&Kj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||$j;const sw=lw;function cw(e){return cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(e)}var uw;function pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fw(e,t)}function dw(e,t){if(t&&("object"===cw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hw(e)}function hw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yw(e)}function mw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bw=tl.default.Option,vw={insertNodes:Ne},gw=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),vw)(uw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fw(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yw(r);if(o){var n=yw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return dw(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),mw(hw(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!dt("qx-header-template"))jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=header&min_version=4.0.0")).then((function(e){if(e.data.items){var n=yj()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:n}),ht("qx-header-template",{items:e.data.items,itemTags:n})}else t.setState({loading:!1,error:!0})}));else{var n=dt("qx-header-template");t.setState({loading:!1,items:n.items,originItems:n.items,itemTags:n.itemTags})}})),mw(hw(t),"handleSearchTerm",(function(e){if(_t(e)&&t.setState({items:t.state.originItems}),!(e.length<3)){var n=new Tx.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((function(e){return e.item}));t.setState({items:n})}})),mw(hw(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),mw(hw(t),"onCategoryChange",(function(e){var n;n="all"===e||_t(e)?t.state.originItems:Rx()(t.state.originItems,(function(n){if(n.tags){var r=Kh()(n.tags,(function(e){return e.alias}));if(t.arrayContainsArray(e,r))return n}})),t.setState({items:n,category:e})})),mw(hw(t),"insert",(function(e){Ss(hw(t),e)})),mw(hw(t),"renderSectionTemplate",(function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("a",{onClick:function(){return t.insert(e.id)},className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]}),i=null;return n&&"free"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),n&&"inactive"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,y.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ct(e.images),width:"100%",alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[i||o,(0,y.jsx)("span",{className:"qx-fb-template-name",children:e.title}),i&&n?(0,y.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,y.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),t.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,y.jsxs)(tl.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(bw,{value:"all",children:"All"},"all"),this.state.itemTags.map((function(e){return(0,y.jsx)(bw,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:function(){e.loadData(!0)},children:(0,y.jsx)("i",{className:"qxio-refresh"})})}),(0,y.jsx)(ra,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,y.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,y.jsx)("a",{href:it()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,y.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?t:null,this.state.loading?(0,y.jsx)(Fx,{}):(0,y.jsx)("div",{id:"sectionTemplateWrapper",className:"qx-padding",children:this.state.items.map(this.renderSectionTemplate)})]})]})}}])&&pw(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||uw;const xw=gw;function jw(e){return jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(e)}var ww;function Ow(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_w(e,t)}function Sw(e,t){if(t&&("object"===jw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pw(e)}function Pw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qw(e){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qw(e)}function Cw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kw=tl.default.Option,Nw={insertNodes:Ne},Ew=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),Nw)(ww=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qw(r);if(o){var n=qw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Sw(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Cw(Pw(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!dt("qx-footer-template"))jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=footer&min_version=4.0.0")).then((function(e){if(e.data.items){var n=yj()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:n}),ht("qx-footer-template",{items:e.data.items,itemTags:n})}else t.setState({loading:!1,error:!0})}));else{var n=dt("qx-footer-template");t.setState({loading:!1,items:n.items,originItems:n.items,itemTags:n.itemTags})}})),Cw(Pw(t),"handleSearchTerm",(function(e){if(_t(e)&&t.setState({items:t.state.originItems}),!(e.length<3)){var n=new Tx.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((function(e){return e.item}));t.setState({items:n})}})),Cw(Pw(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),Cw(Pw(t),"onCategoryChange",(function(e){var n;n="all"===e||_t(e)?t.state.originItems:Rx()(t.state.originItems,(function(n){if(n.tags){var r=Kh()(n.tags,(function(e){return e.alias}));if(t.arrayContainsArray(e,r))return n}})),t.setState({items:n,category:e})})),Cw(Pw(t),"insert",(function(e){Ss(Pw(t),e)})),Cw(Pw(t),"renderSectionTemplate",(function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("a",{onClick:function(){return t.insert(e.id)},className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]}),i=null;return n&&"free"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),n&&"inactive"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,y.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ct(e.images),width:"100%",alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[i||o,(0,y.jsx)("span",{className:"qx-fb-template-name",children:e.title}),i&&n?(0,y.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,y.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),t.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,y.jsxs)(tl.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(kw,{value:"all",children:"All"},"all"),this.state.itemTags.map((function(e){return(0,y.jsx)(kw,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:function(){e.loadData(!0)},children:(0,y.jsx)("i",{className:"qxio-refresh"})})}),(0,y.jsx)(ra,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,y.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,y.jsx)("a",{href:it()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,y.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?t:null,this.state.loading?(0,y.jsx)(Fx,{}):(0,y.jsx)("div",{id:"sectionTemplateWrapper",className:"qx-padding",children:this.state.items.map(this.renderSectionTemplate)})]})]})}}])&&Ow(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||ww;const Rw=Ew;function Tw(e){return Tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(e)}var Dw;function Aw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mw(e,t)}function Lw(e,t){if(t&&("object"===Tw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bw(e)}function Bw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fw(e)}function Uw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zw=_i.default.TabPane,Hw={invokeTemplateModal:Pe},Qw=(0,v.$j)((function(e){return{visible:e.action.action===he}}),Hw)(Dw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fw(r);if(o){var n=Fw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lw(this,e)});function a(){var e;Aw(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Uw(Bw(e=i.call.apply(i,[this].concat(n))),"state",{tabDisabled:!1}),Uw(Bw(e),"handleCloseClick",(function(){e.props.invokeTemplateModal()})),Uw(Bw(e),"handleOpenClick",(function(){e.setState({show:!0})})),Uw(Bw(e),"onTabChange",(function(t){e.setState({tab:t}),ht("qx-template-tab",t)})),e}return t=a,(n=[{key:"render",value:function(){return(0,y.jsx)(Eo,{width:"1000px",className:"qxui-modal--with-tab qxui-modal--template qxui-modal--template-collection",show:this.props.visible,title:"Load From Library",footer:!1,closable:!1,onCancel:this.handleCloseClick,onClose:this.handleCloseClick,expandable:!1,style:{left:"calc(50vw - 500px)",maxWidth:"100%",minWidth:"1000px"},children:(0,y.jsxs)(_i.default,{animated:{inkBar:!0,tabPane:!1},activeKey:this.state.tab,onChange:this.onTabChange,prefixCls:"qxui-tabs",children:[(0,y.jsx)(zw,{disabled:this.state.tabDisabled,tab:"Layout Bundles","data-simplebar":!0,children:(0,y.jsx)(fj,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Bundles"),(0,y.jsx)(zw,{disabled:this.state.tabDisabled,tab:"Pages",children:(0,y.jsx)(Kx,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Pages"),(0,y.jsx)(zw,{disabled:this.state.tabDisabled,tab:"Sections","data-simplebar":!0,children:(0,y.jsx)(Pj,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Sections"),(0,y.jsx)(zw,{disabled:this.state.tabDisabled,tab:"Headers","data-simplebar":!0,children:(0,y.jsx)(xw,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Headers"),(0,y.jsx)(zw,{disabled:this.state.tabDisabled,tab:"Footers","data-simplebar":!0,children:(0,y.jsx)(Rw,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Footers"),(0,y.jsx)(zw,{disabled:this.state.tabDisabled,tab:"My Templates",children:(0,y.jsx)(sw,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"My Templates")]})})}}])&&Iw(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Dw;const Gw=Qw;function Ww(e){return Ww="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ww(e)}var Jw,Vw;function $w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zw(e,t)}function Yw(e,t){if(t&&("object"===Ww(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kw(e)}function Kw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(e){return eO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eO(e)}function tO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nO=_i.default.TabPane,rO=nl.Z.Panel,oO={invokeSEORankModal:qe},iO=(0,v.$j)((function(e){var t=e.action,n=t.action,r=t.tab;return{visible:n===w,tab:r}}),oO)((Vw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=eO(r);if(o){var n=eO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yw(this,e)});function a(){var e;$w(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tO(Kw(e=i.call.apply(i,[this].concat(n))),"state",{title:"",desc:"",image:"",tuser:"",appid:"",addog:"",addtw:"",imageIntroWarning:""}),tO(Kw(e),"onChange",(function(){ni()})),tO(Kw(e),"updateIntroImage",(function(t){e.setState({imageIntroWarning:" "});var n="";if(t.source)n=t.source;else if(t.type&&"svg"===t.type)return e.setState({imageIntroWarning:"Please select image only!"}),!1;return Tr("jform_metadata_image_intro").value=n,!0})),e}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t;e.setState({title:Tr("jform_metadata_title").value}),e.setState({desc:Tr("jform_metadata_desc").value}),e.setState({focusKeywords:Tr("jform_metadata_focus_keywords").value}),t=Tr("jform_metadata_image_intro").value?{type:"image",source:Tr("jform_metadata_image_intro").value}:{type:"",source:""},e.setState({image:t}),e.setState({tuser:Tr("jform_metadata_twitter_username").value}),e.setState({appid:Tr("jform_metadata_fb_appid").value}),e.setState({addog:Boolean(Tr("jform_metadata_addog").value)}),e.setState({addtw:Boolean(Tr("jform_metadata_addtw").value)})}),100)}},{key:"render",value:function(){var e=this,t=Tr("jform_type").value;return(0,y.jsx)(Eo,{className:"qxui-modal--with-tab modal--small",title:"SEO settings",show:this.props.visible,close:function(){return e.props.invokeSEORankModal(!1)},style:{left:"calc(50vw - 250px)"},dismisible:!0,footer:[(0,y.jsxs)("button",{className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:function(){ni(),e.props.invokeSEORankModal(!1)},children:[(0,y.jsx)("i",{className:"qxuicon-check"})," Apply "]},"save")],children:"collection"===t?(0,y.jsx)(_i.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs",children:(0,y.jsx)(nO,{tab:"General",children:(0,y.jsx)(nl.Z,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"end",children:(0,y.jsxs)(rO,{header:"General Options",children:[(0,y.jsxs)("p",{className:"qx-alert qx-alert-info qx-small qx-p-1",children:["SEO Settings are mainly for Pages. This view will help you to understand better content quality.",(0,y.jsx)("strong",{children:"These settings will not be implemented in preview page."})]}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(ra,{label:"SEO Title",name:"jform[metadata][title]",placeholder:"SEO title",value:this.state.title,id:"jform_metadata_title",onChange:function(t){e.setState({title:t}),Tr("jform_metadata_title").value=t,ni()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(By,{label:"SEO Desc",name:"jform[metadata][desc]",rows:4,value:this.state.desc,id:"jform_metadata_desc",onChange:function(t){e.setState({desc:t}),Tr("jform_metadata_desc").value=t,ni()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(ra,{label:"SEO Focus Keywords",name:"jform[metadata][focus_keywords]",placeholder:"SEO Focus Keywords",value:this.state.focusKeywords,id:"jform_metadata_focus_keywords",onChange:function(t){e.setState({focusKeywords:t}),Tr("jform_metadata_focus_keywords").value=t,ni()}})})]},"1")})},"general")}):(0,y.jsxs)(_i.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs",children:[(0,y.jsx)(nO,{tab:"General",children:(0,y.jsx)(nl.Z,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"end",children:(0,y.jsxs)(rO,{header:"General Options",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(ra,{label:"SEO Title",name:"jform[metadata][title]",placeholder:"SEO title",value:this.state.title,id:"jform_metadata_title",onChange:function(t){e.setState({title:t}),Tr("jform_metadata_title").value=t,ni()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(By,{label:"SEO Desc",name:"jform[metadata][desc]",rows:4,value:this.state.desc,id:"jform_metadata_desc",onChange:function(t){e.setState({desc:t}),Tr("jform_metadata_desc").value=t,ni()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(ra,{label:"SEO Focus Keywords",name:"jform[metadata][focus_keywords]",placeholder:"SEO Focus Keywords",value:this.state.focusKeywords,id:"jform_metadata_focus_keywords",onChange:function(t){e.setState({focusKeywords:t}),Tr("jform_metadata_focus_keywords").value=t,ni()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(ra,{label:"Twitter Username",name:"jform[metadata][twitter_username]",placeholder:"twitter_username",value:this.state.tuser,id:"jform_metadata_twitter_username",onChange:function(t){e.setState({tuser:t}),Tr("jform_metadata_twitter_username").value=t,ni()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(ra,{label:"Facebook AppID",name:"jform[metadata][fb_appid]",placeholder:"fb_appid",value:this.state.appid,id:"jform_metadata_fb_appid",onChange:function(t){e.setState({appid:t}),Tr("jform_metadata_fb_appid").value=t,ni()}})})]},"1")})},"general"),(0,y.jsx)(nO,{tab:"Image",children:(0,y.jsx)(nl.Z,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"end",children:(0,y.jsx)(rO,{header:"SEO Image",children:(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)(cd,{label:"Image Intro",name:"jform[metadata][image_intro]",value:this.state.image,id:"jform_metadata_image_intro",filters:"image",onChange:function(t){if(!e.updateIntroImage(t))return!1;e.setState({image:t}),ni()}}),(0,y.jsx)("div",{id:"imageIntroWarning",style:{color:"red",fontWeight:"bold"},children:this.state.imageIntroWarning})]})},"1")})},"image"),(0,y.jsx)(nO,{tab:"Settings",children:(0,y.jsx)(nl.Z,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"end",children:(0,y.jsxs)(rO,{header:"Other Options",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(xy,{label:"Add OpenGraph data",name:"jform[metadata][addog]",checked:this.state.addog,onChange:function(t){e.setState({addog:t}),Tr("jform_metadata_addog").value=t,ni()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(xy,{label:"Add Twitter card",name:"jform[metadata][addtw]",checked:this.state.addtw,onChange:function(t){e.setState({addtw:t}),Tr("jform_metadata_addtw").value=t,ni()}})})]},"1")})},"settings")]})})}}],n&&Xw(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),tO(Vw,"propTypes",{}),tO(Vw,"defaultProps",{}),Jw=Vw))||Jw;const aO=iO;var lO;function sO(e){return sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sO(e)}function cO(e){return function(e){if(Array.isArray(e))return uO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return uO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uO(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dO(e,t){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dO(e,t)}function hO(e,t){if(t&&("object"===sO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yO(e)}function yO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mO(e){return mO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mO(e)}function bO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vO=Vo.default.Group,gO={invokeSectionSaveModal:Oe},xO=(0,v.$j)((function(e){var t=e.action,n=t.action,r=t.path,o=e.nodes.nodes;return{visible:n===ye,path:r,nodes:o}}),gO)(lO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dO(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mO(r);if(o){var n=mO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hO(this,e)});function a(){var e;pO(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bO(yO(e=i.call.apply(i,[this].concat(n))),"state",{process:!1,path:null}),bO(yO(e),"saveSection",(function(){var t={type:"section",data:[er(cO(e.props.nodes),cO(e.props.path))]};e.setState({process:!0});var n=st(),r=new FormData;r.set("jform[data]",JSON.stringify(t)),r.set("jform[title]",e.state.sectionName),r.set("jform[builder]","frontend"),r.set("jform[type]","section"),r.set("jform[state]","1"),r.set("jform[id]",0),r.set("id",0),r.set("type","collection"),r.set(n,"1"),jt()({method:"post",url:"".concat(tt(),"/index.php?option=com_quix&task=collection.save"),data:r,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){var n=t.data;"object"==sO(n)?n.success?(e.setState({sectionName:"",process:!1}),m.success("Template saved"),e.props.invokeSectionSaveModal()):m.warning(n.message):m.error(n)})).catch((function(){return e.setState({process:!1})}))})),e}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsx)(Eo,{width:550,show:this.props.visible,title:"Add Section To Library",footer:!1,closable:!0,onCancel:function(){return e.props.invokeSectionSaveModal()},style:{left:"calc(50vw - 225px)"},children:(0,y.jsxs)("div",{className:"qx-fb-infobox qx-text-center sections-save-box",children:[(0,y.jsxs)("div",{className:"qx-mt-3",children:[(0,y.jsx)("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),(0,y.jsx)("h2",{children:"Save Your Section To Library"}),(0,y.jsx)("p",{className:"qx-mb-4",children:"Your designs will be available for export and reuse on any page or website"})]}),(0,y.jsxs)(vO,{prefixCls:"qxui-input-group",children:[(0,y.jsx)(Vo.default,{size:"large",placeholder:"Enter Section Name",value:this.state.sectionName,style:{width:"75%"},prefixCls:"qxui-input",onChange:function(t){return e.setState({sectionName:t.target.value})}}),(0,y.jsxs)(p.default,{type:"primary",disabled:this.state.process,size:"large",style:{width:"25%"},onClick:this.saveSection,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save"]})]})]})})}}])&&fO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||lO;const jO=xO;var wO;function OO(e){return OO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OO(e)}function _O(e){return function(e){if(Array.isArray(e))return SO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return SO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SO(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CO(e,t){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CO(e,t)}function kO(e,t){if(t&&("object"===OO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return NO(e)}function NO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(e){return EO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EO(e)}function RO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TO=Vo.default.Group,DO={invokeElementSaveModal:_e},AO=(0,v.$j)((function(e){var t=e.action,n=t.action,r=t.path,o=e.nodes.nodes;return{visible:n===me,path:r,nodes:o}}),DO)(wO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CO(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=EO(r);if(o){var n=EO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kO(this,e)});function a(){var e;PO(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return RO(NO(e=i.call.apply(i,[this].concat(n))),"state",{process:!1,element:{},elementName:""}),RO(NO(e),"saveElement",(function(){var t=er(_O(e.props.nodes),_O(e.props.path));t.name=e.state.elementName,e.setState({elementName:""});var n=st(),r={type:"element",data:[t]},o=new FormData;o.set("jform[data]",JSON.stringify(r)),o.set("jform[title]",e.state.elementName),o.set("jform[builder]","frontend"),o.set("jform[type]","element"),o.set("jform[state]","1"),o.set("jform[id]","0"),o.set("id","0"),o.set("type","collection"),o.set(n,"1"),jt()({method:"post",url:"".concat(tt(),"/index.php?option=com_quix&task=collection.save"),data:o,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){window.jQuery(".savePage i").removeClass("anticon-loading").removeClass("anticon-spin").addClass("anticon-save");var n=t.data;"object"==OO(n)?n.success?(m.success("Template saved"),yt("MY_ELEMENTS"),e.props.invokeElementSaveModal()):m.warning(n.message):m.error(n)}))})),e}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsx)(Eo,{width:550,show:this.props.visible,close:function(){return e.props.invokeElementSaveModal()},title:"Add Element To Library",footer:!1,closable:!0,onCancel:function(){return e.props.invokeElementSaveModal()},closeModal:function(){return e.props.invokeElementSaveModal()},style:{left:"calc(50vw - 225px)"},children:(0,y.jsxs)("div",{className:"qx-fb-infobox qx-text-center sections-save-box",children:[(0,y.jsxs)("div",{className:"qx-mt-3",children:[(0,y.jsx)("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),(0,y.jsx)("h2",{children:"Save Your Element To My Elements"}),(0,y.jsx)("p",{className:"qx-mb-4",children:"Your designs will be available for export and reuse on any page or website"})]}),(0,y.jsxs)(TO,{prefixCls:"qxui-input-group",children:[(0,y.jsx)(Vo.default,{size:"large",placeholder:"Enter Element Name",value:this.state.elementName,style:{width:"75%"},prefixCls:"qxui-input",onChange:function(t){return e.setState({elementName:t.target.value})}}),(0,y.jsxs)(p.default,{type:"primary",disabled:this.state.process,size:"large",style:{width:"25%"},onClick:this.saveElement,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save"]})]})]})})}}])&&qO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||wO;const IO=AO;function MO(e){return MO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MO(e)}var LO;function BO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UO(e,t){return UO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UO(e,t)}function zO(e,t){if(t&&("object"===MO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return HO(e)}function HO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QO(e){return QO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QO(e)}function GO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WO=Vo.default.Group,JO=tl.default.Option,VO=function(e){return(0,y.jsx)("i",{className:e.type,style:null==e?void 0:e.style})},$O={invokeDisplayConditionModal:Se};const XO=(0,v.$j)((function(e){return{visible:e.action.action===be}}),$O)(LO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UO(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=QO(r);if(o){var n=QO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return zO(this,e)});function a(){var e;BO(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return GO(HO(e=i.call.apply(i,[this].concat(n))),"state",{stack:[],settings:"",oldSettings:[],settingOptions:[],subSettingOptions:[],selectedType:"all-menu",selectedSubType:"",subMenus:[],selectedMenuType:"",warning:!1,conditionData:[]}),GO(HO(e),"closeModal",(function(){e.props.invokeDisplayConditionModal(!1)})),GO(HO(e),"loadMenu",(function(t){var n=e.state.subMenus;n[t]||(n[t]=[],jt().get("index.php?option=com_quix&task=api.getParentItem&menutype="+t).then((function(r){n[t]=r.data,e.setState({subMenus:n})})))})),GO(HO(e),"dataSave",(function(){var t=e.state.conditionData;return Tr("jform_conditions").value=JSON.stringify(t),!0})),GO(HO(e),"save",(function(){e.dataSave(),e.closeModal()})),GO(HO(e),"remove",(function(t){var n=ar(e.state.conditionData);n.splice(t,1),e.setState({conditionData:n})})),GO(HO(e),"addCondition",(function(){var t=ar(e.state.conditionData);t.push({typeCondition:"include",type:"all-menu",subType:"",parent_menu:""}),e.setState({conditionData:t})})),GO(HO(e),"changeVal",(function(t,n){var r=n.name,o=n.parentindex,i=ar(e.state.conditionData);"menus"===i[o].type&&"subType"===r&&(e.state.subMenus[t]||e.loadMenu(t)),i[o][r]=t,e.setState({conditionData:i})})),GO(HO(e),"showCondition",(function(t,n){var r,o=Tr("jform_template_type");r=null!=o?o.value:"section";var i=null;return"menus"===t.type&&t.subType&&(e.state.subMenus[t.subType]||e.loadMenu(t.subType),e.state.subMenus[t.subType]&&(i=(0,y.jsx)(tl.default,{prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},value:t.parent_menu,onChange:e.changeVal,className:"qx-margin-right",children:e.state.subMenus[t.subType].map((function(e){return(0,y.jsx)(JO,{parentindex:n,value:e.id,name:"parent_menu",children:e.title},e.id)}))}))),(0,y.jsx)("div",{className:"publish-settings__condition qx-margin-small-bottom qx-background-muted qx-padding-small",style:{borderRadius:"4px",padding:"5px"},children:(0,y.jsxs)(WO,{prefixCls:"qxui-input-group",children:[(0,y.jsxs)(tl.default,{prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},value:t.typeCondition,onChange:e.changeVal,className:"qx-margin-right",children:[(0,y.jsx)(JO,{parentindex:n,value:"include",name:"typeCondition",children:"Include"},"include"),(0,y.jsx)(JO,{parentindex:n,value:"exclude",name:"typeCondition",children:"Exclude"},"exclude")]}),(0,y.jsxs)(tl.default,{prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},value:t.type,onChange:e.changeVal,className:"qx-margin-right",children:[(0,y.jsx)(JO,{parentindex:n,value:"all-menu",name:"type",children:"Default - Entire Site"},"all-menu"),(0,y.jsx)(JO,{parentindex:n,value:"menus",name:"type",children:"Menus"},"menus"),"article"===r?(0,y.jsx)(JO,{parentindex:n,value:"article",name:"type",children:"All Articles"},"article"):null,"article"===r?(0,y.jsx)(JO,{parentindex:n,value:"categories",name:"type",children:"Categories"},"categories"):null]}),"article"!==t.type&&"all-menu"!==t.type?(0,y.jsx)(tl.default,{prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},value:t.subType,onChange:e.changeVal,className:"qx-margin-right",children:e.state.settingOptions[t.type]?e.state.settingOptions[t.type].map((function(e){return(0,y.jsx)(JO,{parentindex:n,value:e.value,name:"subType",children:e.text},e.value)})):null}):null,"menus"===t.type&&t.subType?i:null,(0,y.jsx)("span",{href:"#",onClick:function(){return e.remove(n)},className:"qx-flex qx-flex-middle qx-text-muted qx-link",style:{marginLeft:"-10px"},children:(0,y.jsx)(VO,{type:"qxio-close"})})]})},n)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.setState({settingOptions:window.QUIX_API_GETJOOMLACATEGORIES});for(var e=Tr("jform_menutype").options,t=[],n=e.length,r=0;r<n;r++)if("select menu"!==e[r].text.toLowerCase()){var o=[];o.value=e[r].value,o.text=e[r].text,t.push(o)}var i=this.state.settingOptions;i.menus=t,this.setState({settingOptions:i});var a=Tr("jform_conditions").value||"[]";this.setState({conditionData:JSON.parse(a)})}},{key:"render",value:function(){var e=this;return(0,y.jsx)(Eo,{className:"qxui-modal--with-tab modal--small theme-joomla-layouts-modal",title:"Publish Settings",show:this.props.visible,close:this.closeModal,dismisible:!0,style:{left:"calc(50vw - 400px)"},footer:[(0,y.jsxs)("button",{className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:this.save,children:[(0,y.jsx)("i",{className:"qxuicon-check"})," Save "]},"save")],children:(0,y.jsx)(Lg.Z,{prefixCls:"qx-card",bordered:!0,style:{maxHeight:"420px",overflow:"auto"},children:(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"qx-padding-small qx-qx-margin-bottom qx-text-center",children:(0,y.jsx)(VO,{type:"qxif-rocket",style:{fontSize:"70px",color:"#08c"}})}),(0,y.jsx)("div",{className:"qx-card-head qx-margin-bottom",children:(0,y.jsxs)("div",{className:"qx-card-head-wrapper",children:[(0,y.jsx)("h2",{className:"qx-card-head-title qx-text-center",style:{fontSize:"30px",marginBottom:"40px"},children:"Where do you want to display your layout?"}),(0,y.jsxs)("div",{className:"qx-text-muted qx-text-center",style:{fontFamily:"Roboto,Arial,Helvetica,Verdana,sans-serif",fontSize:"18px",fontWeight:300},children:["Set the conditions that determine where your Template is used throughout your site.",(0,y.jsx)("br",{}),"For example, choose 'Entire Site' to display the template across your site."]})]})}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[this.state.conditionData.map(this.showCondition),this.state.warning?(0,y.jsx)("p",{className:"qx-alert qx-alert-warning qx-small qx-padding-small",children:" Please complete your selection first"}):null,(0,y.jsx)("div",{className:"qx-padding qx-text-center",children:(0,y.jsx)("button",{onClick:function(){e.addCondition()},className:"qxui-btn qxui-btn-primary",children:"Add Condition"})})]})]})})})}}])&&FO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||LO,ZO=function(){return(0,y.jsxs)("div",{children:[(0,y.jsx)(Sa,{children:(0,y.jsx)(kl,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(Ig,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(aO,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(Wl,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(Vf,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(Gw,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(jO,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(IO,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(XO,{})}),(0,y.jsx)(Sa,{children:(0,y.jsx)(Nx,{})})]})};function YO(e){return YO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YO(e)}var KO;function e_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n_(e,t)}function r_(e,t){if(t&&("object"===YO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o_(e)}function o_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i_(e){return i_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i_(e)}function a_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l_={copyNode:Me,setContainerWidth:function(e){return{type:g,payload:{width:e}}},setDevice:He};const s_=(0,v.$j)(null,l_)(KO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i_(r);if(o){var n=i_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return r_(this,e)});function a(){var e;e_(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a_(o_(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",jo()),a_(o_(e),"readFromClipboard",(function(){rn("qx-node").then((function(t){t&&t.id!==window.QUIX.lastCopiedNodeId&&(window.QUIX.lastCopiedNodeId=t.id,e.props.copyNode(null,t))}))})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.setContainerWidth(jQuery(".app-mount").width()),Or().then((function(t){return t.addEventListener("mouseenter",e.readFromClipboard)})),this.readFromClipboard()}},{key:"componentWillUnmount",value:function(){var e=this;Or().then((function(t){return t.removeEventListener("mouseenter",e.readFromClipboard)}))}},{key:"render",value:function(){return(0,y.jsx)("div",{className:"frontend-blocks",children:(0,y.jsxs)(b.Suspense,{fallback:(0,y.jsx)(wp,{}),children:[(0,y.jsx)(hp,{}),(0,y.jsx)(ZO,{})]})})}}])&&t_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||KO;var c_=n(92966),u_=n(82006);function p_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p_(Object(n),!0).forEach((function(t){d_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h_={url:quix.url,qid:"0"===quix.id?null:quix.id,grid:12,col:8.333333333333334,blocks:JSON.parse(quix.blocks),saveCollectionScreen:{visible:!1,data:null,category:null},jmedia:{visible:!1,options:{}},exportImportScreen:{visible:!1},seoScreen:{visible:!1},pageModal:{visible:!1},linkMenuModal:{visible:!1},joomlaLayouts:{visible:!1}};function y_(e){return function(e){if(Array.isArray(e))return m_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b_(Object(n),!0).forEach((function(t){g_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x_=ar(window.QUIX_PAGE);if(window.QUIX_PAGE=null,!Array.isArray(x_))throw new Error("Source nodes must be type of array");var j_={nodes:(x_=function e(t){return t.map((function(t){return t.children=e(t.children),t.id=t.form.advanced.identifier.id,t}))}(x_)).slice(),saved:x_.slice(),clipboard:{node:null},responsive:!1,device:"lg",resize:{rowPath:null,column1:{id:null,index:0,width:50},column2:{id:null,index:1,width:50},meLeft:!0,width:0}};function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w_(Object(n),!0).forEach((function(t){__(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function __(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}x_=null;var S_={path:null,index:0,action:null,openJMedia:!1};function P_(e){return function(e){if(Array.isArray(e))return q_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return q_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C_(Object(n),!0).forEach((function(t){N_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E_={showForm:!1,path:null,node:null,initialNode:null,schema:null};function R_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R_(Object(n),!0).forEach((function(t){D_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A_={path:[],placement:"AFTER"},I_=(0,c_.UY)({meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case g:return f_(f_({},e),{},{col:r/e.grid});case j:return f_(f_({},e),{},{saveCollectionScreen:f_(f_({},e.saveCollectionScreen),r)});case x:return f_(f_({},e),{},{exportImportScreen:f_(f_({},e.exportImportScreen),{},{visible:r})});case O:return f_(f_({},e),{},{qid:"0"===r?null:r});default:return e}},nodes:function(){var e,t,n,r,o,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j_,l=arguments.length>1?arguments[1]:void 0,s=l.type,c=l.payload;switch(ni(),s){case P:case S:return v_({},a);case q:return v_(v_({},a),{},{nodes:ar(c)});case re:return e=tr(y_(n=c.index||a.nodes.length),y_(a.nodes),y_(c.newNodes)),v_(v_({},a),{},{nodes:e});case F:return m=c.targetPath,t=a.clipboard.node,e=Un(y_(a.nodes),t,y_(m)),v_(v_({},a),{},{nodes:e});case D:return n=c.index||a.nodes.length,e=$n(y_(a.nodes),[n],En()),v_(v_({},a),{},{nodes:e});case C:return e=Yn(y_(a.nodes),y_(c.nodePath),["form"].concat(y_(c.valuePath)),c.value),v_(v_({},a),{},{nodes:e});case R:return e=$n(y_(a.nodes),[].concat(y_(c.path),[c.index]),Rn()),v_(v_({},a),{},{nodes:e});case T:return e=Mn(y_(a.nodes),c.path,c.index),v_(v_({},a),{},{nodes:e});case Y:return e=Fn(y_(a.nodes),c.path,!0),v_(v_({},a),{},{nodes:e});case A:return t=Dn(c.element),c.node=t,e=$n(y_(a.nodes),y_(c.path),t),v_(v_({},a),{},{nodes:e});case I:return t=An(c.element),e=$n(y_(a.nodes),y_(c.path),t),v_(v_({},a),{},{nodes:e});case H:return e=nr(c.path,c.layout,y_(a.nodes)),v_(v_({},a),{},{nodes:e});case U:var u=er(y_(a.nodes),y_(c.path));if(e=Jn(y_(a.nodes),y_(c.path)),"column"===u.slug){var p=y_(c.path).slice(0,-2);e=rr(y_(e),p)}return v_(v_({},a),{},{nodes:e});case ue:return e=[],v_(v_({},a),{},{nodes:e});case le:return e=Bn(y_(a.nodes),y_(c.path),c.node),v_(v_({},a),{},{nodes:e});case M:return e=Fn(y_(a.nodes),c.path),v_(v_({},a),{},{nodes:e});case J:return v_(v_({},a),{},{device:c.device});case G:return e=Xn(y_(a.nodes),[].concat(y_(c.path),["visibility"]),c.visibility),e=Xn(e,[].concat(y_(c.path),["hash"]),lr("qx-hash")),v_(v_({},a),{},{nodes:e});case L:return t=c.node||er(a.nodes,y_(c.path)),on("qx-node",t),v_(v_({},a),{},{clipboard:v_(v_({},a.clipboard),{},{node:ar(t)})});case B:var f=y_(c.path);t=a.clipboard.node;var d=er(y_(a.nodes),y_(f)),h=fn(d)?"element":d.slug,y=fn(t)?"element":t.slug;if(!yn(h,y))return console.warn("Incompatible overlap"),v_({},a);var m=y_(f),b=hn(h),v=hn(y);if(b<v)m=[].concat(y_(m),["children",c.bellow?d.children.length:0]);else if(c.bellow){var g=m.pop();g++,m=[].concat(y_(m),[g])}return e=Un(y_(a.nodes),t,y_(m)),v_(v_({},a),{},{nodes:e,clipboard:v_(v_({},a.clipboard),{},{node:t})});case V:return(r=a.clipboard.node)?(o=Hn(r,t=er(y_(a.nodes),y_(c.path))),e=Xn(e=Qn(y_(a.nodes),y_(c.path),{form:{styles:ar(o.form.styles),advanced:ar(o.form.advanced)},hash:lr("qx-hash")}),[].concat(y_(c.path),["hash"]),lr("qx-hash")),v_(v_({},a),{},{nodes:e})):v_({},a);case X:return(r=a.clipboard.node)?(i=er(r,["form"].concat(y_(c.stylePath))),e=Xn(e=Qn(y_(a.nodes),[].concat(y_(c.nodePath),["form"],y_(c.stylePath)),i),[].concat(y_(c.nodePath),["hash"]),lr("qx-hash")),v_(v_({},a),{},{nodes:e})):v_({},a);case Z:var x=Hn(Nn((t=er(a.nodes,y_(c.path))).slug),t);return t=v_(v_({},t),{},{hash:lr(t.slug),form:v_(v_({},t.form),{},{styles:ar(x.form.styles),advanced:ar(x.form.advanced)})}),e=Bn(y_(a.nodes),y_(c.path),t),v_(v_({},a),{},{nodes:e});case E:return v_({},a);case z:return e=zn(y_(a.nodes),y_(c.from),y_(c.to)),v_(v_({},a),{},{nodes:e});case N:return e=rr(y_(a.nodes),y_(c.path)),v_(v_({},a),{},{nodes:e});case se:var j,w,O,_=+c.path.slice().pop(),$=y_(c.path).slice(0,c.path.length-2),pe=!0,fe=er(y_(a.nodes),y_($));if("row"!==fe.slug)return v_({},a);_>fe.children.length-2?(j=fe.children[_],O=_-1,w=fe.children[O],pe=!1):(j=fe.children[_],O=_+1,w=fe.children[O]);var de={column1:{id:j.form.advanced.identifier.id,index:_,width:Gr(j.form.general.layout_fields_group.col_width,c.width)},column2:{id:w.form.advanced.identifier.id,index:O,width:Gr(w.form.general.layout_fields_group.col_width,c.width)}};return v_(v_({},a),{},{resize:v_(v_({rowPath:$},de),{},{meLeft:pe,width:c.width})});case ce:return e=Yn(y_(a.nodes),[].concat(y_(a.resize.rowPath),["children",a.resize.column1.index]),["form","general","layout_fields_group","col_width"],Gr(c.width.column1.width,a.resize.width)),e=Yn(y_(a.nodes),[].concat(y_(a.resize.rowPath),["children",a.resize.column2.index]),["form","general","layout_fields_group","col_width"],Gr(c.width.column2.width,a.resize.width)),v_(v_({},a),{},{nodes:e,resize:{rowPath:null,column1:null,column2:null,meLeft:!0}});case Q:case W:case k:case K:case ee:case te:case ne:case oe:case ie:case ae:return v_({},a);default:return a}},action:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case pe:return O_(O_({},e),r);case de:return O_(O_({},e),{},{jmedia:{callback:r.callback,config:r.config},openJMedia:r.show});default:return e}},form:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E_,o=arguments.length>1?arguments[1]:void 0,i=o.type,a=o.payload;switch(i){case A:case ge:if(!a.path)return k_(k_({},r),{},{showForm:!1,path:null,node:null,initialNode:null});n=Vr(a.node);var l=!0;return i===A&&"column"===(null===(e=a.node)||void 0===e?void 0:e.slug)&&(l=!1),k_(k_({},r),{},{showForm:l,path:a.path,node:ar(a.node),initialNode:ar(a.node),schema:n});case xe:return n=Vr(a.node),{path:a.path,node:ar(a.node),initialNode:ar(a.node),schema:n};case C:return t=k_({},r.node),r.node&&t?(t.form=Kn(k_({},r.node.form),P_(a.valuePath),a.value),k_(k_({},r),{},{node:k_({},t)})):k_({},r);default:return r}},dnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===je?r.path.join()===e.path.join()&&r.placement===e.placement?e:T_(T_({},e),{},{path:r.path,placement:r.placement}):e}}),M_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c_.qC;function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.qxUIkit=n(86799);function F_(){vr.prepare().then((function(){return new Promise((function(e,t){var n,r=[],o=wn(At());try{var i=function(){var e=n.value;r.push(new Promise((function(t){return Promise.all([Lt(e.slug),(n=e.slug,Rt("".concat(n,"-default_node")))]).then((function(n){return t({slug:e.slug,schema:n[0],node:n[1]})}));var n})))};for(o.s();!(n=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}Promise.all(r).then((function(t){var n,r=wn(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;Sn.push(o.schema),Pn.push(o.node),qn.push(o.slug)}}catch(e){r.e(e)}finally{r.f()}e()})).catch(t)}))})).then((function(){var e,t=(0,c_.MT)(I_,M_((0,c_.md)(eo,u_.Z)));!function(e){var t=function(){return(0,y.jsx)(v.zt,{store:e,children:(0,y.jsx)(r.default,{prefixCls:"qxui",children:(0,y.jsx)(is,{})})})};jQuery("#loaderMessage").addClass("step2").html("Preparing Assets"),window.loadedQuixComponentBuilder=!0,(0,Tu.render)((0,y.jsx)(t,{}),Tr("qx-fb-frame-toolbar"))}(t),document.querySelectorAll('link[disabled="true"]').forEach((function(e){return e.removeAttribute("disabled")})),function(e){var t=function(){return(0,y.jsx)(v.zt,{store:e,children:(0,y.jsx)(r.default,{prefixCls:"qxui",children:(0,y.jsx)(s_,{})})})};new Promise((function(e,t){if(wr.mount_node)return e(wr.mount_node);wr.onLoad.push((function(){e(wr.mount_node)}))})).then((function(e){(0,Tu.render)((0,y.jsx)(t,{}),e),function(e){var t=Rr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document);return t.length>0?t[0]:null}("preloader").style.display="none"})).catch((function(e){console.log("Could not load mount node",e)}))}(t),Or().then((function(e){e.addEventListener("click",(function(e){e.target.closest(".contextMenu-dropdown")||Er.click()})),e.addEventListener("contextmenu",(function(e){e.target.closest("#qx-fb-mount")||Er.click()}))})),window.document.addEventListener("contextmenu",(function(){Er.click()})),jQuery((function(){setTimeout((function(){_t(document.getElementById("jform_template_type"))||["editor","section","page","article","header","footer","mainbody"].includes(document.getElementById("jform_template_type").value)&&0===window.quix_initial_nodes_size&&i.emit("SHOW_TEMPLATE_MODAL",{path:null,tab:"Sections"})}),3e3)})),e=t.dispatch,window.addEventListener("message",(function(t){var n=t.data,r=n.type,o=n.path,i=n.content;"INLINE_EDITED_CONTENT"===r&&e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L_(Object(n),!0).forEach((function(t){B_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ke(o.node,o.value,i)))}))})).catch((function(e){console.log(e)}))}function U_(){(Et=ar(window.qx_elements),delete window.qx_elements,new Promise((function(e,t){Promise.all(Et.map((function(e){return new Promise((function(t,n){var r;(r="".concat(e.slug,"-schema"),new Promise((function(e,t){return Nt().getItem(r).then((function(t){return e(!!t)})).catch(t)}))).then((function(n){t({key:e.slug,loaded:n})})).catch(n)}))}))).then((function(n){var r=n.filter((function(e){return!e.loaded})).map((function(e){return e.key}));r.length>0?t(r):e()})).catch(t)}))).then((function(e){F_()})).catch((function(e){var t;e.length===At().length?Tr("loaderMessage").innerText="Preparing for first load...":Tr("loaderMessage").innerText="Loading missing elements...",(t=e,new Promise((function(e,n){jt().get("".concat(tt(),"/index.php?option=com_quix&task=element.getElements&elements=").concat(t.join(","))).then((function(t){e(t.data.data)})).catch(n)}))).then((function(e){for(var t in e.elements)e.elements.hasOwnProperty(t)&&(e.elements[t].default_node=JSON.parse(e.elements[t].default_node),e.elements[t].schema=JSON.parse(e.elements[t].schema));Promise.all([Dt(e.elements),Dt(e.special),Dt({js:e.js,css:e.css})]).then((function(){Tr("loaderMessage").innerText="Loaded",F_()})).catch((function(e){console.warn(e)}))})).catch((function(e){console.warn(e)}))}))}window.addEventListener("DOMContentLoaded",(function(){window.QUIXNXT_DEBUG?Nt().clear().then(U_):U_()})),window.addEventListener("load",(function(){window.document.body.style.height="100vh",window.document.body.style.overflow="hidden",window.document.body.querySelector("form.qx-fb")}))},23032:(e,t,n)=>{window.pkg_quix_public_path=`${window.quix.url}/index.php?version=${window.quix.version}&quix-asset=`,n.p=pkg_quix_public_path},19135:()=>{}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return l[e].call(n.exports,n,n.exports,c),n.loaded=!0,n.exports}c.m=l,e=[],c.O=(t,n,r,o)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,o]=e[u],a=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(c.O).every((e=>c.O[e](n[l])))?n.splice(l--,1):(a=!1,o<i&&(i=o));if(a){e.splice(u--,1);var s=r();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);c.r(o);var i={};t=t||[null,n({}),n([]),n(n)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,c.d(o,i),o},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>{if(325===e)return"js/325.js"},c.miniCssF=e=>325===e?"js/325.css":"builder/vendor.css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o="pkg_quix:",c.l=(e,t,n,i)=>{if(r[e])r[e].push(t);else{var a,l;if(void 0!==n)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var p=s[u];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==o+n){a=p;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,c.nc&&a.setAttribute("nonce",c.nc),a.setAttribute("data-webpack",o+n),a.src=e),r[e]=[t];var f=(t,n)=>{a.onerror=a.onload=null,clearTimeout(d);var o=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),c.j=850,c.p="/",i=e=>new Promise(((t,n)=>{var r=c.miniCssF(e),o=c.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),l=i&&i.target&&i.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=l,o.parentNode.removeChild(o),r(s)}},o.href=t,document.head.appendChild(o)})(e,o,t,n)})),a={850:0},c.f.miniCss=(e,t)=>{a[e]?t.push(a[e]):0!==a[e]&&{325:1}[e]&&t.push(a[e]=i(e).then((()=>{a[e]=0}),(t=>{throw delete a[e],t})))},(()=>{var e={850:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=c.p+c.u(t),a=new Error;c.l(i,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,a,l]=n,s=0;if(i.some((t=>0!==e[t]))){for(r in a)c.o(a,r)&&(c.m[r]=a[r]);if(l)var u=l(c)}for(t&&t(n);s<i.length;s++)o=i[s],c.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return c.O(u)},n=self.webpackChunkpkg_quix=self.webpackChunkpkg_quix||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),c.O(void 0,[610],(()=>c(30435))),c.O(void 0,[610],(()=>c(23032))),c.O(void 0,[610],(()=>c(54250)));var u=c.O(void 0,[610],(()=>c(22219)));u=c.O(u)})();